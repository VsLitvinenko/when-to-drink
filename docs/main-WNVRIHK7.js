import{$ as v,$a as T3,$b as v1,A as k2,Aa as j1,Ab as O2,B as m,Ba as g1,Bb as E2,C as w3,Ca as M1,Cb as Y3,D as L,Da as s2,Db as b1,E as _,Ea as d,Eb as n1,F as u3,Fa as x,Fb as J1,G as K,Ga as r1,Gb as M0,H as w0,Ha as U0,Hb as X3,I as m4,Ia as a2,Ib as J3,J as $0,Ja as i1,Jb as Z3,K as h,Ka as S2,Kb as t6,L as x3,La as l2,Lb as e6,M as f3,Ma as P,Mb as T2,N,Na as Q1,Nb as o6,O as h1,Oa as _3,Ob as i6,P as G,Pa as K1,Pb as j2,Q as z2,Qa as V3,Qb as Z1,R as M3,Ra as H1,Rb as s1,S as k3,Sa as B2,Sb as n6,T as z3,Ta as G1,Tb as s6,U as X,Ua as L2,Ub as a6,V as J,Va as A3,Vb as l6,W as q1,Wa as H3,Wb as r6,X as $1,Xa as b3,Xb as c6,Y as U1,Ya as x0,Yb as G0,Z as u,Za as O3,Zb as h6,_ as g,_a as E3,_b as D2,a as U,aa as y,ab as j3,ac as g6,b as r3,ba as y2,bb as f0,bc as Y0,c as f2,ca as C2,cb as D3,cc as t0,d as c3,da as w4,db as P3,dc as k1,e as M2,ea as q,eb as I3,ec as v6,f as m0,fa as V,fb as F3,fc as r2,g as R,ga as M,gb as _2,gc as D1,h as h3,ha as y3,hb as W0,hc as k0,i as V1,ia as C3,ib as R3,ic as d1,j as g3,ja as u4,jb as N3,jc as a1,k as u1,ka as x4,kb as b0,kc as z0,l as N0,la as f4,lb as V2,lc as P2,m as v3,ma as W1,mb as q3,mc as p1,n as n0,na as u0,nb as $3,o as q0,oa as I,ob as A2,p as s0,pa as S3,pb as U3,q as d3,qa as B1,qb as W3,r as S1,ra as f,rb as Q3,s as a0,sa as B3,sb as Y1,t as D,ta as k,tb as Q0,u as N1,ua as A1,ub as H2,v as $,va as L3,vb as b2,w as p3,wa as l0,wb as K3,x as m3,xa as r0,xb as K0,y as j,ya as c0,yb as X1,z as o1,za as f1,zb as G3}from"./chunk-TMYUA2WF.js";import"./chunk-Q6FFIHTR.js";import"./chunk-7KGURMOZ.js";import"./chunk-NKG53MNX.js";import"./chunk-62TPDNO2.js";import"./chunk-7PWDY3UP.js";import"./chunk-JRYKI6H5.js";import"./chunk-GIIU5PV3.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-SPMQWSIB.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as e1,b as _1,d as l3,f as n2,g as p4}from"./chunk-2R6CW7ES.js";var b=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(b||{}),O1="*";function M4(n,t){return{type:b.Trigger,name:n,definitions:t,options:{}}}function I2(n,t=null){return{type:b.Animate,styles:t,timings:n}}function k4(n,t=null){return{type:b.Group,steps:n,options:t}}function d6(n,t=null){return{type:b.Sequence,steps:n,options:t}}function y0(n){return{type:b.Style,styles:n,offset:null}}function z4(n,t,e=null){return{type:b.Transition,expr:n,animation:t,options:e}}function c2(n,t,e=null){return{type:b.Query,selector:n,animation:t,options:e}}var e0=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}},O0=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,o=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++o==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(o=>{let i=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(i)})}getPosition(){let t=this.players.reduce((e,o)=>e===null||o.totalTime>e.totalTime?o:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}},X0="!";function p6(n){return new j(3e3,!1)}function z8(){return new j(3100,!1)}function y8(){return new j(3101,!1)}function C8(n){return new j(3001,!1)}function S8(n){return new j(3003,!1)}function B8(n){return new j(3004,!1)}function w6(n,t){return new j(3005,!1)}function u6(){return new j(3006,!1)}function x6(){return new j(3007,!1)}function f6(n,t){return new j(3008,!1)}function M6(n){return new j(3002,!1)}function k6(n,t,e,o,i){return new j(3010,!1)}function z6(){return new j(3011,!1)}function y6(){return new j(3012,!1)}function C6(){return new j(3200,!1)}function S6(){return new j(3202,!1)}function B6(){return new j(3013,!1)}function L6(n){return new j(3014,!1)}function _6(n){return new j(3015,!1)}function V6(n){return new j(3016,!1)}function A6(n,t){return new j(3404,!1)}function L8(n){return new j(3502,!1)}function H6(n){return new j(3503,!1)}function b6(){return new j(3300,!1)}function O6(n){return new j(3504,!1)}function E6(n){return new j(3301,!1)}function T6(n,t){return new j(3302,!1)}function j6(n){return new j(3303,!1)}function D6(n,t){return new j(3400,!1)}function P6(n){return new j(3401,!1)}function I6(n){return new j(3402,!1)}function F6(n,t){return new j(3505,!1)}function h0(n){switch(n.length){case 0:return new e0;case 1:return n[0];default:return new O0(n)}}function B4(n,t,e=new Map,o=new Map){let i=[],s=[],a=-1,l=null;if(t.forEach(r=>{let c=r.get("offset"),p=c==a,w=p&&l||new Map;r.forEach((O,S)=>{let C=S,H=O;if(S!=="offset")switch(C=n.normalizePropertyName(C,i),H){case X0:H=e.get(S);break;case O1:H=o.get(S);break;default:H=n.normalizeStyleValue(S,C,H,i);break}w.set(C,H)}),p||s.push(w),l=w,a=c}),i.length)throw L8(i);return s}function F2(n,t,e,o){switch(t){case"start":n.onStart(()=>o(e&&y4(e,"start",n)));break;case"done":n.onDone(()=>o(e&&y4(e,"done",n)));break;case"destroy":n.onDestroy(()=>o(e&&y4(e,"destroy",n)));break}}function y4(n,t,e){let o=e.totalTime,i=!!e.disabled,s=R2(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,o??n.totalTime,i),a=n._data;return a!=null&&(s._data=a),s}function R2(n,t,e,o,i="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:o,phaseName:i,totalTime:s,disabled:!!a}}function z1(n,t,e){let o=n.get(t);return o||n.set(t,o=e),o}function L4(n){let t=n.indexOf(":"),e=n.substring(1,t),o=n.slice(t+1);return[e,o]}var _8=typeof document>"u"?null:document.documentElement;function N2(n){let t=n.parentNode||n.host||null;return t===_8?null:t}function V8(n){return n.substring(1,6)=="ebkit"}var E0=null,m6=!1;function R6(n){E0||(E0=A8()||{},m6=E0.style?"WebkitAppearance"in E0.style:!1);let t=!0;return E0.style&&!V8(n)&&(t=n in E0.style,!t&&m6&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in E0.style)),t}function A8(){return typeof document<"u"?document.body:null}function _4(n,t){for(;t;){if(t===n)return!0;t=N2(t)}return!1}function V4(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let o=n.querySelector(t);return o?[o]:[]}var H8=1e3,A4="{{",b8="}}",H4="ng-enter",q2="ng-leave",h2="ng-trigger",g2=".ng-trigger",b4="ng-animating",$2=".ng-animating";function o0(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:C4(parseFloat(t[1]),t[2])}function C4(n,t){switch(t){case"s":return n*H8;default:return n}}function v2(n,t,e){return n.hasOwnProperty("duration")?n:O8(n,t,e)}function O8(n,t,e){let o=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,a="";if(typeof n=="string"){let l=n.match(o);if(l===null)return t.push(p6(n)),{duration:0,delay:0,easing:""};i=C4(parseFloat(l[1]),l[2]);let r=l[3];r!=null&&(s=C4(parseFloat(r),l[4]));let c=l[5];c&&(a=c)}else i=n;if(!e){let l=!1,r=t.length;i<0&&(t.push(z8()),l=!0),s<0&&(t.push(y8()),l=!0),l&&t.splice(r,0,p6(n))}return{duration:i,delay:s,easing:a}}function N6(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function P1(n,t,e){t.forEach((o,i)=>{let s=U2(i);e&&!e.has(i)&&e.set(i,n.style[s]),n.style[s]=o})}function C0(n,t){t.forEach((e,o)=>{let i=U2(o);n.style[i]=""})}function J0(n){return Array.isArray(n)?n.length==1?n[0]:d6(n):n}function q6(n,t,e){let o=t.params||{},i=O4(n);i.length&&i.forEach(s=>{o.hasOwnProperty(s)||e.push(C8(s))})}var S4=new RegExp(`${A4}\\s*(.+?)\\s*${b8}`,"g");function O4(n){let t=[];if(typeof n=="string"){let e;for(;e=S4.exec(n);)t.push(e[1]);S4.lastIndex=0}return t}function Z0(n,t,e){let o=`${n}`,i=o.replace(S4,(s,a)=>{let l=t[a];return l==null&&(e.push(S8(a)),l=""),l.toString()});return i==o?n:i}var E8=/-+([a-z0-9])/g;function U2(n){return n.replace(E8,(...t)=>t[1].toUpperCase())}function $6(n,t){return n===0||t===0}function U6(n,t,e){if(e.size&&t.length){let o=t[0],i=[];if(e.forEach((s,a)=>{o.has(a)||i.push(a),o.set(a,s)}),i.length)for(let s=1;s<t.length;s++){let a=t[s];i.forEach(l=>a.set(l,W2(n,l)))}}return t}function y1(n,t,e){switch(t.type){case b.Trigger:return n.visitTrigger(t,e);case b.State:return n.visitState(t,e);case b.Transition:return n.visitTransition(t,e);case b.Sequence:return n.visitSequence(t,e);case b.Group:return n.visitGroup(t,e);case b.Animate:return n.visitAnimate(t,e);case b.Keyframes:return n.visitKeyframes(t,e);case b.Style:return n.visitStyle(t,e);case b.Reference:return n.visitReference(t,e);case b.AnimateChild:return n.visitAnimateChild(t,e);case b.AnimateRef:return n.visitAnimateRef(t,e);case b.Query:return n.visitQuery(t,e);case b.Stagger:return n.visitStagger(t,e);default:throw B8(t.type)}}function W2(n,t){return window.getComputedStyle(n)[t]}var Y4=(()=>{class n{validateStyleProperty(e){return R6(e)}containsElement(e,o){return _4(e,o)}getParentElement(e){return N2(e)}query(e,o,i){return V4(e,o,i)}computeStyle(e,o,i){return i||""}animate(e,o,i,s,a,l=[],r){return new e0(i,s)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=o1({token:n,factory:n.\u0275fac})}return n})(),j0=class{static NOOP=new Y4},D0=class{};var T8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),X2=class extends D0{normalizePropertyName(t,e){return U2(t)}normalizeStyleValue(t,e,o,i){let s="",a=o.toString().trim();if(T8.has(e)&&o!==0&&o!=="0")if(typeof o=="number")s="px";else{let l=o.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&i.push(w6(t,o))}return a+s}};var J2="*";function j8(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(o=>D8(o,e,t)):e.push(n),e}function D8(n,t,e){if(n[0]==":"){let r=P8(n,e);if(typeof r=="function"){t.push(r);return}n=r}let o=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(o==null||o.length<4)return e.push(_6(n)),t;let i=o[1],s=o[2],a=o[3];t.push(W6(i,a));let l=i==J2&&a==J2;s[0]=="<"&&!l&&t.push(W6(a,i))}function P8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return t.push(V6(n)),"* => *"}}var Q2=new Set(["true","1"]),K2=new Set(["false","0"]);function W6(n,t){let e=Q2.has(n)||K2.has(n),o=Q2.has(t)||K2.has(t);return(i,s)=>{let a=n==J2||n==i,l=t==J2||t==s;return!a&&e&&typeof i=="boolean"&&(a=i?Q2.has(n):K2.has(n)),!l&&o&&typeof s=="boolean"&&(l=s?Q2.has(t):K2.has(t)),a&&l}}var ot=":self",I8=new RegExp(`s*${ot}s*,?`,"g");function it(n,t,e,o){return new I4(n).build(t,e,o)}var Q6="",I4=class{_driver;constructor(t){this._driver=t}build(t,e,o){let i=new F4(e);return this._resetContextStyleTimingState(i),y1(this,J0(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=Q6,t.collectedStyles=new Map,t.collectedStyles.set(Q6,new Map),t.currentTime=0}visitTrigger(t,e){let o=e.queryCount=0,i=e.depCount=0,s=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(u6()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==b.State){let r=l,c=r.name;c.toString().split(/\s*,\s*/).forEach(p=>{r.name=p,s.push(this.visitState(r,e))}),r.name=c}else if(l.type==b.Transition){let r=this.visitTransition(l,e);o+=r.queryCount,i+=r.depCount,a.push(r)}else e.errors.push(x6())}),{type:b.Trigger,name:t.name,states:s,transitions:a,queryCount:o,depCount:i,options:null}}visitState(t,e){let o=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(o.containsDynamicStyles){let s=new Set,a=i||{};o.styles.forEach(l=>{l instanceof Map&&l.forEach(r=>{O4(r).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(f6(t.name,[...s.values()]))}return{type:b.State,name:t.name,style:o,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let o=y1(this,J0(t.animation),e),i=j8(t.expr,e.errors);return{type:b.Transition,matchers:i,animation:o,queryCount:e.queryCount,depCount:e.depCount,options:T0(t.options)}}visitSequence(t,e){return{type:b.Sequence,steps:t.steps.map(o=>y1(this,o,e)),options:T0(t.options)}}visitGroup(t,e){let o=e.currentTime,i=0,s=t.steps.map(a=>{e.currentTime=o;let l=y1(this,a,e);return i=Math.max(i,e.currentTime),l});return e.currentTime=i,{type:b.Group,steps:s,options:T0(t.options)}}visitAnimate(t,e){let o=q8(t.timings,e.errors);e.currentAnimateTimings=o;let i,s=t.styles?t.styles:y0({});if(s.type==b.Keyframes)i=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;let c={};o.easing&&(c.easing=o.easing),a=y0(c)}e.currentTime+=o.duration+o.delay;let r=this.visitStyle(a,e);r.isEmptyStep=l,i=r}return e.currentAnimateTimings=null,{type:b.Animate,timings:o,style:i,options:null}}visitStyle(t,e){let o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o}_makeStyleAst(t,e){let o=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of i)typeof l=="string"?l===O1?o.push(l):e.errors.push(M6(l)):o.push(new Map(Object.entries(l)));let s=!1,a=null;return o.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s)){for(let r of l.values())if(r.toString().indexOf(A4)>=0){s=!0;break}}}),{type:b.Style,styles:o,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let o=e.currentAnimateTimings,i=e.currentTime,s=e.currentTime;o&&s>0&&(s-=o.duration+o.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,r)=>{let c=e.collectedStyles.get(e.currentQuerySelector),p=c.get(r),w=!0;p&&(s!=i&&s>=p.startTime&&i<=p.endTime&&(e.errors.push(k6(r,p.startTime,p.endTime,s,i)),w=!1),s=p.startTime),w&&c.set(r,{startTime:s,endTime:i}),e.options&&q6(l,e.options,e.errors)})})}visitKeyframes(t,e){let o={type:b.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(z6()),o;let i=1,s=0,a=[],l=!1,r=!1,c=0,p=t.steps.map(Y=>{let Z=this._makeStyleAst(Y,e),m1=Z.offset!=null?Z.offset:N8(Z.styles),l1=0;return m1!=null&&(s++,l1=Z.offset=m1),r=r||l1<0||l1>1,l=l||l1<c,c=l1,a.push(l1),Z});r&&e.errors.push(y6()),l&&e.errors.push(C6());let w=t.steps.length,O=0;s>0&&s<w?e.errors.push(S6()):s==0&&(O=i/(w-1));let S=w-1,C=e.currentTime,H=e.currentAnimateTimings,W=H.duration;return p.forEach((Y,Z)=>{let m1=O>0?Z==S?1:O*Z:a[Z],l1=m1*W;e.currentTime=C+H.delay+l1,H.duration=l1,this._validateStyleAst(Y,e),Y.offset=m1,o.styles.push(Y)}),o}visitReference(t,e){return{type:b.Reference,animation:y1(this,J0(t.animation),e),options:T0(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:b.AnimateChild,options:T0(t.options)}}visitAnimateRef(t,e){return{type:b.AnimateRef,animation:this.visitReference(t.animation,e),options:T0(t.options)}}visitQuery(t,e){let o=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[s,a]=F8(t.selector);e.currentQuerySelector=o.length?o+" "+s:s,z1(e.collectedStyles,e.currentQuerySelector,new Map);let l=y1(this,J0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:b.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:T0(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(B6());let o=t.timings==="full"?{duration:0,delay:0,easing:"full"}:v2(t.timings,e.errors,!0);return{type:b.Stagger,animation:y1(this,J0(t.animation),e),timings:o,options:null}}};function F8(n){let t=!!n.split(/\s*,\s*/).find(e=>e==ot);return t&&(n=n.replace(I8,"")),n=n.replace(/@\*/g,g2).replace(/@\w+/g,e=>g2+"-"+e.slice(1)).replace(/:animating/g,$2),[n,t]}function R8(n){return n?e1({},n):null}var F4=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function N8(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let o=e;t=parseFloat(o.get("offset")),o.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function q8(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=v2(n,t).duration;return E4(s,0,"")}let e=n;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=E4(0,0,"");return s.dynamic=!0,s.strValue=e,s}let i=v2(e,t);return E4(i.duration,i.delay,i.easing)}function T0(n){return n?(n=e1({},n),n.params&&(n.params=R8(n.params))):n={},n}function E4(n,t,e){return{duration:n,delay:t,easing:e}}function X4(n,t,e,o,i,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:o,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:l}}var p2=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},$8=1,U8=":enter",W8=new RegExp(U8,"g"),Q8=":leave",K8=new RegExp(Q8,"g");function nt(n,t,e,o,i,s=new Map,a=new Map,l,r,c=[]){return new R4().buildKeyframes(n,t,e,o,i,s,a,l,r,c)}var R4=class{buildKeyframes(t,e,o,i,s,a,l,r,c,p=[]){c=c||new p2;let w=new N4(t,e,c,i,s,p,[]);w.options=r;let O=r.delay?o0(r.delay):0;w.currentTimeline.delayNextStep(O),w.currentTimeline.setStyles([a],null,w.errors,r),y1(this,o,w);let S=w.timelines.filter(C=>C.containsAnimation());if(S.length&&l.size){let C;for(let H=S.length-1;H>=0;H--){let W=S[H];if(W.element===e){C=W;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([l],null,w.errors,r)}return S.length?S.map(C=>C.buildKeyframes()):[X4(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let o=e.subInstructions.get(e.element);if(o){let i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(o,i,i.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,o),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,o){for(let i of t){let s=i?.delay;if(s){let a=typeof s=="number"?s:o0(Z0(s,i?.params??{},e.errors));o.delayNextStep(a)}}}_visitSubInstructions(t,e,o){let s=e.currentTimeline.currentTime,a=o.duration!=null?o0(o.duration):null,l=o.delay!=null?o0(o.delay):null;return a!==0&&t.forEach(r=>{let c=e.appendInstructionToTimeline(r,a,l);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),y1(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let o=e.subContextCount,i=e,s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==b.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Z2);let a=o0(s.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>y1(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>o&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let o=[],i=e.currentTimeline.currentTime,s=t.options&&t.options.delay?o0(t.options.delay):0;t.steps.forEach(a=>{let l=e.createSubContext(t.options);s&&l.delayNextStep(s),y1(this,a,l),i=Math.max(i,l.currentTimeline.currentTime),o.push(l.currentTimeline)}),o.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let o=t.strValue,i=e.params?Z0(o,e.params,e.errors):o;return v2(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let o=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),i.snapshotCurrentStyles());let s=t.style;s.type==b.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(o.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let o=e.currentTimeline,i=e.currentAnimateTimings;!i&&o.hasCurrentStyleProperties()&&o.forwardFrame();let s=i&&i.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(s):o.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let o=e.currentAnimateTimings,i=e.currentTimeline.duration,s=o.duration,l=e.createSubContext().currentTimeline;l.easing=o.easing,t.styles.forEach(r=>{let c=r.offset||0;l.forwardTime(c*s),l.setStyles(r.styles,r.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){let o=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?o0(i.delay):0;s&&(e.previousNode.type===b.Style||o==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Z2);let a=o,l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=l.length;let r=null;l.forEach((c,p)=>{e.currentQueryIndex=p;let w=e.createSubContext(t.options,c);s&&w.delayNextStep(s),c===e.element&&(r=w.currentTimeline),y1(this,t.animation,w),w.currentTimeline.applyStylesToKeyframe();let O=w.currentTimeline.currentTime;a=Math.max(a,O)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),r&&(e.currentTimeline.mergeTimelineCollectedStyles(r),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let o=e.parentContext,i=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1),r=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":r=l-r;break;case"full":r=o.currentStaggerTime;break}let p=e.currentTimeline;r&&p.delayNextStep(r);let w=p.currentTime;y1(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=i.currentTime-w+(i.startTime-o.currentTimeline.startTime)}},Z2={},N4=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Z2;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,o,i,s,a,l,r){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=l,this.currentTimeline=r||new t4(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let o=t,i=this.options;o.duration!=null&&(i.duration=o0(o.duration)),o.delay!=null&&(i.delay=o0(o.delay));let s=o.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Z0(s[l],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let o=t.params={};Object.keys(e).forEach(i=>{o[i]=e[i]})}}return t}createSubContext(t=null,e,o){let i=e||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,o||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Z2,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,o){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(o??0)+t.delay,easing:""},s=new q4(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,o,i,s,a){let l=[];if(i&&l.push(this.element),t.length>0){t=t.replace(W8,"."+this._enterClassName),t=t.replace(K8,"."+this._leaveClassName);let r=o!=1,c=this._driver.query(this.element,t,r);o!==0&&(c=o<0?c.slice(c.length+o,c.length):c.slice(0,o)),l.push(...c)}return!s&&l.length==0&&a.push(L6(e)),l}},t4=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,o,i){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=$8,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,o]of this._globalTimelineStyles)this._backFill.set(e,o||O1),this._currentKeyframe.set(e,O1);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,o,i){e&&this._previousKeyframe.set("easing",e);let s=i&&i.params||{},a=G8(t,this._globalTimelineStyles);for(let[l,r]of a){let c=Z0(r,s,o);this._pendingStyles.set(l,c),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??O1),this._updateStyle(l,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,o)=>{let i=this._styleSummary.get(o);(!i||e.time>i.time)&&this._updateStyle(o,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,o=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((l,r)=>{let c=new Map([...this._backFill,...l]);c.forEach((p,w)=>{p===X0?t.add(w):p===O1&&e.add(w)}),o||c.set("offset",r/this.duration),i.push(c)});let s=[...t.values()],a=[...e.values()];if(o){let l=i[0],r=new Map(l);l.set("offset",0),r.set("offset",1),i=[l,r]}return X4(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}},q4=class extends t4{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,o,i,s,a,l=!1){super(t,e,a.delay),this.keyframes=o,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:o,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],a=o+e,l=e/a,r=new Map(t[0]);r.set("offset",0),s.push(r);let c=new Map(t[0]);c.set("offset",K6(l)),s.push(c);let p=t.length-1;for(let w=1;w<=p;w++){let O=new Map(t[w]),S=O.get("offset"),C=e+S*o;O.set("offset",K6(C/a)),s.push(O)}o=a,e=0,i="",t=s}return X4(this.element,t,this.preStyleProps,this.postStyleProps,o,e,i,!0)}};function K6(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function G8(n,t){let e=new Map,o;return n.forEach(i=>{if(i==="*"){o??=t.keys();for(let s of o)e.set(s,O1)}else for(let[s,a]of i)e.set(s,a)}),e}function G6(n,t,e,o,i,s,a,l,r,c,p,w,O){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:o,toStyles:a,timelines:l,queriedElements:r,preStyleProps:c,postStyleProps:p,totalTime:w,errors:O}}var T4={},e4=class{_triggerName;ast;_stateStyles;constructor(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}match(t,e,o,i){return Y8(this.ast.matchers,t,e,o,i)}buildStyles(t,e,o){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,o):new Map}build(t,e,o,i,s,a,l,r,c,p){let w=[],O=this.ast.options&&this.ast.options.params||T4,S=l&&l.params||T4,C=this.buildStyles(o,S,w),H=r&&r.params||T4,W=this.buildStyles(i,H,w),Y=new Set,Z=new Map,m1=new Map,l1=i==="void",F0={params:st(H,O),delay:this.ast.options?.delay},F1=p?[]:nt(t,e,this.ast.animation,s,a,C,W,F0,c,w),w1=0;return F1.forEach(x1=>{w1=Math.max(x1.duration+x1.delay,w1)}),w.length?G6(e,this._triggerName,o,i,l1,C,W,[],[],Z,m1,w1,w):(F1.forEach(x1=>{let V0=x1.element,R0=z1(Z,V0,new Set);x1.preStyleProps.forEach(A0=>R0.add(A0));let i3=z1(m1,V0,new Set);x1.postStyleProps.forEach(A0=>i3.add(A0)),V0!==e&&Y.add(V0)}),G6(e,this._triggerName,o,i,l1,C,W,F1,[...Y.values()],Z,m1,w1))}};function Y8(n,t,e,o,i){return n.some(s=>s(t,e,o,i))}function st(n,t){let e=e1({},t);return Object.entries(n).forEach(([o,i])=>{i!=null&&(e[o]=i)}),e}var $4=class{styles;defaultParams;normalizer;constructor(t,e,o){this.styles=t,this.defaultParams=e,this.normalizer=o}buildStyles(t,e){let o=new Map,i=st(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{a&&(a=Z0(a,i,e));let r=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,r,a,e),o.set(l,a)})}),o}};function X8(n,t,e){return new U4(n,t,e)}var U4=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,o){this.name=t,this.ast=e,this._normalizer=o,e.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new $4(i.style,s,o))}),Y6(this.states,"true","1"),Y6(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new e4(t,i,this.states))}),this.fallbackTransition=J8(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,o,i){return this.transitionFactories.find(a=>a.match(t,e,o,i))||null}matchStyles(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)}};function J8(n,t,e){let o=[(a,l)=>!0],i={type:b.Sequence,steps:[],options:null},s={type:b.Transition,animation:i,matchers:o,options:null,queryCount:0,depCount:0};return new e4(n,s,t)}function Y6(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var Z8=new p2,W4=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o}register(t,e){let o=[],i=[],s=it(this._driver,e,o,i);if(o.length)throw H6(o);this._animations.set(t,s)}_buildPlayer(t,e,o){let i=t.element,s=B4(this._normalizer,t.keyframes,e,o);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,o={}){let i=[],s=this._animations.get(t),a,l=new Map;if(s?(a=nt(this._driver,e,s,H4,q2,new Map,new Map,o,Z8,i),a.forEach(p=>{let w=z1(l,p.element,new Map);p.postStyleProps.forEach(O=>w.set(O,null))})):(i.push(b6()),a=[]),i.length)throw O6(i);l.forEach((p,w)=>{p.forEach((O,S)=>{p.set(S,this._driver.computeStyle(w,S,O1))})});let r=a.map(p=>{let w=l.get(p.element);return this._buildPlayer(p,new Map,w)}),c=h0(r);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw E6(t);return e}listen(t,e,o,i){let s=R2(e,"","","");return F2(this._getPlayer(t),o,s,i),()=>{}}command(t,e,o,i){if(o=="register"){this.register(t,i[0]);return}if(o=="create"){let a=i[0]||{};this.create(t,e,a);return}let s=this._getPlayer(t);switch(o){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},X6="ng-animate-queued",te=".ng-animate-queued",j4="ng-animate-disabled",ee=".ng-animate-disabled",oe="ng-star-inserted",ie=".ng-star-inserted",ne=[],at={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},se={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},I1="__ng_removed",m2=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let o=t&&t.hasOwnProperty("value"),i=o?t.value:t;if(this.value=le(i),o){let s=t,{value:a}=s,l=l3(s,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let o=this.options.params;Object.keys(e).forEach(i=>{o[i]==null&&(o[i]=e[i])})}}},d2="void",D4=new m2(d2),Q4=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this._hostClassName="ng-tns-"+t,E1(e,this._hostClassName)}listen(t,e,o,i){if(!this._triggers.has(e))throw T6(o,e);if(o==null||o.length==0)throw j6(e);if(!re(o))throw D6(o,e);let s=z1(this._elementListeners,t,[]),a={name:e,phase:o,callback:i};s.push(a);let l=z1(this._engine.statesByElement,t,new Map);return l.has(e)||(E1(t,h2),E1(t,h2+"-"+e),l.set(e,D4)),()=>{this._engine.afterFlush(()=>{let r=s.indexOf(a);r>=0&&s.splice(r,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw P6(t);return e}trigger(t,e,o,i=!0){let s=this._getTrigger(e),a=new w2(this.id,e,t),l=this._engine.statesByElement.get(t);l||(E1(t,h2),E1(t,h2+"-"+e),this._engine.statesByElement.set(t,l=new Map));let r=l.get(e),c=new m2(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&r&&c.absorbOptions(r.options),l.set(e,c),r||(r=D4),!(c.value===d2)&&r.value===c.value){if(!ge(r.params,c.params)){let H=[],W=s.matchStyles(r.value,r.params,H),Y=s.matchStyles(c.value,c.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{C0(t,W),P1(t,Y)})}return}let O=z1(this._engine.playersByElement,t,[]);O.forEach(H=>{H.namespaceId==this.id&&H.triggerName==e&&H.queued&&H.destroy()});let S=s.matchTransition(r.value,c.value,t,c.params),C=!1;if(!S){if(!i)return;S=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:r,toState:c,player:a,isFallbackTransition:C}),C||(E1(t,X6),a.onStart(()=>{t2(t,X6)})),a.onDone(()=>{let H=this.players.indexOf(a);H>=0&&this.players.splice(H,1);let W=this._engine.playersByElement.get(t);if(W){let Y=W.indexOf(a);Y>=0&&W.splice(Y,1)}}),this.players.push(a),O.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let o=this._engine.driver.query(t,g2,!0);o.forEach(i=>{if(i[I1])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,o,i){let s=this._engine.statesByElement.get(t),a=new Map;if(s){let l=[];if(s.forEach((r,c)=>{if(a.set(c,r.value),this._triggers.has(c)){let p=this.trigger(t,c,d2,i);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),o&&h0(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(e&&o){let i=new Set;e.forEach(s=>{let a=s.name;if(i.has(a))return;i.add(a);let r=this._triggers.get(a).fallbackTransition,c=o.get(a)||D4,p=new m2(d2),w=new w2(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:r,fromState:c,toState:p,player:w,isFallbackTransition:!0})})}}removeNode(t,e){let o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(o.totalAnimations){let s=o.players.length?o.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let a=t;for(;a=a.parentNode;)if(o.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)o.markElementAsRemoved(this.id,t,!1,e);else{let s=t[I1];(!s||s===at)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,e))}}insertNode(t,e){E1(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(o=>{let i=o.player;if(i.destroyed)return;let s=o.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==o.triggerName){let r=R2(s,o.triggerName,o.fromState.value,o.toState.value);r._data=t,F2(o.player,l.phase,r,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(o)}),this._queue=[],e.sort((o,i)=>{let s=o.transition.ast.depCount,a=i.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(o.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},K4=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,e){let o=new Q4(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,e){let o=this._namespaceList,i=this.namespacesByHostElement;if(o.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){let r=i.get(l);if(r){let c=o.indexOf(r);o.splice(c+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||o.unshift(t)}else o.push(t);return i.set(e,t),t}register(t,e){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o}registerTrigger(t,e,o){let i=this._namespaceLookup[t];i&&i.register(e,o)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let o=this._fetchNamespace(t);this.namespacesByHostElement.delete(o.hostElement);let i=this._namespaceList.indexOf(o);i>=0&&this._namespaceList.splice(i,1),o.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,o=this.statesByElement.get(t);if(o){for(let i of o.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}}return e}trigger(t,e,o,i){if(G2(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,o,i),!0}return!1}insertNode(t,e,o,i){if(!G2(e))return;let s=e[I1];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,o)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),E1(t,j4)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),t2(t,j4))}removeNode(t,e,o){if(G2(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,o)}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,o,i,s){this.collectedLeaveElements.push(e),e[I1]={namespaceId:t,setForRemoval:i,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,o,i,s){return G2(e)?this._fetchNamespace(t).listen(e,o,i,s):()=>{}}_buildInstruction(t,e,o,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,g2,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,$2,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return h0(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[I1];if(e&&e.setForRemoval){if(t[I1]=at,e.namespaceId){this.destroyInnerAnimations(t);let o=this._fetchNamespace(e.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(j4)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ee,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,i)=>this._balanceNamespaceList(o,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++){let i=this.collectedEnterElements[o];E1(i,oe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let o=[];try{e=this._flushAnimations(o,t)}finally{for(let i=0;i<o.length;i++)o[i]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++){let i=this.collectedLeaveElements[o];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){let o=this._whenQuietFns;this._whenQuietFns=[],e.length?h0(e).onDone(()=>{o.forEach(i=>i())}):o.forEach(i=>i())}}reportError(t){throw I6(t)}_flushAnimations(t,e){let o=new p2,i=[],s=new Map,a=[],l=new Map,r=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(z=>{p.add(z);let B=this.driver.query(z,te,!0);for(let A=0;A<B.length;A++)p.add(B[A])});let w=this.bodyNode,O=Array.from(this.statesByElement.keys()),S=tt(O,this.collectedEnterElements),C=new Map,H=0;S.forEach((z,B)=>{let A=H4+H++;C.set(B,A),z.forEach(T=>E1(T,A))});let W=[],Y=new Set,Z=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){let B=this.collectedLeaveElements[z],A=B[I1];A&&A.setForRemoval&&(W.push(B),Y.add(B),A.hasAnimation?this.driver.query(B,ie,!0).forEach(T=>Y.add(T)):Z.add(B))}let m1=new Map,l1=tt(O,Array.from(Y));l1.forEach((z,B)=>{let A=q2+H++;m1.set(B,A),z.forEach(T=>E1(T,A))}),t.push(()=>{S.forEach((z,B)=>{let A=C.get(B);z.forEach(T=>t2(T,A))}),l1.forEach((z,B)=>{let A=m1.get(B);z.forEach(T=>t2(T,A))}),W.forEach(z=>{this.processLeaveNode(z)})});let F0=[],F1=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(e).forEach(A=>{let T=A.player,t1=A.element;if(F0.push(T),this.collectedEnterElements.length){let c1=t1[I1];if(c1&&c1.setForMove){if(c1.previousTriggersValues&&c1.previousTriggersValues.has(A.triggerName)){let H0=c1.previousTriggersValues.get(A.triggerName),L1=this.statesByElement.get(A.element);if(L1&&L1.has(A.triggerName)){let x2=L1.get(A.triggerName);x2.value=H0,L1.set(A.triggerName,x2)}}T.destroy();return}}let R1=!w||!this.driver.containsElement(w,t1),C1=m1.get(t1),p0=C.get(t1),Q=this._buildInstruction(A,o,p0,C1,R1);if(Q.errors&&Q.errors.length){F1.push(Q);return}if(R1){T.onStart(()=>C0(t1,Q.fromStyles)),T.onDestroy(()=>P1(t1,Q.toStyles)),i.push(T);return}if(A.isFallbackTransition){T.onStart(()=>C0(t1,Q.fromStyles)),T.onDestroy(()=>P1(t1,Q.toStyles)),i.push(T);return}let a3=[];Q.timelines.forEach(c1=>{c1.stretchStartingKeyframe=!0,this.disabledNodes.has(c1.element)||a3.push(c1)}),Q.timelines=a3,o.append(t1,Q.timelines);let k8={instruction:Q,player:T,element:t1};a.push(k8),Q.queriedElements.forEach(c1=>z1(l,c1,[]).push(T)),Q.preStyleProps.forEach((c1,H0)=>{if(c1.size){let L1=r.get(H0);L1||r.set(H0,L1=new Set),c1.forEach((x2,d4)=>L1.add(d4))}}),Q.postStyleProps.forEach((c1,H0)=>{let L1=c.get(H0);L1||c.set(H0,L1=new Set),c1.forEach((x2,d4)=>L1.add(d4))})});if(F1.length){let z=[];F1.forEach(B=>{z.push(F6(B.triggerName,B.errors))}),F0.forEach(B=>B.destroy()),this.reportError(z)}let w1=new Map,x1=new Map;a.forEach(z=>{let B=z.element;o.has(B)&&(x1.set(B,B),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,w1))}),i.forEach(z=>{let B=z.element;this._getPreviousPlayers(B,!1,z.namespaceId,z.triggerName,null).forEach(T=>{z1(w1,B,[]).push(T),T.destroy()})});let V0=W.filter(z=>et(z,r,c)),R0=new Map;Z6(R0,this.driver,Z,c,O1).forEach(z=>{et(z,r,c)&&V0.push(z)});let A0=new Map;S.forEach((z,B)=>{Z6(A0,this.driver,new Set(z),r,X0)}),V0.forEach(z=>{let B=R0.get(z),A=A0.get(z);R0.set(z,new Map([...B?.entries()??[],...A?.entries()??[]]))});let v4=[],n3=[],s3={};a.forEach(z=>{let{element:B,player:A,instruction:T}=z;if(o.has(B)){if(p.has(B)){A.onDestroy(()=>P1(B,T.toStyles)),A.disabled=!0,A.overrideTotalTime(T.totalTime),i.push(A);return}let t1=s3;if(x1.size>1){let C1=B,p0=[];for(;C1=C1.parentNode;){let Q=x1.get(C1);if(Q){t1=Q;break}p0.push(C1)}p0.forEach(Q=>x1.set(Q,t1))}let R1=this._buildAnimation(A.namespaceId,T,w1,s,A0,R0);if(A.setRealPlayer(R1),t1===s3)v4.push(A);else{let C1=this.playersByElement.get(t1);C1&&C1.length&&(A.parentPlayer=h0(C1)),i.push(A)}}else C0(B,T.fromStyles),A.onDestroy(()=>P1(B,T.toStyles)),n3.push(A),p.has(B)&&i.push(A)}),n3.forEach(z=>{let B=s.get(z.element);if(B&&B.length){let A=h0(B);z.setRealPlayer(A)}}),i.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<W.length;z++){let B=W[z],A=B[I1];if(t2(B,q2),A&&A.hasAnimation)continue;let T=[];if(l.size){let R1=l.get(B);R1&&R1.length&&T.push(...R1);let C1=this.driver.query(B,$2,!0);for(let p0=0;p0<C1.length;p0++){let Q=l.get(C1[p0]);Q&&Q.length&&T.push(...Q)}}let t1=T.filter(R1=>!R1.destroyed);t1.length?ce(this,B,t1):this.processLeaveNode(B)}return W.length=0,v4.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();let B=this.players.indexOf(z);this.players.splice(B,1)}),z.play()}),v4}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,o,i,s){let a=[];if(e){let l=this.playersByQueriedElement.get(t);l&&(a=l)}else{let l=this.playersByElement.get(t);if(l){let r=!s||s==d2;l.forEach(c=>{c.queued||!r&&c.triggerName!=i||a.push(c)})}}return(o||i)&&(a=a.filter(l=>!(o&&o!=l.namespaceId||i&&i!=l.triggerName))),a}_beforeAnimationBuild(t,e,o){let i=e.triggerName,s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:i;for(let r of e.timelines){let c=r.element,p=c!==s,w=z1(o,c,[]);this._getPreviousPlayers(c,p,a,l,e.toState).forEach(S=>{let C=S.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),S.destroy(),w.push(S)})}C0(s,e.fromStyles)}_buildAnimation(t,e,o,i,s,a){let l=e.triggerName,r=e.element,c=[],p=new Set,w=new Set,O=e.timelines.map(C=>{let H=C.element;p.add(H);let W=H[I1];if(W&&W.removedBeforeQueried)return new e0(C.duration,C.delay);let Y=H!==r,Z=he((o.get(H)||ne).map(w1=>w1.getRealPlayer())).filter(w1=>{let x1=w1;return x1.element?x1.element===H:!1}),m1=s.get(H),l1=a.get(H),F0=B4(this._normalizer,C.keyframes,m1,l1),F1=this._buildPlayer(C,F0,Z);if(C.subTimeline&&i&&w.add(H),Y){let w1=new w2(t,l,H);w1.setRealPlayer(F1),c.push(w1)}return F1});c.forEach(C=>{z1(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>ae(this.playersByQueriedElement,C.element,C))}),p.forEach(C=>E1(C,b4));let S=h0(O);return S.onDestroy(()=>{p.forEach(C=>t2(C,b4)),P1(r,e.toStyles)}),w.forEach(C=>{z1(i,C,[]).push(S)}),S}_buildPlayer(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new e0(t.duration,t.delay)}},w2=class{namespaceId;triggerName;element;_player=new e0;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,o)=>{e.forEach(i=>F2(t,o,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){z1(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ae(n,t,e){let o=n.get(t);if(o){if(o.length){let i=o.indexOf(e);o.splice(i,1)}o.length==0&&n.delete(t)}return o}function le(n){return n??null}function G2(n){return n&&n.nodeType===1}function re(n){return n=="start"||n=="done"}function J6(n,t){let e=n.style.display;return n.style.display=t??"none",e}function Z6(n,t,e,o,i){let s=[];e.forEach(r=>s.push(J6(r)));let a=[];o.forEach((r,c)=>{let p=new Map;r.forEach(w=>{let O=t.computeStyle(c,w,i);p.set(w,O),(!O||O.length==0)&&(c[I1]=se,a.push(c))}),n.set(c,p)});let l=0;return e.forEach(r=>J6(r,s[l++])),a}function tt(n,t){let e=new Map;if(n.forEach(l=>e.set(l,[])),t.length==0)return e;let o=1,i=new Set(t),s=new Map;function a(l){if(!l)return o;let r=s.get(l);if(r)return r;let c=l.parentNode;return e.has(c)?r=c:i.has(c)?r=o:r=a(c),s.set(l,r),r}return t.forEach(l=>{let r=a(l);r!==o&&e.get(r).push(l)}),e}function E1(n,t){n.classList?.add(t)}function t2(n,t){n.classList?.remove(t)}function ce(n,t,e){h0(e).onDone(()=>n.processLeaveNode(t))}function he(n){let t=[];return lt(n,t),t}function lt(n,t){for(let e=0;e<n.length;e++){let o=n[e];o instanceof O0?lt(o.players,t):t.push(o)}}function ge(n,t){let e=Object.keys(n),o=Object.keys(t);if(e.length!=o.length)return!1;for(let i=0;i<e.length;i++){let s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}function et(n,t,e){let o=e.get(n);if(!o)return!1;let i=t.get(n);return i?o.forEach(s=>i.add(s)):t.set(n,o),e.delete(n),!0}var e2=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,o){this._driver=e,this._normalizer=o,this._transitionEngine=new K4(t.body,e,o),this._timelineEngine=new W4(t.body,e,o),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,o,i,s){let a=t+"-"+i,l=this._triggerCache[a];if(!l){let r=[],c=[],p=it(this._driver,s,r,c);if(r.length)throw A6(i,r);l=X8(i,p,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,i,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,o,i){this._transitionEngine.insertNode(t,e,o,i)}onRemove(t,e,o){this._transitionEngine.removeNode(t,e,o)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,o,i){if(o.charAt(0)=="@"){let[s,a]=L4(o),l=i;this._timelineEngine.command(s,e,a,l)}else this._transitionEngine.trigger(t,e,o,i)}listen(t,e,o,i,s){if(o.charAt(0)=="@"){let[a,l]=L4(o);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,o,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function ve(n,t){let e=null,o=null;return Array.isArray(t)&&t.length?(e=P4(t[0]),t.length>1&&(o=P4(t[t.length-1]))):t instanceof Map&&(e=P4(t)),e||o?new de(n,e,o):null}var de=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,o,i){this._element=e,this._startStyles=o,this._endStyles=i;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&P1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(P1(this._element,this._initialStyles),this._endStyles&&(P1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(C0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(C0(this._element,this._endStyles),this._endStyles=null),P1(this._element,this._initialStyles),this._state=3)}}return n})();function P4(n){let t=null;return n.forEach((e,o)=>{pe(o)&&(t=t||new Map,t.set(o,e))}),t}function pe(n){return n==="display"||n==="position"}var o4=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,o,i){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=i,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(o=>{e.push(Object.fromEntries(o))}),e}_triggerWebAnimation(t,e,o){return t.animate(this._convertKeyframesToObject(e),o)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,i)=>{i!=="offset"&&t.set(i,this._finished?o:W2(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}},i4=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return _4(t,e)}getParentElement(t){return N2(t)}query(t,e,o){return V4(t,e,o)}computeStyle(t,e,o){return W2(t,e)}animate(t,e,o,i,s,a=[]){let l=i==0?"both":"forwards",r={duration:o,delay:i,fill:l};s&&(r.easing=s);let c=new Map,p=a.filter(S=>S instanceof o4);$6(o,i)&&p.forEach(S=>{S.currentSnapshot.forEach((C,H)=>c.set(H,C))});let w=N6(e).map(S=>new Map(S));w=U6(t,w,c);let O=ve(t,w);return new o4(t,w,r,O)}};var Y2="@",rt="@.disabled",n4=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,o,i){this.namespaceId=t,this.delegate=e,this.engine=o,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,o,i=!0){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,o){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,i){this.delegate.setAttribute(t,e,o,i)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,i){this.delegate.setStyle(t,e,o,i)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){e.charAt(0)==Y2&&e==rt?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o,i){return this.delegate.listen(t,e,o,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},G4=class extends n4{factory;constructor(t,e,o,i,s){super(e,o,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,o){e.charAt(0)==Y2?e.charAt(1)=="."&&e==rt?(o=o===void 0?!0:!!o,this.disableAnimations(t,o)):this.engine.process(this.namespaceId,t,e.slice(1),o):this.delegate.setProperty(t,e,o)}listen(t,e,o,i){if(e.charAt(0)==Y2){let s=me(t),a=e.slice(1),l="";return a.charAt(0)!=Y2&&([a,l]=we(a)),this.engine.listen(this.namespaceId,s,a,l,r=>{let c=r._data||-1;this.factory.scheduleListenerCallback(c,o,r)})}return this.delegate.listen(t,e,o,i)}};function me(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function we(n){let t=n.indexOf("."),e=n.substring(0,t),o=n.slice(t+1);return[e,o]}var s4=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,o){this.delegate=t,this.engine=e,this._zone=o,e.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(t,e){let o="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,p=c.get(i);if(!p){let w=()=>c.delete(i);p=new n4(o,i,this.engine,w),c.set(i,p)}return p}let s=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,t,c.name,c)};return e.data.animation.forEach(l),new G4(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,o){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(o));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),i.push([e,o])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var xe=(()=>{class n extends e2{constructor(e,o,i){super(e,o,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(o){return new(o||n)(k2(u3),k2(j0),k2(D0))};static \u0275prov=o1({token:n,factory:n.\u0275fac})}return n})();function fe(){return new X2}function Me(n,t,e){return new s4(n,t,e)}var ct=[{provide:D0,useFactory:fe},{provide:e2,useClass:xe},{provide:x3,useFactory:Me,deps:[H3,e2,M3]}],U5=[{provide:j0,useClass:Y4},{provide:m4,useValue:"NoopAnimations"},...ct],ke=[{provide:j0,useFactory:()=>new i4},{provide:m4,useFactory:()=>"BrowserAnimations"},...ct];function ht(){return f3("NgEagerAnimations"),[...ke]}function gt(n,t){let e=`${G0.apiUrl}/${n.url}`,o=n.clone({url:e});return t(o)}var vt="query_id=AAELkhMXAAAAAAuSExcjQJEc&user=%7B%22id%22%3A387158539%2C%22first_name%22%3A%22Vyacheslav%22%2C%22last_name%22%3A%22Litvinenko%22%2C%22username%22%3A%22tiltvinenko%22%2C%22language_code%22%3A%22ru%22%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FV1FcghvcCWb_4wRuaWj3i9iwCWroGAdULGkKcbd41_g.svg%22%7D&auth_date=1752430176&signature=rRDJM6Chom1i2yZJaSAEoUL96pVLpRGCFLTh_UFmzFcwccUAHrhj_ZarwdLn5pELmgjRSZ8E9VW4kqwcnSVjDg&hash=5bd59cf35b1f1cdbf1c409f93c79d3cea2457b30f196a36b640ab6db194e7248";function dt(n,t){let e="Authorization",o=m(k1);return(G0.isTelegramMiniApp?o.initData$:m0(vt)).pipe(D(s=>{let a=n.clone({headers:n.headers.append(e,s)});return t(a)}))}function pt(n,t){let e=m(t0),o=m(f0);return t(n.clone()).pipe(v3(i=>{if(i.status===404&&i.error.processed)o.navigate(["not-found"]);else if(i.status===401||i.status===403)o.navigate(["not-permitted"]);else{let s=i.error.message??i.message;e.error(s,"alert-circle-outline")}return c3}))}var mt={Search:{en:"Search",ru:"\u041F\u043E\u0438\u0441\u043A"}};var o2=(()=>{let t=class t{set src(o){o?(this.img.src=o,this.showPlaceholder()):this.img.src=this.imgPlaceholder}get img(){return this.elRef.nativeElement}constructor(){this.imgPlaceholder="assets/no-avatar.png",this.elRef=m(w0),this.placeholderEl=this.createPlaceholderEl(),this.img.onload=()=>this.hidePlaceholder()}showPlaceholder(){let o=this.placeholderEl;o.style.width=`${this.img.width+2}px`,o.style.height=`${this.img.offsetHeight+2}px`,o.style.top=`${this.img.offsetTop-1}px`,o.style.left=`${this.img.offsetLeft-1}px`,o.style.borderRadius=window.getComputedStyle(this.img).getPropertyValue("border-radius"),this.img.after(this.placeholderEl)}hidePlaceholder(){this.placeholderEl.remove()}createPlaceholderEl(){let o=document.createElement("div");return o.style.zIndex="1",o.style.position="absolute",o.className="skeleton-placeholder",o}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appImgLoad",""]],inputs:{src:"src",imgPlaceholder:"imgPlaceholder"}});let n=t;return n})();var S0=(()=>{let t=class t{set placeholderOpacity(o){this.placeholderEl.style.opacity=o}get el(){return this.elRef.nativeElement}constructor(){this.elRef=m(w0),this.placeholderEl=this.createPlaceholderEl(),this.loadingCounter$=new r3(0),this.loading$=this.loadingCounter$.pipe(R(o=>o>0),q0()),this.destroyed$=new U}ngOnInit(){this.el.style.position="relative",this.loading$.pipe(N1(this.destroyed$)).subscribe(o=>o?this.onLoadStarts():this.onLoadEnds())}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}incrLoading(){this.loadingCounter$.next(this.loadingCounter$.value+1)}decrLoading(){this.loadingCounter$.next(this.loadingCounter$.value-1)}onLoadStarts(){this.el.appendChild(this.placeholderEl)}onLoadEnds(){this.placeholderEl.remove()}createPlaceholderEl(){let o=document.createElement("div");return o.style.zIndex="2",o.style.position="absolute",o.style.top="0",o.style.bottom="0",o.style.left="0",o.style.right="0",o.style.pointerEvents="none",o.style.borderRadius="0.5rem",o.className="skeleton-placeholder",o}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appFeatureLoad",""]],inputs:{placeholderOpacity:"placeholderOpacity"},exportAs:["appFeatureLoad"]});let n=t;return n})();var ze=["altLabel"],ye=["end"],wt=(n,t)=>({$implicit:n,index:t});function Ce(n,t){if(n&1&&w4(0,6),n&2){let e=M(),o=e.$implicit,i=e.$index,s=M();u("ngTemplateOutlet",s.altLabelTemplateRef)("ngTemplateOutletContext",s2(2,wt,o,i))}}function Se(n,t){if(n&1&&(g(0,"ion-label"),f(1),v()),n&2){let e=M().$implicit;h(),k(" ",e.fullName," ")}}function Be(n,t){if(n&1&&w4(0,6),n&2){let e=M(),o=e.$implicit,i=e.$index,s=M();u("ngTemplateOutlet",s.endTemplateRef)("ngTemplateOutletContext",s2(2,wt,o,i))}}function Le(n,t){if(n&1){let e=q();g(0,"ion-item",3),V("click",function(){let i=L(e),s=i.$implicit,a=i.$index,l=M();return _(l.onUserClicked(a,s))}),g(1,"ion-avatar",4),y(2,"img",5),v(),X(3,Ce,1,5,"ng-container",6)(4,Se,2,1,"ion-label"),X(5,Be,1,5,"ng-container",6),v()}if(n&2){let e=t.$implicit,o=t.$index,i=t.$count,s=M();u("lines",o===i-1?"none":"")("button",s.clickable()),h(2),u("src",e.photoUrl,$0),h(),J(s.altLabelTemplateRef?3:4),h(2),J(s.endTemplateRef?5:-1)}}var a4=(()=>{let t=class t{constructor(){this.clickable=P(!1),this.users=P.required(),this.searchStr=K(null),this.filteredUsers=i1(()=>{let o=this.users(),i=this.searchStr()?.toLowerCase();return i?o.filter(s=>s.fullName.toLowerCase().includes(i)):o}),this.searchFocused=l2(),this.userClicked=l2(),this.UsersListLocalize=mt}onUserClicked(o,i){this.clickable()&&this.userClicked.emit({index:o,user:e1({},i)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-users-list"]],contentQueries:function(i,s,a){if(i&1&&(u4(a,ze,7),u4(a,ye,7)),i&2){let l;x4(l=f4())&&(s.altLabelTemplateRef=l.first),x4(l=f4())&&(s.endTemplateRef=l.first)}},inputs:{clickable:[1,"clickable"],users:[1,"users"]},outputs:{searchFocused:"searchFocused",userClicked:"userClicked"},decls:5,vars:4,consts:[["mode","ios","clear-icon","close-outline",3,"ionInput","ionFocus","ionBlur","debounce","placeholder"],["mode","ios"],[3,"lines","button"],[3,"click","lines","button"],["slot","start"],["appImgLoad","",3,"src"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){i&1&&(g(0,"ion-searchbar",0),d(1,"localize"),V("ionInput",function(l){return s.searchStr.set(l.detail.value)})("ionFocus",function(){return s.searchFocused.emit(!0)})("ionBlur",function(){return s.searchFocused.emit(!1)}),v(),g(2,"ion-list",1),$1(3,Le,6,5,"ion-item",2,q1),v()),i&2&&(u("debounce",300)("placeholder",x(1,2,s.UsersListLocalize.Search)),h(3),U1(s.filteredUsers()))},dependencies:[L2,V3,a1,J1,b1,K0,n1,a6,o2],styles:["[_nghost-%COMP%]{height:100%;position:relative}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0}ion-list[_ngcontent-%COMP%]{background:transparent;max-height:calc(100% - 3.75rem);overflow-y:auto}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-label[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"]});let n=t;return n})();function _e(n,t){if(n&1&&(g(0,"ion-avatar"),y(1,"img",1),v()),n&2){let e=t.$implicit,o=t.$index,i=t.$count;S3("z-index",i-o),h(),u("src",e.photoUrl,$0)}}var ut=(()=>{let t=class t{constructor(){this.users=P.required(),this.maxCount=P(8),this.sliced=i1(()=>this.users().slice(0,this.maxCount()))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-avatars-list"]],inputs:{users:[1,"users"],maxCount:[1,"maxCount"]},decls:2,vars:0,consts:[[3,"zIndex"],["appImgLoad","","alt","",3,"src"]],template:function(i,s){i&1&&$1(0,_e,2,3,"ion-avatar",0,q1),i&2&&U1(s.sliced())},dependencies:[L2,K0,o2],styles:["[_nghost-%COMP%]{display:flex}ion-avatar[_ngcontent-%COMP%]{width:1.6rem;height:1.6rem}ion-avatar[_ngcontent-%COMP%]:not(:last-child){margin-right:-.7rem}"]});let n=t;return n})();var P0={Member:{en:"member",ru:"\u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A"},Initiator:{en:"Initiator",ru:"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u043E\u0440"},Starts:{en:"Starts",ru:"\u041D\u0430\u0447\u0430\u043B\u043E"},Ends:{en:"Ends",ru:"\u041A\u043E\u043D\u0435\u0446"},DaysOfWeek:{en:"Days of week",ru:"\u0414\u043D\u0438 \u043D\u0435\u0434\u0435\u043B\u0438"},Description:{en:"Description",ru:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},Refresh:{en:"Refresh",ru:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C"},Share:{en:"Share",ru:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F"},Link:{en:"Link",ru:"\u0421\u0441\u044B\u043B\u043A\u0430"},Edit:{en:"Edit",ru:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"},Delete:{en:"Delete",ru:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"},ClipboardLink:{en:"Link was copied to clipboard",ru:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430"},EventWasDeleted:{en:"Event was successfully deleted",ru:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u044B\u043B\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u043E"},DeleteQuestion:{en:"Delete event?",ru:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435?"},CannotBeUndone:{en:"This cannot be undone",ru:"\u042D\u0442\u043E \u043D\u0435\u043B\u044C\u0437\u044F \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C"}};var xt={Cancel:{en:"Cancel",ru:"\u041E\u0442\u043C\u0435\u043D\u0430"}};var T1=(()=>{let t=class t{constructor(){this.local=m(d1),this.cancelText=this.local.localizeSync(xt.Cancel)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o1({token:t,factory:t.\u0275fac});let n=t;return n})();var ft=(()=>{let t=class t extends T1{constructor(){super(),this.tg=m(k1)}createConfirm(o){let i=new U;return this.tg.miniApp$.pipe($(s=>{if(!s){i.next(!1),i.complete();return}let a={title:o.header,message:o.message,buttons:[{id:"ok",text:o.okText??"OK",type:o.okDanger?"destructive":"default"},{id:"cancel",text:o.cancelText,type:o.cancelText?"default":"cancel"}]};s.showPopup(a,l=>{i.next(l==="ok"),i.complete()})}),D(()=>i.asObservable()))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o1({token:t,factory:t.\u0275fac});let n=t;return n})();var Mt=(()=>{let t=class t extends T1{constructor(){super(),this.alert=m(i6)}createConfirm(o){let i=new U;return this.alert.create({mode:"ios",header:o.header,message:o.message,backdropDismiss:!1,buttons:[{text:o.cancelText??this.cancelText,role:"cancel",handler:()=>{i.next(!1),i.complete()}},{text:o.okText??"OK",role:o.okDanger?"destructive":void 0,handler:()=>{i.next(!0),i.complete()}}]}).then(s=>s.present()),i.asObservable()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o1({token:t,factory:t.\u0275fac});let n=t;return n})();var kt=n=>w3([{provide:T1,useClass:n?ft:Mt}]);var zt=(()=>{let t=class t{constructor(){this.baseUrl="events",this.http=m(x0)}getEventInfo(o){return this.http.get(`${this.baseUrl}/info/${o}`)}getEventUsers(o){return this.http.get(`${this.baseUrl}/users/${o}`)}deleteEvent(o){return this.http.delete(`${this.baseUrl}/${o}`)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ve=()=>[0,1],yt=()=>[];function Ae(n,t){if(n&1){let e=q();g(0,"ion-item",16),V("click",function(){L(e);let i=M(2);return _(i.redirectToEdit())}),y(1,"ion-icon",20),g(2,"ion-label"),f(3),d(4,"localize"),v()(),g(5,"ion-item",16),V("click",function(){L(e);let i=M(2);return _(i.deleteEvent())}),y(6,"ion-icon",21),g(7,"ion-label",22),f(8),d(9,"localize"),v()()}if(n&2){let e=M(2);u("detail",!1),h(3),k(" ",x(4,4,e.EventMainInfoLocalize.Edit)," "),h(2),u("detail",!1),h(3),k(" ",x(9,6,e.EventMainInfoLocalize.Delete)," ")}}function He(n,t){if(n&1){let e=q();g(0,"ion-list",15)(1,"ion-item",16),V("click",function(){L(e);let i=M();return i.refreshInfo(),_(i.refreshUsers())}),y(2,"ion-icon",17),g(3,"ion-label"),f(4),d(5,"localize"),v()(),g(6,"ion-item",16),V("click",function(){L(e);let i=M();return _(i.share())}),y(7,"ion-icon",18),g(8,"ion-label"),f(9),d(10,"localize"),v()(),g(11,"ion-item",16),V("click",function(){L(e);let i=M();return _(i.copyToClipboard())}),y(12,"ion-icon",19),g(13,"ion-label"),f(14),d(15,"localize"),v()(),X(16,Ae,10,8),v()}if(n&2){let e=M(),o=g1(0);h(),u("detail",!1),h(3),k(" ",x(5,7,e.EventMainInfoLocalize.Refresh)," "),h(2),u("detail",!1),h(3),k(" ",x(10,9,e.EventMainInfoLocalize.Share)," "),h(2),u("detail",!1),h(3),k(" ",x(15,11,e.EventMainInfoLocalize.Link)," "),h(2),J(o!=null&&o.canEdit?16:-1)}}function be(n,t){if(n&1){let e=q();g(0,"ion-item",16),V("click",function(){L(e),M();let i=I(41);return _(i.present())}),g(1,"ion-label"),f(2),d(3,"localizeMany"),v(),y(4,"app-avatars-list",23),v()}if(n&2){let e=M(),o=g1(1),i=g1(16);u("detail",!1),h(2),A1(" ",i," ",r1(3,4,e.EventMainInfoLocalize.Member,i)," "),h(2),u("users",o??M1(7,yt))}}function Oe(n,t){if(n&1&&(f1(0),d(1,"date"),f(2),d(3,"titlecase")),n&2){let e=t.$implicit,o=t.$index,i=t.$count,s=M(2),a=g1(2),l=U0(1,2,s.daysOfWeek[e-1],"EEE",void 0,a);h(2),A1(" ",x(3,7,l),"",o===i-1?"":","," ")}}function Ee(n,t){if(n&1&&(g(0,"ion-item",12)(1,"ion-label"),f(2),d(3,"localize"),v(),g(4,"ion-note"),$1(5,Oe,4,9,null,null,q1),v()()),n&2){let e=M(),o=g1(0);u("lines",o!=null&&o.description?"":"none"),h(2),k(" ",x(3,2,e.EventMainInfoLocalize.DaysOfWeek)," "),h(3),U1(o==null?null:o.isoDaysOfWeek)}}function Te(n,t){if(n&1&&(g(0,"ion-item",13)(1,"ion-label"),f(2),d(3,"localize"),v(),g(4,"ion-note"),f(5),v()()),n&2){let e=M(),o=g1(0);h(2),k(" ",x(3,2,e.EventMainInfoLocalize.Description)," "),h(3),k(" ",o==null?null:o.description," ")}}function je(n,t){if(n&1&&(g(0,"ion-note",26),f(1),v()),n&2){let e=M().$implicit;h(),k(" ","@"+e.username," ")}}function De(n,t){if(n&1&&G(0,je,2,1,"ion-note",25),n&2){let e=t.$implicit;u("ngIf",e.username)}}function Pe(n,t){if(n&1){let e=q();g(0,"app-users-list",24),V("searchFocused",function(i){L(e),M();let s=I(41);return _(s.backdropDismiss=!i)}),G(1,De,1,1,"ng-template",null,1,a2),v()}if(n&2){M();let e=g1(1);u("users",e??M1(1,yt))}}var l4=(()=>{let t=class t{constructor(){this.eventId=P.required(),this.eventId$=D1(this.eventId),this.router=m(f0),this.toast=m(t0),this.confirm=m(T1),this.tg=m(k1),this.request=m(zt),this.featureLoad=m(S0,{optional:!0}),this.refreshInfo$=new U,this.refreshUsers$=new U,this.info$=this.refreshInfo$.pipe(a0(!0),D(()=>this.eventId$),$(()=>this.featureLoad?.incrLoading()),D(o=>this.request.getEventInfo(o).pipe(s0(()=>this.featureLoad?.decrLoading()))),S1(1)),this.users$=this.refreshUsers$.pipe(a0(!0),D(()=>this.eventId$),$(()=>this.featureLoad?.incrLoading()),D(o=>this.request.getEventUsers(o).pipe(s0(()=>this.featureLoad?.decrLoading()))),S1(1)),this.info=k0(this.info$),this.users=k0(this.users$),this.local=m(d1),this.localizeFormat$=this.local.localizationWithFormat$,this.EventMainInfoLocalize=P0,this.tools=m(Y0),this.daysOfWeek=this.tools.daysOfWeek}refreshInfo(){this.refreshInfo$.next(!0)}refreshUsers(){this.refreshUsers$.next(!0)}copyToClipboard(){this.tg.getEventTgLink(this.eventId()).pipe(D(o=>M2(navigator.clipboard.writeText(o))),n0(1)).subscribe(()=>{let o=this.local.localizeSync(P0.ClipboardLink);this.toast.light(o,"clipboard-outline")})}share(){this.eventId()&&this.tg.shareEvent(this.eventId(),this.info()?.name)}redirectToEdit(){let o={eventId:this.eventId()};this.router.navigate(["edit"],{queryParams:o})}deleteEvent(){let o=this.local.localizeSync(P0.DeleteQuestion),i=this.local.localizeSync(P0.CannotBeUndone),s=this.local.localizeSync(P0.Delete),a=this.local.localizeSync(P0.EventWasDeleted);this.confirm.createConfirm({header:o,message:i,okText:s,okDanger:!0}).pipe(N0(Boolean),$(()=>this.featureLoad?.incrLoading()),D(()=>this.request.deleteEvent(this.eventId())),$(()=>this.toast.info(a,"trash-outline")),s0(()=>this.featureLoad?.decrLoading())).subscribe(()=>this.router.navigate(["edit"]))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-event-main-info"]],inputs:{eventId:[1,"eventId"]},decls:43,vars:35,consts:[["usersModal",""],["end",""],["mode","ios"],["value","info"],["slot","header",1,"header-item"],["slot","start"],["appImgLoad","",3,"src"],["id","menu-popover-trigger","slot","end","color","dark","fill","clear","size","large",1,"menu-button",3,"click"],["name","ellipsis-vertical","slot","icon-only"],["mode","ios","trigger","menu-popover-trigger","triggerAction","click",3,"dismissOnSelect","arrow"],["slot","content","mode","ios",1,"info-list"],["button","",3,"detail"],[3,"lines"],["lines","none",1,"notes-item"],[3,"initialBreakpoint","breakpoints"],["lines","none",1,"popover-menu-list"],["button","",3,"click","detail"],["name","refresh-outline","slot","start","color","medium"],["name","share-social-outline","slot","start","color","medium"],["name","link-outline","slot","start","color","medium"],["name","create-outline","slot","start","color","medium"],["name","trash-outline","slot","start","color","danger"],["color","danger"],[3,"users"],[3,"searchFocused","users"],["class","username",4,"ngIf"],[1,"username"]],template:function(i,s){if(i&1){let a=q();f1(0)(1)(2),d(3,"async"),g(4,"ion-accordion-group",2)(5,"ion-accordion",3)(6,"ion-item",4)(7,"ion-avatar",5),y(8,"img",6),v(),g(9,"ion-label"),f(10),v(),g(11,"ion-button",7),V("click",function(r){return L(a),_(r.stopPropagation())}),y(12,"ion-icon",8),v(),g(13,"ion-popover",9),G(14,He,17,13,"ng-template"),v()(),g(15,"ion-list",10),f1(16),X(17,be,5,8,"ion-item",11),g(18,"ion-item")(19,"ion-label"),f(20),d(21,"localize"),v(),g(22,"ion-note"),f(23),v()(),g(24,"ion-item")(25,"ion-label"),f(26),d(27,"localize"),v(),g(28,"ion-note"),f(29),d(30,"date"),v()(),g(31,"ion-item",12)(32,"ion-label"),f(33),d(34,"localize"),v(),g(35,"ion-note"),f(36),d(37,"date"),v()(),X(38,Ee,7,4,"ion-item",12),X(39,Te,6,4,"ion-item",13),v()()(),g(40,"ion-modal",14,0),G(42,Pe,3,2,"ng-template"),v()}if(i&2){let a=j1(s.info());h();let l=j1(s.users());h(),j1(x(3,18,s.localizeFormat$)??void 0),h(6),u("src",a==null||a.creator==null?null:a.creator.photoUrl,$0),h(2),k(" ",(a==null?null:a.name)??"Event name"," "),h(3),u("dismissOnSelect",!0)("arrow",!1),h(3);let r=j1((l==null?null:l.length)??0);h(),J(r>0?17:-1),h(3),k(" ",x(21,22,s.EventMainInfoLocalize.Initiator)," "),h(3),k(" ",a==null||a.creator==null?null:a.creator.fullName," "),h(3),k(" ",x(27,24,s.EventMainInfoLocalize.Starts)," "),h(3),k(" ",r1(30,26,a==null?null:a.starts,"dd.MM.yyyy")," ");let c=!!(a!=null&&a.specifyDaysOfWeek&&(!(a==null||a.isoDaysOfWeek==null)&&a.isoDaysOfWeek.length)),p=!!(a!=null&&a.description);h(2),u("lines",c||p?"":"none"),h(2),k(" ",x(34,29,s.EventMainInfoLocalize.Ends)," "),h(3),k(" ",r1(37,31,a==null?null:a.ends,"dd.MM.yyyy")," "),h(2),J(c?38:-1),h(),J(p?39:-1),h(),u("initialBreakpoint",1)("breakpoints",M1(34,Ve))}},dependencies:[p1,K1,n1,X1,s1,J1,b1,M0,H1,B2,G1,a1,z0,b2,H2,K0,Y1,Q0,ut,a4,o2],styles:["ion-accordion-group[_ngcontent-%COMP%]{border-radius:.5rem}ion-list.info-list[_ngcontent-%COMP%]{margin-top:.5rem;background:transparent}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-item.header-item[_ngcontent-%COMP%]{border-radius:.5rem;--padding-start: .75rem;--min-height: 3.7rem}ion-item.header-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:2.75rem!important;height:2.75rem!important}ion-item.header-item[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{margin-right:-1rem}ion-item.header-item[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}ion-item.header-item[_ngcontent-%COMP%]     .ion-accordion-toggle-icon{position:absolute;right:3rem}ion-item.notes-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:auto}ion-item.notes-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding:.5rem 0;margin-left:max(20%,2.5rem);text-align:end}ion-popover[_ngcontent-%COMP%]{--offset-y: -.25rem;--offset-x: -.6rem;--width: auto}ion-popover[_ngcontent-%COMP%]   .popover-menu-list[_ngcontent-%COMP%]{padding:.25rem 0;background-color:var(--popover-menu-bg);white-space:nowrap}app-avatars-list[_ngcontent-%COMP%]{opacity:.9}ion-modal[_ngcontent-%COMP%]{--height: auto}ion-modal[_ngcontent-%COMP%]   app-users-list[_ngcontent-%COMP%]{height:60vh;padding:1rem}"],changeDetection:0});let n=t;return n})();var Ct={FilterResults:{en:"Filter results",ru:"\u0424\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B"},Exclude:{en:"Exclude",ru:"\u0418\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u044C "},Maybe:{en:'"maybe"',ru:'"\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E"'},Time:{en:'"time"',ru:'"\u0432\u0440\u0435\u043C\u044F"'},IgnorePastDates:{en:"Ignore past dates",ru:"\u0423\u0431\u0440\u0430\u0442\u044C \u043F\u0440\u043E\u0448\u0435\u0434\u0448\u0438\u0435 \u0434\u0430\u0442\u044B"},OnlyWithMe:{en:"Only with me",ru:"\u0422\u043E\u043B\u044C\u043A\u043E \u0441\u043E \u043C\u043D\u043E\u0439"},AtLeast:{en:"At least",ru:"\u041A\u0430\u043A \u043C\u0438\u043D\u0438\u043C\u0443\u043C"},Member:{en:"member",ru:"\u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A"}};var Bt=n2(r2());var Lt=(()=>{let t=class t{set maxOverlap(o){(0,Bt.isNil)(o)||this.membersCount.set(o)}constructor(){this.disabled=!1,this.noMaybe=K(!1),this.noTime=K(!1),this.onlyWithMe=K(!1),this.trimPast=K(!0),this.membersCount=K(1),this.ResultFiltersLocalize=Ct}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-result-filters"]],inputs:{disabled:"disabled",maxMembers:"maxMembers",maxOverlap:"maxOverlap"},decls:38,vars:40,consts:[["mode","ios"],["value","filters","toggleIcon","remove-outline"],["slot","header",1,"header-item"],["slot","content","mode","ios"],[3,"ngModelChange","ngModel"],["color","warning"],["color","success"],["lines","none"],["lines","none",1,"range-list-item"],[3,"ngModelChange","ngModel","snaps","min","max","ticks"]],template:function(i,s){i&1&&(g(0,"ion-accordion-group",0)(1,"ion-accordion",1)(2,"ion-item",2)(3,"ion-label"),f(4),d(5,"localize"),v()(),g(6,"ion-list",3)(7,"ion-item")(8,"ion-checkbox",4),c0("ngModelChange",function(l){return r0(s.noMaybe,l)||(s.noMaybe=l),l}),f(9),d(10,"localize"),g(11,"ion-text",5),f(12),d(13,"localize"),v()()(),g(14,"ion-item")(15,"ion-checkbox",4),c0("ngModelChange",function(l){return r0(s.noTime,l)||(s.noTime=l),l}),f(16),d(17,"localize"),g(18,"ion-text",6),f(19),d(20,"localize"),v()()(),g(21,"ion-item")(22,"ion-checkbox",4),c0("ngModelChange",function(l){return r0(s.onlyWithMe,l)||(s.onlyWithMe=l),l}),f(23),d(24,"localize"),v()(),g(25,"ion-item")(26,"ion-checkbox",4),c0("ngModelChange",function(l){return r0(s.trimPast,l)||(s.trimPast=l),l}),f(27),d(28,"localize"),v()(),g(29,"ion-item",7)(30,"ion-label"),f(31),d(32,"localize"),v(),g(33,"ion-note"),f(34),d(35,"localizeMany"),v()(),g(36,"ion-item",8)(37,"ion-range",9),c0("ngModelChange",function(l){return r0(s.membersCount,l)||(s.membersCount=l),l}),v()()()()()),i&2&&(B1("disabled",s.disabled),h(4),k(" ",x(5,21,s.ResultFiltersLocalize.FilterResults)," "),h(4),l0("ngModel",s.noMaybe),h(),k(" ",x(10,23,s.ResultFiltersLocalize.Exclude)," "),h(3),k(" ",x(13,25,s.ResultFiltersLocalize.Maybe)," "),h(3),l0("ngModel",s.noTime),h(),k(" ",x(17,27,s.ResultFiltersLocalize.Exclude)," "),h(3),k(" ",x(20,29,s.ResultFiltersLocalize.Time)," "),h(3),l0("ngModel",s.onlyWithMe),h(),k(" ",x(24,31,s.ResultFiltersLocalize.OnlyWithMe)," "),h(3),l0("ngModel",s.trimPast),h(),k(" ",x(28,33,s.ResultFiltersLocalize.IgnorePastDates)," "),h(4),k(" ",x(32,35,s.ResultFiltersLocalize.AtLeast)," "),h(3),A1(" ",s.membersCount()," ",r1(35,37,s.ResultFiltersLocalize.Member,s.membersCount())," "),h(3),l0("ngModel",s.membersCount),u("snaps",!0)("min",1)("max",s.maxMembers)("ticks",s.maxMembers<=10))},dependencies:[p1,n1,J1,b1,M0,T2,a1,z0,b2,H2,j2,s6,A2,W0,V2],styles:[".disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}ion-accordion[_ngcontent-%COMP%]{background:var(--ion-color-light, #f4f5f8);border-radius:.5rem;--padding-end: 0}.header-item[_ngcontent-%COMP%]{--inner-padding-end: .9rem}ion-list[_ngcontent-%COMP%]{background:var(--ion-color-light, #f4f5f8)}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-item[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{opacity:.85}ion-item[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]{--knob-size: 22px}ion-item.range-list-item[_ngcontent-%COMP%]{margin-top:-.65rem;--padding-start: 1px;--inner-padding-end: .2rem}"]});let n=t;return n})();var _t=(()=>{let t=class t{constructor(){this.popover=m(Q0),this.destroyed$=new U}ngOnInit(){this.popover.willPresent.pipe(N0(o=>!!o.target),D(o=>V1(o.target,"contextmenu")),N1(this.destroyed$)).subscribe(o=>o.preventDefault())}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appPreventContext",""]]});let n=t;return n})();var E=function(n){return n.Ready="ready",n.Maybe="maybe",n.Time="time",n}(E||{});var Vt=n2(r2());var B0=(()=>{let t=class t{set voteDates(o){let i=(0,Vt.groupBy)(o,"voteType"),s=i[E.Ready]??[],a=i[E.Maybe]??[],l=i[E.Time]??[];this.readyDates.set(new Set(s.map(r=>this.formatVoteDate(r.date)))),this.maybeDates.set(new Set(a.map(r=>this.formatVoteDate(r.date)))),this.timeDates.set(new Map(l.map(r=>[this.formatVoteDate(r.date),r])))}get voteDates(){return this.voteDatesSignal()}get rootEl(){return this.elRef.nativeElement.shadowRoot}constructor(){this.readyDates=K(new Set),this.maybeDates=K(new Set),this.timeDates=K(new Map),this.voteDatesSignal=i1(()=>{let o=this.readyDates(),i=this.maybeDates(),s=this.timeDates();return[...Array.from(o).map(a=>({date:new Date(a),voteType:E.Ready})),...Array.from(i).map(a=>({date:new Date(a),voteType:E.Maybe})),...Array.from(s.values())]}),this.ionDateComponent=m(Z1),this.elRef=m(w0),this.rootObs=new MutationObserver(()=>{let o=this.rootEl.querySelectorAll("button.calendar-day");this.dateButtons$.next(Array.from(o))}),this.dateButtons$=new f2(1),S2(()=>{let o=this.readyDates(),i=this.maybeDates(),s=this.timeDates();this.ionDateComponent.highlightedDates=[...Array.from(o).map(a=>({date:a,textColor:"var(--ready-text-color)",backgroundColor:"var(--ready-bg-color)"})),...Array.from(i).map(a=>({date:a,textColor:"var(--maybe-text-color)",backgroundColor:"var(--maybe-bg-color)"})),...Array.from(s.keys()).map(a=>({date:a,textColor:"var(--time-text-color)",backgroundColor:"var(--time-bg-color)"}))]})}ngAfterViewInit(){this.rootObs.observe(this.rootEl,{childList:!0,subtree:!0})}ngOnDestroy(){this.dateButtons$.complete(),this.rootObs.disconnect()}emitAllDatesSignals(){this.readyDates.set(new Set(this.readyDates())),this.maybeDates.set(new Set(this.maybeDates())),this.timeDates.set(new Map(this.timeDates()))}formatVoteDate(o){return v1(o,"yyyy-MM-dd")}getDataFromButton(o){let i=Number(o.getAttribute("data-day")),s=Number(o.getAttribute("data-month")),a=Number(o.getAttribute("data-year"));return{day:i,month:s,year:a}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appVoteData",""]],inputs:{voteDates:"voteDates"},exportAs:["appVoteData"]});let n=t;return n})();var At=(()=>{let t=class t{constructor(){this.timeModalAction=new z2,this.data=m(B0)}get currentSet(){switch(this.appVoteHandleClick){case E.Ready:return this.data.readyDates();case E.Maybe:return this.data.maybeDates();case E.Time:return this.data.timeDates()}}ngAfterViewInit(){this.data.dateButtons$.pipe(D(o=>{let i=o.map(s=>V1(s,"click",{capture:!0}).pipe($(a=>a.stopPropagation()),R(()=>s)));return u1(...i)})).subscribe(o=>this.handleClick(o))}handleClick(o){return p4(this,null,function*(){let{day:i,month:s,year:a}=this.data.getDataFromButton(o),l=this.data.formatVoteDate(new Date(a,s-1,i));this.currentSet.has(l)?this.currentSet.delete(l):(this.data.readyDates().delete(l),this.data.maybeDates().delete(l),this.data.timeDates().delete(l),yield this.addDateToSet(o,l,a,s,i)),this.data.emitAllDatesSignals()})}addDateToSet(o,i,s,a,l){return p4(this,null,function*(){switch(this.appVoteHandleClick){case E.Ready:this.data.readyDates().add(i);break;case E.Maybe:this.data.maybeDates().add(i);break;case E.Time:o.style.opacity="0.7";let c=yield new Promise(S=>this.timeModalAction.emit(S));if(o.style.opacity="",!c)return;let p=new Date(c.start),w=new Date(c.end);p.setFullYear(s,a-1,l),w.setFullYear(s,a-1,l);let O={date:new Date(i),voteType:E.Time,start:p,end:w};this.data.timeDates().set(i,O);break}})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appVoteHandleClick",""]],inputs:{appVoteHandleClick:"appVoteHandleClick"},outputs:{timeModalAction:"timeModalAction"}});let n=t;return n})();var Ht=(n,t=500)=>{let e=V1(n,"touchstart"),o=V1(n,"touchend"),i=V1(n,"touchmove");return e.pipe(D(s=>g3(t).pipe(R(()=>s),N1(u1(o,i)))))};var L0=class{static toJsDates(t){let e=_1(e1({},t),{date:new Date(t.date),start:t.start?new Date(t.start):void 0,end:t.end?new Date(t.end):void 0});return t.start===void 0&&delete e.start,t.end===void 0&&delete e.end,e}static toStringDates(t){return _1(e1({},t),{date:v1(t.date,"yyyy-MM-dd"),start:t.start?v1(t.start,"yyyy-MM-dd'T'HH:mm:ss"):void 0,end:t.end?v1(t.end,"yyyy-MM-dd'T'HH:mm:ss"):void 0})}};var bt=(()=>{let t=class t{constructor(){this.data=m(B0),this.lastFocusedButton$=new U,this.focusedDateChanges=this.lastFocusedButton$.pipe(R(o=>{if(!o)return;let{day:i,month:s,year:a}=this.data.getDataFromButton(o),l=new Date(a,s-1,i),r=this.data.formatVoteDate(l);return this.data.readyDates().has(r)?{date:l,voteType:E.Ready}:this.data.maybeDates().has(r)?{date:l,voteType:E.Maybe}:this.data.timeDates().get(r)}))}ngAfterViewInit(){this.data.dateButtons$.pipe(D(o=>{let i=o.map(s=>{let a=V1(s,"contextmenu"),l=Ht(s);return u1(a,l).pipe($(r=>r.preventDefault()),R(r=>_1(e1({},r),{target:s})),p3(500))});return u1(...i)})).subscribe(o=>this.showPopover(o))}showPopover(o){let i=o.target;this.lastFocusedButton$.next(i),this.appVoteHandlePopover.present(o),this.appVoteHandlePopover.willPresent.pipe(n0(1)).subscribe(()=>i.style.opacity="0.7"),this.appVoteHandlePopover.didDismiss.pipe(n0(1)).subscribe(s=>{if(this.lastFocusedButton$.next(void 0),i.style.opacity="",s.detail.data){let{day:a,month:l,year:r}=this.data.getDataFromButton(i);this.handlePopoverButtons(s.detail.data,r,l,a)}})}handlePopoverButtons(o,i,s,a){let l=new Date(i,s-1,a),r=this.data.formatVoteDate(l);if((o.clear||!o.ready&&!o.maybe&&!o.time)&&(this.data.readyDates().delete(r),this.data.maybeDates().delete(r),this.data.timeDates().delete(r)),o.ready)this.data.readyDates().add(r);else if(o.maybe)this.data.maybeDates().add(r);else if(o.time){let c=new Date(o.start),p=new Date(o.end);c.setFullYear(i,s-1,a),p.setFullYear(i,s-1,a);let w={date:l,voteType:E.Time,start:c,end:p};this.data.timeDates().set(r,w)}this.data.emitAllDatesSignals()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appVoteHandlePopover",""]],inputs:{appVoteHandlePopover:"appVoteHandlePopover"},outputs:{focusedDateChanges:"focusedDateChanges"}});let n=t;return n})();var Z4={Ready:{en:"Ready",ru:"\u0413\u043E\u0442\u043E\u0432"},Maybe:{en:"Maybe",ru:"\u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E"},Time:{en:"Time",ru:"\u0412\u0440\u0435\u043C\u044F"},ToggleStatus:{en:"Toggle default status",ru:"\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u043F\u043E-\u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E"},Or:{en:"Or",ru:"\u0418\u043B\u0438"},HoldDate:{en:"hold date",ru:"\u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0434\u0430\u0442\u0443"},RightClickDate:{en:"right click on date",ru:"\u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u043C\u044B\u0448\u0438 \u043F\u043E \u0434\u0430\u0442\u0435"},SelectSpecificStatus:{en:"to select specific one",ru:"\u0434\u043B\u044F \u0442\u043E\u0447\u043D\u043E\u0433\u043E \u0432\u044B\u0431\u043E\u0440\u0430"},Clear:{en:"Clear",ru:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C"},Cancel:{en:"Cancel",ru:"\u041E\u0442\u043C\u0435\u043D\u0430"},Save:{en:"Save",ru:"\u0413\u043E\u0442\u043E\u0432\u043E"},StartTime:{en:"Start time",ru:"\u0412\u0440\u0435\u043C\u044F \u043D\u0430\u0447\u0430\u043B\u0430"},EndTime:{en:"End time",ru:"\u0412\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F"},SpecifyTime:{en:"Specify time",ru:"\u0423\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0440\u0435\u043C\u044F"},HasBeenSaved:{en:"All changes have been saved successfully",ru:"\u0412\u0441\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B"}};var Ot=(()=>{let t=class t{constructor(){this.baseUrl="votes",this.http=m(x0)}getEventVote(o){let i={eventId:o};return this.http.get(this.baseUrl,{params:i}).pipe(R(s=>{let a=s.dates.map(l=>L0.toJsDates(l));return _1(e1({},s),{dates:a})}))}updateEventVote(o,i){let a={dates:i.map(r=>L0.toStringDates(r))},l={eventId:o};return this.http.post(this.baseUrl,a,{params:l}).pipe(R(r=>{let c=r.dates.map(p=>L0.toJsDates(p));return _1(e1({},r),{dates:c})}))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Et=n2(r2());var Ie=()=>[],Fe=()=>[0,1];function Re(n,t){if(n&1){let e=q();g(0,"ion-button",30),V("click",function(){L(e),M(2);let i=I(47);return _(i.dismiss({clear:!0}))}),y(1,"ion-icon",31),v()}}function Ne(n,t){if(n&1){let e=q();g(0,"div",22)(1,"ion-button",23),V("click",function(){L(e),M();let i=I(47);return _(i.dismiss({ready:!0}))}),y(2,"ion-icon",24),v(),g(3,"ion-button",25),V("click",function(){L(e),M();let i=I(47);return _(i.dismiss({maybe:!0}))}),y(4,"ion-icon",26),v(),g(5,"ion-button",27),V("click",function(){L(e);let i=M(),s=I(47);return _(i.timeModalDataAction.set(s.dismiss.bind(s)))}),y(6,"ion-icon",28),v(),G(7,Re,2,0,"ion-button",29),v()}if(n&2){let e=M();h(7),u("ngIf",e.focusedDate!==void 0)}}function qe(n,t){if(n&1){let e=q();g(0,"div",32)(1,"div",33)(2,"div",34)(3,"ion-label"),f(4),d(5,"localize"),v(),g(6,"ion-datetime",35),c0("ngModelChange",function(i){L(e);let s=M();return r0(s.startTime,i)||(s.startTime=i),_(i)}),v()(),g(7,"div",34)(8,"ion-label"),f(9),d(10,"localize"),v(),g(11,"ion-datetime",35),c0("ngModelChange",function(i){L(e);let s=M();return r0(s.endTime,i)||(s.endTime=i),_(i)}),v()()(),g(12,"ion-button",36),V("click",function(){L(e);let i=M(),s=I(51);return _(i.onTimeSelected(s))}),f(13),d(14,"localize"),v()()}if(n&2){let e=M();h(4),k(" ",x(5,6,e.VoteCalendarLocalize.StartTime)," "),h(2),l0("ngModel",e.startTime),h(3),k(" ",x(10,8,e.VoteCalendarLocalize.EndTime)," "),h(2),l0("ngModel",e.endTime),h(),u("disabled",e.isTimeInvalid()),h(),k(" ",x(14,10,e.VoteCalendarLocalize.SpecifyTime)," ")}}var r4="yyyy-MM-dd'T'HH:mm:ss",c4=(()=>{let t=class t{constructor(){this.appVoteData=Q1(B0),this.voteDatesFromCalendar=i1(()=>this.appVoteData()?.voteDatesSignal()),this.eventId=P.required(),this.minDate=P(),this.maxDate=P(),this.daysOfWeek=P(),this.voteUpdated=l2(),this.isDateEnabled=i1(()=>{let o=new Set(this.daysOfWeek());return i=>{if(o.size===0)return!0;let s=new Date(i);return o.has(g6(s))}}),this.resetDates$=new U,this.clearDates$=new U,this.saveDates$=new U,this.request=m(Ot),this.featureLoad=m(S0,{optional:!0}),this.loadedEventVote$=D1(this.eventId).pipe($(()=>this.featureLoad?.incrLoading()),D(o=>this.request.getEventVote(o).pipe(s0(()=>this.featureLoad?.decrLoading()))),S1(1)),this.updatedEventVote$=this.saveDates$.pipe(R(()=>this.voteDatesFromCalendar()??[]),$(()=>this.featureLoad?.incrLoading()),D(o=>this.request.updateEventVote(this.eventId(),o).pipe(s0(()=>this.featureLoad?.decrLoading()))),$(o=>this.voteUpdated.emit(o)),$(()=>{let o=this.loc.localizeSync(Z4.HasBeenSaved);this.toast.info(o,"cloud-done-outline")}),S1(1)),this.stagedVoteDates$=u1(this.loadedEventVote$,this.updatedEventVote$).pipe(R(o=>o.dates),S1(1)),this.voteDates$=u1(this.clearDates$.pipe(R(()=>[])),this.resetDates$.pipe(a0(!0),D(()=>this.stagedVoteDates$),R(o=>o.slice()))),this.startTime=K(v1(new Date,r4)),this.endTime=K(v1(new Date,r4)),this.lastAppliedStartTime=this.startTime(),this.lastAppliedEndTime=this.endTime(),this.isTimeInvalid=i1(()=>{let o=new Date(this.startTime()),i=new Date(this.endTime());return o>=i}),this.focusedDate=void 0,this.timeModalDataAction=K(void 0),this.toast=m(t0),this.tools=m(Y0),this.isTouchDevice=this.tools.isTouchDevice,this.VoteType=E,this.defaultVoteType=E.Ready,this.loc=m(d1),this.localizeFormat$=this.loc.localizationWithFormat$,this.VoteCalendarLocalize=Z4,this.noUnsavedChanges=D1(this.voteDatesFromCalendar).pipe(m3(this.stagedVoteDates$),R(([o,i])=>(0,Et.isEqual)(o,i)),q0(),S1(1))}updateFocusedDate(o){this.focusedDate=o;let i=o?.start?v1(o.start,r4):this.lastAppliedStartTime,s=o?.end?v1(o.end,r4):this.lastAppliedEndTime;this.startTime.set(i),this.endTime.set(s)}onTimeSelected(o){o.dismiss(),this.lastAppliedStartTime=this.startTime(),this.lastAppliedEndTime=this.endTime();let i=this.timeModalDataAction();i&&(i({time:!0,start:this.startTime(),end:this.endTime()}),this.timeModalDataAction.set(void 0))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-vote-calendar"]],viewQuery:function(i,s){i&1&&W1(s.appVoteData,B0,5),i&2&&u0()},inputs:{eventId:[1,"eventId"],minDate:[1,"minDate"],maxDate:[1,"maxDate"],daysOfWeek:[1,"daysOfWeek"]},outputs:{voteUpdated:"voteUpdated",noUnsavedChanges:"noUnsavedChanges"},decls:53,vars:59,consts:[["popover",""],["timeModal",""],[1,"vote-calendar"],[1,"vote-calendar-header"],[1,"chips"],[1,"chip-container","brighter",3,"click"],["color","primary"],["name","checkmark-outline"],[1,"chip-container",3,"click"],["color","warning"],["name","help-outline"],["color","success"],["name","time-outline"],[1,"subtitle"],["appVoteData","","presentation","date","mode","ios",1,"wtd-datetime",3,"focusedDateChanges","timeModalAction","appVoteHandleClick","appVoteHandlePopover","voteDates","firstDayOfWeek","min","max","isDateEnabled","locale"],["mode","ios",1,"vote-calendar-actions"],["color","medium",3,"click"],[1,"right"],["color","danger",3,"click","disabled"],["color","primary",3,"click","disabled"],["appPreventContext","","mode","ios","side","top","alignment","center",3,"arrow"],[3,"ionModalWillDismiss","initialBreakpoint","breakpoints","isOpen"],[1,"popover-content"],["size","small","color","primary",3,"click"],["name","checkmark-outline","slot","icon-only"],["size","small","color","warning",3,"click"],["name","help-outline","slot","icon-only"],["size","small","color","success",3,"click"],["name","time-outline","slot","icon-only"],["size","small","color","light",3,"click",4,"ngIf"],["size","small","color","light",3,"click"],["name","ban-outline","slot","icon-only"],[1,"time-modal-content"],[1,"time-pickers"],[1,"pick"],["presentation","time","mode","ios",3,"ngModelChange","ngModel"],["mode","ios",3,"click","disabled"]],template:function(i,s){if(i&1){let a=q();g(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),V("click",function(){return L(a),_(s.defaultVoteType=s.VoteType.Ready)}),g(4,"ion-chip",6),y(5,"ion-icon",7),g(6,"ion-label"),f(7),d(8,"localize"),v()()(),g(9,"div",8),V("click",function(){return L(a),_(s.defaultVoteType=s.VoteType.Maybe)}),g(10,"ion-chip",9),y(11,"ion-icon",10),g(12,"ion-label"),f(13),d(14,"localize"),v()()(),g(15,"div",8),V("click",function(){return L(a),_(s.defaultVoteType=s.VoteType.Time)}),g(16,"ion-chip",11),y(17,"ion-icon",12),g(18,"ion-label"),f(19),d(20,"localize"),v()()()(),g(21,"span",13),f(22),d(23,"localize"),y(24,"br"),f(25),d(26,"localize"),d(27,"localize"),d(28,"localize"),y(29,"br"),v()(),g(30,"ion-datetime",14),d(31,"async"),d(32,"async"),V("focusedDateChanges",function(r){return L(a),_(s.updateFocusedDate(r))})("timeModalAction",function(r){return L(a),_(s.timeModalDataAction.set(r))}),v(),g(33,"ion-buttons",15),f1(34),d(35,"async"),g(36,"ion-button",16),V("click",function(){return L(a),_(s.clearDates$.next(!0))}),f(37),d(38,"localize"),v(),g(39,"div",17)(40,"ion-button",18),V("click",function(){return L(a),_(s.resetDates$.next(!0))}),f(41),d(42,"localize"),v(),g(43,"ion-button",19),V("click",function(){return L(a),_(s.saveDates$.next(!0))}),f(44),d(45,"localize"),v()()()(),g(46,"ion-popover",20,0),G(48,Ne,8,1,"ng-template"),v(),f1(49),g(50,"ion-modal",21,1),V("ionModalWillDismiss",function(){L(a);let r=g1(49);return r==null||r(),_(s.timeModalDataAction.set(void 0))}),G(52,qe,15,12,"ng-template"),v()}if(i&2){let a=I(47);h(3),B1("active",s.defaultVoteType===s.VoteType.Ready),h(4),k(" ",x(8,30,s.VoteCalendarLocalize.Ready)," "),h(2),B1("active",s.defaultVoteType===s.VoteType.Maybe),h(4),k(" ",x(14,32,s.VoteCalendarLocalize.Maybe)," "),h(2),B1("active",s.defaultVoteType===s.VoteType.Time),h(4),k(" ",x(20,34,s.VoteCalendarLocalize.Time)," "),h(3),k(" ",x(23,36,s.VoteCalendarLocalize.ToggleStatus)," "),h(3),L3(" ",x(26,38,s.VoteCalendarLocalize.Or)," ",x(27,40,s.isTouchDevice?s.VoteCalendarLocalize.HoldDate:s.VoteCalendarLocalize.RightClickDate)," ",x(28,42,s.VoteCalendarLocalize.SelectSpecificStatus)," "),h(5),u("appVoteHandleClick",s.defaultVoteType)("appVoteHandlePopover",a)("voteDates",x(31,44,s.voteDates$)??M1(57,Ie))("firstDayOfWeek",1)("min",s.minDate()??void 0)("max",s.maxDate()??void 0)("isDateEnabled",s.isDateEnabled())("locale",x(32,46,s.localizeFormat$));let l=x(35,48,s.noUnsavedChanges);h(7),k(" ",x(38,50,s.VoteCalendarLocalize.Clear)," "),h(3),u("disabled",l),h(),k(" ",x(42,52,s.VoteCalendarLocalize.Cancel)," "),h(2),u("disabled",l),h(),k(" ",x(45,54,s.VoteCalendarLocalize.Save)," "),h(2),u("arrow",!0),h(3);let r=j1(s.timeModalDataAction());h(),u("initialBreakpoint",1)("breakpoints",M1(58,Fe))("isOpen",r!==void 0)}},dependencies:[p1,K1,n1,X1,G3,s1,H1,a1,Z1,O2,Q0,Y1,A2,W0,V2,B0,At,bt,_t],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;min-width:350px;align-self:center}.vote-calendar-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;background-color:var(--ion-color-light, #f4f5f8);padding:.5rem .5rem .25rem;border-top-left-radius:.5rem;border-top-right-radius:.5rem}.vote-calendar-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{padding:.25rem .5rem .825rem;opacity:.8;color:var(--ion-text-color-step-500, #b3b3b3);font-size:.9rem;line-height:1.25rem}.vote-calendar-header[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;padding:0 .2rem;justify-content:space-between;gap:.5rem}.vote-calendar-header[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip-container.active[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{background:rgba(var(--ion-color-base-rgb, 0, 0, 0),.215)!important;outline:2px solid rgba(var(--ion-color-base-rgb, 0, 0, 0),.215);outline-offset:2px}.vote-calendar-header[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip-container.active.brighter[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{color:var(--ion-color-base);background:rgba(var(--ion-color-base-rgb, 0, 0, 0),.27)!important;outline-color:rgba(var(--ion-color-base-rgb, 0, 0, 0),.27)}.vote-calendar-header[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]:not(.active):not(.brighter){opacity:.85}.vote-calendar-actions[_ngcontent-%COMP%]{padding:.5rem .75rem;background-color:var(--ion-color-light, #f4f5f8);justify-content:space-between;border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem;gap:1rem}.vote-calendar-actions[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:.5rem}ion-datetime[_ngcontent-%COMP%]{border-radius:0}ion-popover[_ngcontent-%COMP%]{--offset-y: -.15rem;--width: auto}.popover-content[_ngcontent-%COMP%]{padding:.5rem;width:100%;display:flex;justify-content:space-between;gap:5px;opacity:.9}ion-modal[_ngcontent-%COMP%]{--height: auto}.time-modal-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.time-modal-content[_ngcontent-%COMP%]   .time-pickers[_ngcontent-%COMP%]{display:flex;gap:1rem}.time-modal-content[_ngcontent-%COMP%]   .time-pickers[_ngcontent-%COMP%]   .pick[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;align-items:center;gap:1rem}.time-modal-content[_ngcontent-%COMP%]   .time-pickers[_ngcontent-%COMP%]   .pick[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{width:100%;border-radius:1rem}"],changeDetection:0});let n=t;return n})();var d0=function(n){return n.List="list",n.Calendar="calendar",n}(d0||{});var Tt=(()=>{let t=class t{constructor(){this.disabled=!1,this.ViewPick=d0,this.value=K(d0.List),this.refresh=new z2}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-result-view-picker-control"]],inputs:{disabled:"disabled"},outputs:{refresh:"refresh"},decls:7,vars:3,consts:[[1,"picker",3,"ngClass"],[1,"item",3,"click"],["name","list-outline"],["name","calendar-outline"],[3,"click"],["slot","icon-only","name","refresh-outline"]],template:function(i,s){i&1&&(g(0,"div",0)(1,"div",1),V("click",function(){return s.value.set(s.ViewPick.List)}),y(2,"ion-icon",2),v(),g(3,"div",1),V("click",function(){return s.value.set(s.ViewPick.Calendar)}),y(4,"ion-icon",3),v()(),g(5,"ion-button",4),V("click",function(){return s.refresh.emit()}),y(6,"ion-icon",5),v()),i&2&&(B1("disabled",s.disabled),u("ngClass",s.value()))},dependencies:[p1,_3,X1,s1],styles:['[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center}.picker[_ngcontent-%COMP%]{position:relative;display:flex;border-radius:.5rem;background-color:var(--ion-color-light, #f4f5f8);--border-size: 2px}.picker.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.picker[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{z-index:2;padding:.8rem 1.25rem;display:flex;align-items:center;cursor:pointer}.picker[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{opacity:.7}.picker[_ngcontent-%COMP%]:after{content:"";transition:left .2s ease-in-out;z-index:1;position:absolute;top:var(--border-size);bottom:var(--border-size);width:calc(50% - var(--border-size) * 2);box-shadow:var(--picker-box-shadow);background-color:var(--ion-background-color-step-350, #fff);border-radius:.5rem}.picker.list[_ngcontent-%COMP%]:after{left:var(--border-size)!important}.picker.calendar[_ngcontent-%COMP%]:after{left:calc(50% + var(--border-size))!important}ion-button[_ngcontent-%COMP%]{margin:0;--border-radius: .5rem;--padding-bottom: .75rem;--padding-end: .75rem;--padding-start: .75rem;--padding-top: .75rem}']});let n=t;return n})();var $e=["*"],Ue=(n,t)=>({value:n,params:t}),jt="0.4s ease-in-out",We={transform:"translateX(0)"},Qe={transform:"translateX({{ leaveEnd }}%)"},Ke={transform:"translateX({{ enterStart }}%)"},Dt=(()=>{let t=class t{constructor(){this.viewPick=P.required(),this.animationDisabled=K(!0),this.animationParams=i1(()=>{switch(this.viewPick()){case d0.List:return{leaveEnd:120,enterStart:-120};case d0.Calendar:return{leaveEnd:-120,enterStart:120};default:return{}}}),k3(()=>{this.animationDisabled()&&this.animationDisabled.set(!1)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-result-view-picker-container"]],inputs:{viewPick:[1,"viewPick"]},ngContentSelectors:$e,decls:2,vars:5,consts:[[1,"result-view-picker-container-animated"]],template:function(i,s){i&1&&(y3(),g(0,"div",0),C3(1),v()),i&2&&u("@.disabled",s.animationDisabled())("@openCloseResultView",s2(2,Ue,s.viewPick(),s.animationParams()))},styles:[".result-view-picker-container-animated[_ngcontent-%COMP%]{display:grid;overflow:hidden;place-items:start}  .result-view-picker-container-animated>*{display:block;grid-column:1;grid-row:1;width:100%}"],data:{animation:[M4("openCloseResultView",[z4("* => *",[k4([c2(":enter",y0(Ke)),c2(":leave",[I2(jt,y0(Qe))],{optional:!0}),c2(":enter",[I2(jt),y0(We)])])],{params:{leaveEnd:-120,enterStart:120}})])]},changeDetection:0});let n=t;return n})();var Pt=(()=>{let t=class t{constructor(){this.baseUrl="results",this.http=m(x0)}getEventResults(o){let i={eventId:o};return this.http.get(this.baseUrl,{params:i}).pipe(R(s=>{let a=s.dates.map(l=>L0.toJsDates(l));return _1(e1({},s),{dates:a})}))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ge=D2(new Date),i0=(()=>{let t=class t{constructor(){this.eventId=P.required(),this.min=P.required(),this.noMaybe=P.required(),this.noTime=P.required(),this.onlyWithMe=P.required(),this.trimPast=P.required(),this.request=m(Pt),this.featureLoad=m(S0,{optional:!0}),this.refresh$=new U,this.eventid$=D1(this.eventId),this.info$=this.refresh$.pipe(a0(!0),D(()=>this.eventid$),$(()=>this.featureLoad?.incrLoading()),D(o=>this.request.getEventResults(o).pipe(s0(()=>this.featureLoad?.decrLoading()))),S1(1)),this.info=k0(this.info$),this.dates=i1(()=>this.info()?.dates??[]),this.filteredDates=i1(()=>this.dates().filter(o=>o.users.length>=this.min()&&(!this.trimPast()||o.date>=Ge)&&(!this.noMaybe()||o.voteType!==E.Maybe)&&(!this.noTime()||o.voteType!==E.Time)&&(!this.onlyWithMe()||o.isWithMe))),this.filteredDatesMap=i1(()=>{let o=this.filteredDates();return new Map(o.map(i=>[this.formatVoteDate(i.date),i]))})}refresh(){this.refresh$.next(!0)}formatVoteDate(o){return v1(o,"yyyy-MM-dd")}getVoteDate(o){let i=this.formatVoteDate(o);return this.filteredDatesMap().get(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appResultView",""]],inputs:{eventId:[1,"eventId"],min:[1,"min"],noMaybe:[1,"noMaybe"],noTime:[1,"noTime"],onlyWithMe:[1,"onlyWithMe"],trimPast:[1,"trimPast"]},exportAs:["appResultView"]});let n=t;return n})();var Ft=n2(r2());var _0=class{static getColorByType(t){switch(t){case E.Ready:return"primary";case E.Maybe:return"warning";case E.Time:return"success"}}static getIconByType(t){switch(t){case E.Ready:return"checkmark-outline";case E.Maybe:return"help-outline";case E.Time:return"time-outline"}}};var i2={Member:{en:"member",ru:"\u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A"},NoData:{en:"No data, try to change filters",ru:"\u041F\u0443\u0441\u0442\u043E, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u044B"},NoTimeOverlap:{en:"No time overlap",ru:"\u041D\u0435\u0442 \u043E\u0431\u0449\u0435\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438"}};var Ye=()=>[0,1];function Xe(n,t){if(n&1&&(y2(0),g(1,"h3"),f(2),d(3,"date"),v(),C2()),n&2){let e=t.ngIf,o=M(3);h(2),k(" ",U0(3,1,o.resultDate.date,e.dateFormat,void 0,e.localize)," ")}}function Je(n,t){if(n&1&&(g(0,"ion-chip",6),y(1,"ion-icon",9),g(2,"ion-label"),f(3),d(4,"localize"),v()()),n&2){let e=M(3);h(3),k(" ",x(4,1,e.ResultViewLocalize.NoTimeOverlap)," ")}}function Ze(n,t){if(n&1&&(g(0,"ion-chip",7),y(1,"ion-icon",10),g(2,"ion-label"),f(3),d(4,"date"),d(5,"date"),v()()),n&2){let e=M(3);u("color",e.Helpers.getColorByType(e.resultDate.voteType)),h(),u("name",e.Helpers.getIconByType(e.resultDate.voteType)),h(2),A1(" ",e.resultDate.start?r1(4,4,e.resultDate.start,"HH:mm"):"00:00"," - ",e.resultDate.end?r1(5,7,e.resultDate.end,"HH:mm"):"23:59"," ")}}function t5(n,t){if(n&1&&(g(0,"ion-text",11),f(1),v()),n&2){let e=M().$implicit;h(),k(" ",e.username?"@"+e.username:e.fullName," ")}}function e5(n,t){if(n&1&&f(0),n&2){let e=M().$implicit;k(" ",e.fullName," ")}}function o5(n,t){if(n&1&&(g(0,"ion-label"),X(1,t5,2,1,"ion-text",11)(2,e5,1,1),v()),n&2){let e=t.$implicit,o=M(3);h(),J(o.timeModeIndexes.has(e.index)?1:2)}}function i5(n,t){if(n&1&&(g(0,"ion-text",12),f(1),d(2,"date"),d(3,"date"),v()),n&2){let e=M().$implicit,o=M(3);u("color",o.Helpers.getColorByType(e.voteType)),h(),A1(" ",e.start?r1(2,3,e.start,"HH:mm"):"00:00"," - ",e.end?r1(3,6,e.end,"HH:mm"):"23:59"," ")}}function n5(n,t){if(n&1&&y(0,"ion-icon",13),n&2){let e=M().$implicit,o=M(3);u("color",o.Helpers.getColorByType(e.voteType))("icon",o.Helpers.getIconByType(e.voteType))}}function s5(n,t){if(n&1&&X(0,i5,4,9,"ion-text",12)(1,n5,1,2,"ion-icon",13),n&2){let e=t.$implicit,o=M(3);J(o.timeModeIndexes.has(e.index)?0:1)}}function a5(n,t){if(n&1){let e=q();g(0,"div",4),G(1,Xe,4,6,"ng-container",5),d(2,"async"),X(3,Je,5,3,"ion-chip",6)(4,Ze,6,10,"ion-chip",7),v(),g(5,"app-users-list",8),V("userClicked",function(i){L(e);let s=M(2);return _(s.toggleUserMode(i.user))})("searchFocused",function(i){L(e),M(2);let s=I(1);return _(s.backdropDismiss=!i)}),G(6,o5,3,1,"ng-template",null,1,a2)(8,s5,2,1,"ng-template",null,2,a2),v()}if(n&2){let e=M(2);h(),u("ngIf",x(2,4,e.dateFormat$)),h(2),J(e.resultDate.noTimeOverlap?3:4),h(2),u("users",e.resultDate.users)("clickable",!0)}}function l5(n,t){if(n&1&&X(0,a5,10,6),n&2){let e=M();J(e.resultDate?0:-1)}}var h4=(()=>{let t=class t{constructor(){this.ionModal=Q1(Y1),this.timeModeIndexes=new Set,this.Helpers=_0,this.localizeService=m(d1),this.ResultViewLocalize=i2,this.dateFormat$=this.localizeService.localizeLongDateFormat$}present(o){let i=this.ionModal();i&&(this.resultDate=o,o.users=o.users.map((s,a)=>_1(e1({},s),{index:a})),i.present())}clearData(){this.resultDate=void 0,this.timeModeIndexes=new Set}toggleUserMode(o){let i=o.index;this.timeModeIndexes.has(i)?this.timeModeIndexes.delete(i):this.timeModeIndexes.add(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-result-date-info-modal"]],viewQuery:function(i,s){i&1&&W1(s.ionModal,Y1,5),i&2&&u0()},decls:3,vars:3,consts:[["modal",""],["altLabel",""],["end",""],[3,"ionModalDidDismiss","initialBreakpoint","breakpoints"],[1,"header"],[4,"ngIf"],["color","danger"],[1,"ion-activated",3,"color"],[3,"userClicked","searchFocused","users","clickable"],["name","alert-circle-outline"],[3,"name"],["color","medium"],[1,"user-time-info",3,"color"],[3,"color","icon"]],template:function(i,s){if(i&1){let a=q();g(0,"ion-modal",3,0),V("ionModalDidDismiss",function(){return L(a),_(s.clearData())}),G(2,l5,1,1,"ng-template"),v()}i&2&&u("initialBreakpoint",1)("breakpoints",M1(2,Ye))},dependencies:[p1,K1,n1,s1,T2,H1,G1,a1,a4,Y1,O2],styles:["ion-modal[_ngcontent-%COMP%]{--height: auto}ion-modal[_ngcontent-%COMP%]   app-users-list[_ngcontent-%COMP%]{height:52.25vh;padding:0 1rem 1rem}.header[_ngcontent-%COMP%]{padding:2rem 2rem .5rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;column-gap:.5rem;row-gap:.25rem}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{pointer-events:none;margin:0}.user-time-info[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:-1px}"]});let n=t;return n})();var It=(()=>{let t=class t{get rootEl(){return this.elRef.nativeElement.shadowRoot}constructor(){this.data=m(i0),this.elRef=m(w0),this.rootObs=new MutationObserver(()=>{let o=this.rootEl.querySelectorAll("button.calendar-day");this.dateButtons$.next(Array.from(o))}),this.dateButtons$=new f2(1),this.voteDateSelected$=this.dateButtons$.pipe(D(o=>{let i=o.map(s=>V1(s,"click",{capture:!0}).pipe($(a=>a.stopPropagation()),R(()=>s)));return u1(...i)}),q0((o,i)=>!this.noActionsAfterReset&&o===i),R(o=>this.getDateSelectedEvent(o)),R(o=>o.voteDate?o:void 0),a0(void 0),d3(),$(([o,i])=>this.handleButtonStyles(o,i)),R(([o,i])=>i?.voteDate),$(()=>this.noActionsAfterReset=!1)),this.noActionsAfterReset=!0,this.dateSelected=u1(this.voteDateSelected$,this.getResetDateEvent(this.dateButtons$),this.getResetDateEvent(D1(this.data.filteredDates)))}ngAfterViewInit(){this.rootObs.observe(this.rootEl,{childList:!0,subtree:!0})}ngOnDestroy(){this.dateButtons$.complete(),this.rootObs.disconnect()}getResetDateEvent(o){return o.pipe($(()=>this.noActionsAfterReset=!0),R(()=>{}))}getDateSelectedEvent(o){let i=Number(o.getAttribute("data-day")),s=Number(o.getAttribute("data-month")),a=Number(o.getAttribute("data-year")),l=new Date(a,s-1,i);return{prevBgColor:o.style.backgroundColor,prevColor:o.style.color,voteDate:this.data.getVoteDate(l),buttonEl:o}}handleButtonStyles(o,i){if(o&&!this.noActionsAfterReset){let s=o.buttonEl;s.style.backgroundColor=`${o.prevBgColor} !important`,s.style.color=`${o.prevColor} !important`}if(i){let s=i.buttonEl;s.style.backgroundColor=`${s.style.color} !important`,s.style.color="var(--ion-color-contrast) !important"}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=h1({type:t,selectors:[["","appResultViewCalendarPicker",""]],outputs:{dateSelected:"dateSelected"}});let n=t;return n})();function r5(n,t){if(n&1){let e=q();g(0,"div",4)(1,"ion-item",5),V("click",function(){let i=L(e).ngIf;M();let s=I(6);return _(s.present(i))}),y(2,"ion-icon",6),g(3,"ion-label"),f(4),d(5,"date"),v(),g(6,"ion-note",7),f(7),d(8,"localizeMany"),v()()()}if(n&2){let e=t.ngIf,o=M();h(2),u("color",e.noTimeOverlap?"danger":o.Helpers.getColorByType(e.voteType))("name",o.Helpers.getIconByType(e.voteType)),h(2),k(" ",r1(5,5,e.date,"dd.MM.yyyy")," "),h(3),A1(" ",e.users.length," ",r1(8,8,o.ResultViewLocalize.Member,e.users.length)," ")}}var Rt=(()=>{let t=class t{constructor(){this.minDate=P(),this.maxDate=P(),this.ionDateComponent=Q1(Z1),this.data=m(i0),this.Helpers=_0,this.ResultViewLocalize=i2,this.selectedDate=K(void 0),this.localizeService=m(d1),this.localizeFormat$=this.localizeService.localizationWithFormat$,S2(()=>{let o=this.ionDateComponent(),i=this.data.filteredDates();if(o)if(i.length===0){o.highlightedDates=[];return}else{let s=(0,Ft.groupBy)(i,"voteType"),a=s[E.Ready]??[],l=s[E.Maybe]??[],r=s[E.Time]??[];o.highlightedDates=[...a.map(c=>({date:this.data.formatVoteDate(c.date),textColor:"var(--ready-text-color) !important",backgroundColor:"var(--ready-bg-color) !important"})),...l.map(c=>({date:this.data.formatVoteDate(c.date),textColor:"var(--maybe-text-color) !important",backgroundColor:"var(--maybe-bg-color) !important"})),...r.map(c=>({date:this.data.formatVoteDate(c.date),textColor:"var(--time-text-color) !important",backgroundColor:"var(--time-bg-color) !important"}))]}else return})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-result-view-calendar"]],viewQuery:function(i,s){i&1&&W1(s.ionDateComponent,Z1,5),i&2&&u0()},inputs:{minDate:[1,"minDate"],maxDate:[1,"maxDate"]},decls:7,vars:7,consts:[["infoModal",""],[1,"calendar-header"],["appResultViewCalendarPicker","","presentation","date","mode","ios",1,"wtd-datetime",3,"dateSelected","firstDayOfWeek","min","max","locale"],["class","calendar-footer",4,"ngIf"],[1,"calendar-footer"],["button","","lines","none",3,"click"],["slot","start",3,"color","name"],["slot","end"]],template:function(i,s){if(i&1){let a=q();g(0,"div"),y(1,"div",1),g(2,"ion-datetime",2),d(3,"async"),V("dateSelected",function(r){return L(a),_(s.selectedDate.set(r))}),v(),G(4,r5,9,11,"div",3),v(),y(5,"app-result-date-info-modal",null,0)}i&2&&(h(2),u("firstDayOfWeek",1)("min",s.minDate()??void 0)("max",s.maxDate()??void 0)("locale",x(3,5,s.localizeFormat$)),h(2),u("ngIf",s.selectedDate()))},dependencies:[p1,K1,n1,s1,b1,M0,H1,G1,z0,Z1,h4,It],styles:[".calendar-header[_ngcontent-%COMP%]{background-color:var(--ion-color-light, #f4f5f8);border-top-left-radius:.5rem;border-top-right-radius:.5rem;width:100%;height:.5rem}ion-datetime[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem}.calendar-footer[_ngcontent-%COMP%]{background-color:var(--ion-color-light, #f4f5f8);border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem;padding-bottom:.25rem}.calendar-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent}"],changeDetection:0});let n=t;return n})();function c5(n,t){if(n&1){let e=q();g(0,"ion-item",4),V("click",function(){let i=L(e).$implicit;M();let s=I(5);return _(s.present(i))}),y(1,"ion-icon",5),g(2,"ion-label"),f(3),d(4,"date"),v(),g(5,"ion-note",6),f(6),d(7,"localizeMany"),v()()}if(n&2){let e=t.$implicit,o=t.$index,i=t.$count,s=M();u("lines",o===i-1?"none":""),h(),u("color",e.noTimeOverlap?"danger":s.Helpers.getColorByType(e.voteType))("name",s.Helpers.getIconByType(e.voteType)),h(2),k(" ",r1(4,6,e.date,"dd.MM.yyyy")," "),h(3),A1(" ",e.users.length," ",r1(7,9,s.ResultViewLocalize.Member,e.users.length)," ")}}function h5(n,t){if(n&1&&(g(0,"ion-item",3),y(1,"ion-icon",7),g(2,"ion-note",8),f(3),d(4,"localize"),v()()),n&2){let e=M();h(3),k(" ",x(4,1,e.ResultViewLocalize.NoData)," ")}}var Nt=(()=>{let t=class t{constructor(){this.data=m(i0),this.filteredDates=this.data.filteredDates,this.Helpers=_0,this.ResultViewLocalize=i2}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-result-view-list"]],decls:6,vars:1,consts:[["infoModal",""],["mode","ios"],["button","",3,"lines"],["lines","none"],["button","",3,"click","lines"],["slot","start",3,"color","name"],["slot","end"],["slot","start","name","calendar-clear-outline","color","medium"],[1,"no-data"]],template:function(i,s){i&1&&(g(0,"ion-list",1),$1(1,c5,8,12,"ion-item",2,q1,!1,h5,5,3,"ion-item",3),v(),y(4,"app-result-date-info-modal",null,0)),i&2&&(h(),U1(s.filteredDates()))},dependencies:[p1,n1,s1,J1,b1,M0,G1,a1,z0,h4],styles:["ion-list[_ngcontent-%COMP%]{background:var(--ion-color-light, #f4f5f8);border-radius:.5rem;padding-block:.25rem}ion-item[_ngcontent-%COMP%]{--background: transparent}.no-data[_ngcontent-%COMP%]{font-size:.9rem;line-height:.9rem}"],changeDetection:0});let n=t;return n})();var g4={Results:{en:"Results",ru:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B"},Vote:{en:"Vote",ru:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0434\u0430\u0442\u044B"},EventEnded:{en:"This event has already ended",ru:"\u042D\u0442\u043E \u0441\u043E\u0431\u044B\u0442\u0438\u0435 \u0443\u0436\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043B\u043E\u0441\u044C"},LeaveQuestion:{en:"Leave this page?",ru:"\u041F\u043E\u043A\u0438\u043D\u0443\u0442\u044C \u044D\u0442\u0443 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443?"},LoseUnsaved:{en:"You have unsaved changes",ru:"\u0415\u0441\u0442\u044C \u043D\u0435\u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"}};var g5=()=>[];function v5(n,t){if(n&1&&(g(0,"div",9),y(1,"ion-icon",18),g(2,"span",19),f(3),d(4,"localize"),v()()),n&2){let e=M();h(3),k(" ",x(4,1,e.VotePageLocalize.EventEnded)," ")}}function d5(n,t){n&1&&y(0,"app-result-view-list")}function p5(n,t){if(n&1&&y(0,"app-result-view-calendar",17),n&2){M();let e=g1(3);u("minDate",e==null?null:e.starts)("maxDate",e==null?null:e.ends)}}var qt=(()=>{let t=class t{constructor(){this.eventId=P.required(),this.mainInfoComponent=Q1(l4),this.voteCalendarComponent=Q1(c4),this.resultDirective=Q1(i0),this.alreadyInit=!1,this.preventLeave=!1,this.tg=m(k1),this.confirm=m(T1),this.local=m(d1),this.ViewPick=d0,this.VotePageLocalize=g4,this.today=D2(new Date)}ionViewWillEnter(){this.alreadyInit?(this.resultDirective()?.refresh(),this.mainInfoComponent()?.refreshInfo(),this.voteCalendarComponent()?.resetDates$.next(!0)):this.alreadyInit=!0}ionViewDidLeave(){this.tg.toggleClosingConfirm(!1)}canDeactivate(){let o=this.local.localizeSync(g4.LeaveQuestion),i=this.local.localizeSync(g4.LoseUnsaved);return this.preventLeave?this.confirm.createConfirm({header:o,message:i}):m0(!0)}isEventEnded(o){return o?this.today>new Date(o):!1}onNoUnsavedChanges(o){this.preventLeave=!o,this.tg.toggleClosingConfirm(!o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-vote-event-page"]],viewQuery:function(i,s){i&1&&(W1(s.mainInfoComponent,l4,5),W1(s.voteCalendarComponent,c4,5),W1(s.resultDirective,i0,5)),i&2&&u0(3)},hostAttrs:[1,"app-page-inner"],inputs:{eventId:[1,"eventId"]},decls:31,vars:30,consts:[["eventMainInfo",""],["filters",""],["viewPicker",""],["resLoading","appFeatureLoad","result","appResultView"],[1,"ion-padding"],["appFeatureLoad","","placeholderOpacity","0.85",3,"eventId"],["mode","ios"],["value","vote","contentId","vote"],["value","info","contentId","info"],[1,"event-ended-warning"],["id","vote"],[1,"segment-view-content"],["appFeatureLoad","","placeholderOpacity","0.75",3,"noUnsavedChanges","voteUpdated","eventId","minDate","maxDate","daysOfWeek"],["id","info"],[3,"disabled","maxMembers","maxOverlap"],[3,"refresh","disabled"],["appFeatureLoad","","placeholderOpacity","0.75","appResultView","",3,"viewPick","eventId","min","noMaybe","noTime","onlyWithMe","trimPast"],[3,"minDate","maxDate"],["name","alert-circle-outline"],[1,"label"]],template:function(i,s){if(i&1){let a=q();g(0,"ion-content",4),y(1,"app-event-main-info",5,0),f1(3),g(4,"ion-segment",6)(5,"ion-segment-button",7)(6,"ion-label"),f(7),d(8,"localize"),v()(),g(9,"ion-segment-button",8)(10,"ion-label"),f(11),d(12,"localize"),v()()(),X(13,v5,5,3,"div",9),g(14,"ion-segment-view",6)(15,"ion-segment-content",10)(16,"div",11)(17,"app-vote-calendar",12),V("noUnsavedChanges",function(r){return L(a),_(s.onNoUnsavedChanges(r))})("voteUpdated",function(r){L(a);let c=I(2),p=I(28);return r.alreadyVoted||c.refreshUsers(),_(p.refresh())}),v()()(),g(18,"ion-segment-content",13)(19,"div",11),y(20,"app-result-filters",14,1),d(22,"async"),g(23,"app-result-view-picker-control",15,2),d(25,"async"),V("refresh",function(){L(a);let r=I(28);return _(r.refresh())}),v(),g(26,"app-result-view-picker-container",16,3),X(29,d5,1,0,"app-result-view-list")(30,p5,1,2,"app-result-view-calendar",17),v()()()()()}if(i&2){let a,l,r=I(2),c=I(21),p=I(24),w=I(27),O=I(28);h(),u("eventId",s.eventId()),h(2);let S=j1(r.info()),C=r.users();h(4),k(" ",x(8,21,s.VotePageLocalize.Vote)," "),h(4),k(" ",x(12,23,s.VotePageLocalize.Results)," "),h(2),J(s.isEventEnded(S==null?null:S.ends)?13:-1),h(4),u("eventId",s.eventId())("minDate",S==null?null:S.starts)("maxDate",S==null?null:S.ends)("daysOfWeek",S!=null&&S.specifyDaysOfWeek?S==null?null:S.isoDaysOfWeek:M1(29,g5)),h(3),u("disabled",x(22,25,w.loading$))("maxMembers",(C==null?null:C.length)??0)("maxOverlap",(a=O.info())==null?null:a.maxOverlap),h(3),u("disabled",x(25,27,w.loading$)),h(3),u("viewPick",p.value())("eventId",s.eventId())("min",c.membersCount())("noMaybe",c.noMaybe())("noTime",c.noTime())("onlyWithMe",c.onlyWithMe())("trimPast",c.trimPast()),h(3),J((l=p.value())===s.ViewPick.List?29:l===s.ViewPick.Calendar?30:-1)}},dependencies:[P2,E2,n1,s1,H1,a1,c4,l4,Lt,Tt,Dt,Nt,Rt,i0,l6,X3,J3,Z3,S0],styles:["ion-segment[_ngcontent-%COMP%]{margin:1rem 0 .5rem;background:var(--ion-color-light, #f4f5f8)}ion-segment-button[_ngcontent-%COMP%]:before{content:none!important}ion-segment-view[_ngcontent-%COMP%]{height:auto}.event-ended-warning[_ngcontent-%COMP%]{margin:.75rem .75rem .25rem;padding:.5rem 1.15rem;border-radius:.5rem;color:var(--ion-color-danger-shade, #ad000d);background-color:rgba(var(--ion-color-danger-rgb, 197, 0, 15),.12);display:flex;align-items:center;gap:.5rem}.event-ended-warning[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.event-ended-warning[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}.segment-view-content[_ngcontent-%COMP%]{padding:.25rem .75rem 1.25rem;display:flex;flex-direction:column;gap:.75rem}"],changeDetection:0});let n=t;return n})();var t3={Name:{en:"Event name",ru:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},Starts:{en:"Starts",ru:"\u041D\u0430\u0447\u0430\u043B\u043E"},Ends:{en:"Ends",ru:"\u041A\u043E\u043D\u0435\u0446"},Description:{en:"Description",ru:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},NamePlaceholder:{en:"Enter name",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},DescriptionPlaceholder:{en:"Enter description",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},SpecificDaysOfWeek:{en:"Restrict by days of week",ru:"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0438\u0442\u044C \u043F\u043E \u0434\u043D\u044F\u043C \u043D\u0435\u0434\u0435\u043B\u0438"},DaysOfWeekPlaceholder:{en:"Available days of week",ru:"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0434\u043D\u0438 \u043D\u0435\u0434\u0435\u043B\u0438"},SaveEvent:{en:"Save event",ru:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435"},HasBeenSaved:{en:"All changes have been saved successfully",ru:"\u0412\u0441\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B"},Cancel:{en:"Cancel",ru:"\u041E\u0442\u043C\u0435\u043D\u0430"}};var $t=(()=>{let t=class t{constructor(){this.baseUrl="events",this.http=m(x0)}getEventInfo(o){return this.http.get(`${this.baseUrl}/info/${o}`)}createEvent(o){return this.http.post(this.baseUrl,o)}updateEvent(o,i){return this.http.patch(`${this.baseUrl}/${o}`,i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=o1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Wt=n2(r2());var Ut=()=>[0,1];function m5(n,t){if(n&1&&y(0,"ion-datetime",15),n&2){M();let e=g1(4);u("firstDayOfWeek",1)("locale",e)}}function w5(n,t){if(n&1&&y(0,"ion-datetime",16),n&2){M();let e=g1(4);u("firstDayOfWeek",1)("locale",e)}}function u5(n,t){if(n&1&&(f1(0),d(1,"date"),g(2,"ion-select-option",18),f(3),d(4,"titlecase"),v()),n&2){let e=t.$implicit;M(2);let o=g1(4),i=U0(1,2,e.date,"EEEE",void 0,o);h(2),u("value",e.value),h(),B3(x(4,7,i))}}function x5(n,t){if(n&1&&(g(0,"ion-item")(1,"ion-select",17),d(2,"localize"),d(3,"localize"),d(4,"localize"),$1(5,u5,5,9,"ion-select-option",18,q1),v()()),n&2){let e=M();h(),u("label",x(2,4,e.EditEventFormLocalize.DaysOfWeekPlaceholder))("placeholder",x(3,6,e.EditEventFormLocalize.DaysOfWeekPlaceholder))("cancelText",x(4,8,e.EditEventFormLocalize.Cancel))("multiple",!0),h(4),U1(e.daysOfWeek)}}function f5(n,t){n&1&&y(0,"ion-spinner",13)}function M5(n,t){if(n&1&&y(0,"ion-icon",14),n&2){let e=M();u("name",e.eventId()?"checkmark-outline":"add-outline")}}var Qt=(()=>{let t=class t{constructor(){this.eventId=P(),this.startVal=v1(new Date,"yyyy-MM-dd"),this.endVal=v1(h6(new Date,1),"yyyy-MM-dd"),this.eventFormGroup=new N3({name:new b0("",_2.required),starts:new b0(this.startVal,_2.required),ends:new b0(this.endVal,_2.required),description:new b0(""),specifyDaysOfWeek:new b0(!1),isoDaysOfWeek:new b0([])}),this.startDate=k0(this.eventFormGroup.controls.starts.valueChanges,{initialValue:this.startVal}),this.endDate=k0(this.eventFormGroup.controls.ends.valueChanges,{initialValue:this.endVal}),this.isDatesInvalid=i1(()=>{let o=new Date(this.startDate()),i=new Date(this.endDate());return o>=i}),this.local=m(d1),this.localizeFormat$=this.local.localizationWithFormat$,this.EditEventFormLocalize=t3,this.tools=m(Y0),this.daysOfWeek=this.tools.daysOfWeek.map((o,i)=>({date:o,value:i+1})),this.router=m(f0),this.activatedRoute=m(T3),this.toast=m(t0),this.request=m($t),this.loading$=new U,this.eventInfoManual$=new U,this.eventInfo$=D1(this.eventId).pipe($(()=>this.eventFormGroup.disable()),D(o=>o?this.request.getEventInfo(o):m0(null)),$(()=>this.eventFormGroup.enable()),S1(1)),this.initFormValues=this.eventFormGroup.getRawValue(),this.noUnsavedChanges=h3([this.eventFormGroup.valueChanges,u1(this.eventInfo$,this.eventInfoManual$)]).pipe(R(([o,i])=>{let s=i??this.initFormValues;return Object.entries(o).every(([a,l])=>{let r=s[a];return(0,Wt.isEqual)(r,l)})}),S1(1)),this.destroyed$=new U}ngOnInit(){this.eventInfo$.pipe(N0(o=>o!==null),N1(this.destroyed$)).subscribe(o=>{this.eventFormGroup.patchValue({name:o.name,starts:o.starts,ends:o.ends,description:o.description,specifyDaysOfWeek:o.specifyDaysOfWeek===!0,isoDaysOfWeek:o.isoDaysOfWeek??[]})})}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}saveChanges(){let o=this.eventId(),i=this.eventFormGroup.getRawValue(),s=o?this.request.updateEvent(o,i):this.request.createEvent(i);this.eventFormGroup.disable(),s.pipe(n0(1)).subscribe(a=>{this.eventFormGroup.enable();let l=this.local.localizeSync(t3.HasBeenSaved);this.toast.info(l,"cloud-done-outline"),this.eventInfoManual$.next(a),this.updateIdQueryParam(a.id)})}updateIdQueryParam(o){let i={queryParams:{eventId:o},relativeTo:this.activatedRoute,queryParamsHandling:"merge"};this.router.navigate([],i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-edit-event-form"]],inputs:{eventId:[1,"eventId"]},outputs:{noUnsavedChanges:"noUnsavedChanges"},decls:48,vars:50,consts:[["startDateModal",""],["endDateModal",""],[3,"formGroup"],["mode","ios",3,"inset"],["color","dark","slot","end","formControlName","name",3,"placeholder"],[3,"click"],["datetime","datetimeStart"],[1,"event-datetime-modal",3,"keepContentsMounted","initialBreakpoint","breakpoints"],["datetime","datetimeEnd"],["lines","none",1,"notes-item"],["color","dark","slot","end","formControlName","description",3,"autoGrow","placeholder"],["formControlName","specifyDaysOfWeek"],["mode","ios","expand","block",1,"save-changes-button",3,"click","disabled"],["mode","ios","slot","start"],["slot","start",3,"name"],["id","datetimeStart","formControlName","starts","presentation","date","mode","ios",3,"firstDayOfWeek","locale"],["id","datetimeEnd","formControlName","ends","presentation","date","mode","ios",3,"firstDayOfWeek","locale"],["formControlName","isoDaysOfWeek",1,"week-select",3,"label","placeholder","cancelText","multiple"],[3,"value"]],template:function(i,s){if(i&1){let a=q();f1(0),d(1,"async"),f1(2),d(3,"async"),f1(4),d(5,"async"),y2(6,2),g(7,"ion-list",3)(8,"ion-item")(9,"ion-label"),f(10),d(11,"localize"),v(),y(12,"ion-input",4),d(13,"localize"),v(),g(14,"ion-item",5),V("click",function(){L(a);let r=I(20);return _(r.present())}),g(15,"ion-label"),f(16),d(17,"localize"),v(),y(18,"ion-datetime-button",6),g(19,"ion-modal",7,0),G(21,m5,1,2,"ng-template"),v()(),g(22,"ion-item",5),V("click",function(){L(a);let r=I(28);return _(r.present())}),g(23,"ion-label"),f(24),d(25,"localize"),v(),y(26,"ion-datetime-button",8),g(27,"ion-modal",7,1),G(29,w5,1,2,"ng-template"),v()(),g(30,"ion-item",9)(31,"ion-label"),f(32),d(33,"localize"),v(),y(34,"ion-textarea",10),d(35,"localize"),v()(),g(36,"ion-list",3)(37,"ion-item")(38,"ion-checkbox",11),f(39),d(40,"localize"),v()(),X(41,x5,7,10,"ion-item"),v(),C2(),g(42,"ion-button",12),V("click",function(){return L(a),_(s.saveChanges())}),X(43,f5,1,0,"ion-spinner",13)(44,M5,1,1,"ion-icon",14),g(45,"ion-label"),f(46),d(47,"localize"),v()()}if(i&2){let a,l=s.eventFormGroup.disabled,r=((a=x(1,25,s.eventInfo$))==null?null:a.canEdit)!==!1,c=x(3,27,s.noUnsavedChanges);h(4),j1(x(5,29,s.localizeFormat$)??void 0),h(2),u("formGroup",s.eventFormGroup),h(),B1("form-disabled",l),u("inset",!0),h(3),k(" ",x(11,32,s.EditEventFormLocalize.Name)," "),h(2),u("placeholder",x(13,34,s.EditEventFormLocalize.NamePlaceholder)),h(4),k(" ",x(17,36,s.EditEventFormLocalize.Starts)," "),h(3),u("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",M1(48,Ut)),h(5),k(" ",x(25,38,s.EditEventFormLocalize.Ends)," "),h(3),u("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",M1(49,Ut)),h(5),k(" ",x(33,40,s.EditEventFormLocalize.Description)," "),h(2),u("autoGrow",!0)("placeholder",x(35,42,s.EditEventFormLocalize.DescriptionPlaceholder)),h(2),B1("form-disabled",l),u("inset",!0),h(3),k(" ",x(40,44,s.EditEventFormLocalize.SpecificDaysOfWeek)," "),h(2),J(s.eventFormGroup.controls.specifyDaysOfWeek.value?41:-1),h(),u("disabled",!r||l||c||s.eventFormGroup.invalid||s.isDatesInvalid()),h(),J(l?43:44),h(3),k(" ",x(47,46,s.EditEventFormLocalize.SaveEvent)," ")}},dependencies:[p1,n1,X1,s1,J1,b1,H1,B2,G1,a1,n6,Y1,Z1,Y3,c6,e6,j2,r6,t6,U3,W0,R3,q3,$3],styles:["ion-list[_ngcontent-%COMP%]{padding:.25rem;background:var(--ion-color-light, #f4f5f8)}.form-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .form-disabled[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{opacity:.5!important}ion-item[_ngcontent-%COMP%]{--background: transparent;--min-height: 56px;border-radius:.5rem}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:1.25rem .5rem 1.25rem 0}ion-textarea[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{text-align:end;margin-right:.25rem;width:60%!important}.week-select[_ngcontent-%COMP%]::part(label){display:none}.week-select[_ngcontent-%COMP%]::part(container){padding-right:1.5rem}.week-select[_ngcontent-%COMP%]::part(icon){position:absolute;right:2px}.notes-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:auto}.notes-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{margin-top:.6rem}.save-changes-button[_ngcontent-%COMP%]{margin:.5rem 1rem}.save-changes-button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-left:-.25rem;margin-inline-end:.5rem}.save-changes-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;margin-inline-end:.5rem}.save-changes-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{line-height:1.75rem}  .event-datetime-modal{--max-width: 600px;--height: auto !important}  .event-datetime-modal .ion-delegate-host{padding:1rem 1.75rem 1.5rem!important;background-color:var(--ion-color-light, #f4f5f8)!important}  .event-datetime-modal ion-datetime{width:100%!important}"]});let n=t;return n})();var u2={CreateEvent:{en:"Create event",ru:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435"},EditEvent:{en:"Edit event",ru:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435"},Link:{en:"Link",ru:"\u0421\u0441\u044B\u043B\u043A\u0430"},Share:{en:"Share",ru:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F"},GoTo:{en:"Go to",ru:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438"},ClipboardLink:{en:"Link to event was copied to clipboard",ru:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0441\u043E\u0431\u044B\u0442\u0438\u0435 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430"},LeaveQuestion:{en:"Leave this page?",ru:"\u041F\u043E\u043A\u0438\u043D\u0443\u0442\u044C \u044D\u0442\u0443 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443?"},LoseUnsaved:{en:"You have unsaved changes",ru:"\u0415\u0441\u0442\u044C \u043D\u0435\u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"}};function k5(n,t){if(n&1){let e=q();g(0,"div",5)(1,"ion-button",6),V("click",function(){L(e);let i=M();return _(i.copyToClipboard())}),y(2,"ion-icon",7),g(3,"span"),f(4),d(5,"localize"),v()(),g(6,"ion-button",6),V("click",function(){L(e);let i=M();return _(i.share())}),y(7,"ion-icon",8),g(8,"span"),f(9),d(10,"localize"),v()(),g(11,"ion-button",6),V("click",function(){L(e);let i=M();return _(i.redirectToEvent())}),y(12,"ion-icon",9),g(13,"span"),f(14),d(15,"localize"),v()()()}if(n&2){let e=M(),o=I(5);B1("disabled",o.eventFormGroup.disabled),h(4),k(" ",x(5,5,e.EditEventPageLocalize.Link)," "),h(5),k(" ",x(10,7,e.EditEventPageLocalize.Share)," "),h(5),k(" ",x(15,9,e.EditEventPageLocalize.GoTo)," ")}}var Kt=(()=>{let t=class t{constructor(){this.eventId=P(),this.router=m(f0),this.toast=m(t0),this.tg=m(k1),this.confirm=m(T1),this.local=m(d1),this.EditEventPageLocalize=u2,this.preventLeave=!1}ionViewDidLeave(){this.tg.toggleClosingConfirm(!1)}canDeactivate(){let o=this.local.localizeSync(u2.LeaveQuestion),i=this.local.localizeSync(u2.LoseUnsaved);return this.preventLeave?this.confirm.createConfirm({header:o,message:i}):m0(!0)}onNoUnsavedChanges(o){this.preventLeave=!o,this.tg.toggleClosingConfirm(!o)}copyToClipboard(){this.tg.getEventTgLink(this.eventId()).pipe(D(o=>M2(navigator.clipboard.writeText(o))),n0(1)).subscribe(()=>{let o=this.local.localizeSync(u2.ClipboardLink);this.toast.light(o,"clipboard-outline")})}share(){this.eventId()&&this.tg.shareEvent(this.eventId())}redirectToEvent(){this.router.navigate(["vote",this.eventId()])}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-edit-event-page"]],hostAttrs:[1,"app-page-inner"],inputs:{eventId:[1,"eventId"]},decls:7,vars:5,consts:[["form",""],[1,"ion-padding"],[1,"title"],[3,"noUnsavedChanges","eventId"],["class","done-actions",3,"disabled",4,"ngIf"],[1,"done-actions"],["mode","ios","size","small","color","light",3,"click"],["name","link-outline","slot","start"],["name","arrow-redo-outline","slot","start"],["name","arrow-forward","slot","end"]],template:function(i,s){if(i&1){let a=q();g(0,"ion-content",1)(1,"h3",2),f(2),d(3,"localize"),v(),g(4,"app-edit-event-form",3,0),V("noUnsavedChanges",function(r){return L(a),_(s.onNoUnsavedChanges(r))}),v(),G(6,k5,16,11,"div",4),v()}i&2&&(h(2),k(" ",x(3,3,s.eventId()?s.EditEventPageLocalize.EditEvent:s.EditEventPageLocalize.CreateEvent)," "),h(2),u("eventId",s.eventId()),h(2),u("ngIf",s.eventId()))},dependencies:[P2,K1,E2,s1,a1,Qt,X1],styles:[".title[_ngcontent-%COMP%]{margin-left:1.25rem;margin-bottom:1rem}.done-actions[_ngcontent-%COMP%]{margin:.925rem;display:flex;flex-wrap:wrap;justify-content:space-between;gap:.5rem}.done-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;--padding-top: .6rem;--padding-bottom: .6rem;--border-radius: .75rem}.done-actions.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"]});let n=t;return n})();var Gt=[{path:"edit",component:Kt,canDeactivate:[n=>n.canDeactivate()]},{path:"vote/:eventId",component:qt,canDeactivate:[n=>n.canDeactivate()]},{path:"not-found",loadComponent:()=>import("./chunk-BFV2HGBT.js").then(n=>n.NotFoundPageComponent)},{path:"not-permitted",loadComponent:()=>import("./chunk-PLDM5ZAP.js").then(n=>n.NotPermittedPageComponent)},{path:"",redirectTo:"edit",pathMatch:"full"},{path:"**",redirectTo:"not-found"}];var e3,z5=function(){if(typeof window>"u")return new Map;if(!e3){var n=window;n.Ionicons=n.Ionicons||{},e3=n.Ionicons.map=n.Ionicons.map||new Map}return e3},o3=function(n){Object.keys(n).forEach(function(t){Yt(t,n[t]);var e=t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();t!==e&&Yt(e,n[t])})},Yt=function(n,t){var e=z5(),o=e.get(n);o===void 0?e.set(n,t):o!==t&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(n,'". Ensure that multiple icons are not mapped to the same icon name.'))};var Xt="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Jt="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 367.91a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>";var Zt="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>";var t8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256L272 88v96C103.57 184 64 304.77 64 424c48.61-62.24 91.6-96 208-96v96z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var e8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-miterlimit='10' d='M108.92 108.92l294.16 294.16' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var o8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var i8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='296' cy='232' r='24'/><circle cx='376' cy='232' r='24'/><circle cx='296' cy='312' r='24'/><circle cx='376' cy='312' r='24'/><circle cx='136' cy='312' r='24'/><circle cx='216' cy='312' r='24'/><circle cx='136' cy='392' r='24'/><circle cx='216' cy='392' r='24'/><circle cx='296' cy='392' r='24'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' d='M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var n8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var s8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";var a8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 64h32a48 48 0 0148 48v320a48 48 0 01-48 48H144a48 48 0 01-48-48V112a48 48 0 0148-48h32' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='176' y='32' width='160' height='64' rx='26.13' ry='26.13' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var l8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var r8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 240c-8.89-89.54-71-144-144-144-69 0-113.44 48.2-128 96-60 6-112 43.59-112 112 0 66 54 112 120 112h260c55 0 100-27.44 100-88 0-59.82-53-85.76-96-88z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M317 208L209.2 336 163 284.8' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var c8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>";var h8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='256' cy='416' r='48'/><circle cx='256' cy='96' r='48'/></svg>";var g8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324' stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' class='ionicon-fill-none'/><circle cx='248' cy='399.99' r='32'/></svg>";var v8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>";var d8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var p8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var m8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var w8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='128' cy='256' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='112' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='400' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M169.83 279.53l172.34 96.94M342.17 135.53l-172.34 96.94' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var u8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 128v144h96' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var x8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var f8=(()=>{let t=class t{constructor(){this.tg=m(k1),this.theme=m(v6),this.destroyed$=new U,o3({chevronForwardOutline:s8,checkmarkOutline:n8,timeOutline:u8,helpOutline:g8,removeOutline:m8,closeOutline:l8,refreshOutline:p8,calendarOutline:i8,listOutline:d8,calendarClearOutline:o8,clipboardOutline:a8,arrowRedoOutline:t8,linkOutline:v8,cloudDoneOutline:r8,ellipsisVertical:h8,shareSocialOutline:w8,createOutline:c8,arrowForward:Zt,alertCircleOutline:Jt,trashOutline:x8,addOutline:Xt,banOutline:e8})}ngOnInit(){this.tg.colorScheme$.pipe(N1(this.destroyed$)).subscribe(o=>this.theme.changeColorScheme(o))}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[["mode","md"]],template:function(i,s){i&1&&(g(0,"ion-app"),y(1,"ion-router-outlet",0),v())},dependencies:[K3,Q3],encapsulation:2});let n=t;return n})();function y5(n){let t=n,e=Math.floor(Math.abs(n)),o=n.toString().replace(/^[^.]*\.?/,"").length;return o===0&&e%10===1&&e%100!==11?1:o===0&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:o===0&&e%10===0||o===0&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||o===0&&e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?4:5}var M8=["ru",[["AM","PM"],void 0,void 0],void 0,[["\u0412","\u041F","\u0412","\u0421","\u0427","\u041F","\u0421"],["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"]],void 0,[["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"]],[["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440.","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"]],[["\u0434\u043E \u043D.\u044D.","\u043D.\u044D."],["\u0434\u043E \u043D. \u044D.","\u043D. \u044D."],["\u0434\u043E \u0420\u043E\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043E\u0432\u0430","\u043E\u0442 \u0420\u043E\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043E\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,void 0,void 0],[",","\xA0",";","%","+","-","E","\xD7","\u2030","\u221E","\u043D\u0435\xA0\u0447\u0438\u0441\u043B\u043E",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"RUB","\u20BD","\u0440\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0438\u0439 \u0440\u0443\u0431\u043B\u044C",{BYN:[void 0,"\u0440."],GEL:[void 0,"\u10DA"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUB:["\u20BD"],RUR:["\u0440."],THB:["\u0E3F"],TMT:["\u0422\u041C\u0422"],TWD:["NT$"],UAH:["\u20B4"],XXX:["XXXX"]},"ltr",y5];A3(M8);b3(f8,{providers:[{provide:j3,useClass:W3},ht(),o6(),P3(Gt,I3(D3),F3()),O3(E3([gt,dt,pt])),kt(G0.isTelegramMiniApp),z3(()=>m(k1).initApp())]});
