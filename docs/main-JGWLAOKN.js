import{$ as g,$a as r6,$b as M1,A as P2,Aa as T1,Ab as E1,B as p,Ba as u2,Bb as l1,C as I3,Ca as w,Cb as J1,D as V,Da as k,Db as L0,E as A,Ea as d1,Eb as k6,F as F3,Fa as X3,Fb as z6,G as Z,Ga as x2,Gb as y6,H as f0,Ha as g1,Hb as C6,I as V4,Ia as F2,Ib as K2,J as J0,Ja as f2,Jb as S6,K as d,Ka as q,Kb as L6,L as R3,La as h0,Lb as B6,M as N3,Ma as J3,Mb as Z1,N as W,Na as z0,Nb as f1,O as w1,Oa as Z3,Ob as _6,P as i1,Pa as K1,Pb as V6,Q as I2,Qa as y0,Qb as A6,R as q3,Ra as R2,Rb as b6,S as U3,Sa as t6,Sb as H6,T as W3,Ta as e6,Tb as a2,U as u1,Ua as o6,Ub as O6,V as x1,Va as C0,Vb as t0,W as Z0,Wa as i6,Wb as y1,X as t2,Xa as n6,Xb as T6,Y as e2,Ya as a6,Yb as G2,Z as x,Za as s6,Zb as q1,_ as h,_a as S0,_b as B0,a as J,aa as L,ab as l6,ac as c1,b as b3,ba as $3,bb as c6,bc as _0,c as w2,ca as Q3,cb as h6,cc as X2,d as H3,da as A4,db as N2,dc as k1,e as j2,ea as $,eb as o2,f as x0,fa as b,fb as d6,g as I,ga as y,gb as g6,h as O3,ha as Y3,hb as M2,i as H1,ia as K3,ib as q2,j as T3,ja as b4,jb as v6,k as B1,ka as H4,kb as m6,l as G0,la as O4,lb as U2,m as E3,ma as s0,mb as p6,n as n0,na as M0,nb as w6,o as X0,oa as N,ob as u6,p as a0,pa as G3,pb as G1,q as D3,qa as O1,qb as i2,r as _1,ra as f,rb as W2,s as R1,sa as C,sb as $2,t as F,ta as V1,tb as x6,u as Q1,ua as r0,ub as n2,v as Q,va as l0,vb as X1,w as j3,wa as c0,wb as f6,x as P3,xa as N1,xb as Q2,y as j,ya as k0,yb as Y2,z as r1,za as Y1,zb as M6}from"./chunk-YVE3PMZV.js";import"./chunk-Q6FFIHTR.js";import"./chunk-7KGURMOZ.js";import"./chunk-NKG53MNX.js";import"./chunk-62TPDNO2.js";import"./chunk-7PWDY3UP.js";import"./chunk-JRYKI6H5.js";import"./chunk-GIIU5PV3.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-SPMQWSIB.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as s1,b as b1,d as A3,f as D2,g as _4}from"./chunk-2R6CW7ES.js";var O=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(O||{}),D1="*";function T4(n,t){return{type:O.Trigger,name:n,definitions:t,options:{}}}function J2(n,t=null){return{type:O.Animate,styles:t,timings:n}}function E4(n,t=null){return{type:O.Group,steps:n,options:t}}function E6(n,t=null){return{type:O.Sequence,steps:n,options:t}}function V0(n){return{type:O.Style,styles:n,offset:null}}function D4(n,t,e=null){return{type:O.Transition,expr:n,animation:t,options:e}}function k2(n,t,e=null){return{type:O.Query,selector:n,animation:t,options:e}}var e0=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}},F0=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,o=0,i=0,a=this.players.length;a==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==a&&this._onFinish()}),s.onDestroy(()=>{++o==a&&this._onDestroy()}),s.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((s,r)=>Math.max(s,r.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(o=>{let i=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(i)})}getPosition(){let t=this.players.reduce((e,o)=>e===null||o.totalTime>e.totalTime?o:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}},s2="!";function D6(n){return new j(3e3,!1)}function n8(){return new j(3100,!1)}function a8(){return new j(3101,!1)}function s8(n){return new j(3001,!1)}function r8(n){return new j(3003,!1)}function l8(n){return new j(3004,!1)}function P6(n,t){return new j(3005,!1)}function I6(){return new j(3006,!1)}function F6(){return new j(3007,!1)}function R6(n,t){return new j(3008,!1)}function N6(n){return new j(3002,!1)}function q6(n,t,e,o,i){return new j(3010,!1)}function U6(){return new j(3011,!1)}function W6(){return new j(3012,!1)}function $6(){return new j(3200,!1)}function Q6(){return new j(3202,!1)}function Y6(){return new j(3013,!1)}function K6(n){return new j(3014,!1)}function G6(n){return new j(3015,!1)}function X6(n){return new j(3016,!1)}function J6(n,t){return new j(3404,!1)}function c8(n){return new j(3502,!1)}function Z6(n){return new j(3503,!1)}function tt(){return new j(3300,!1)}function et(n){return new j(3504,!1)}function ot(n){return new j(3301,!1)}function it(n,t){return new j(3302,!1)}function nt(n){return new j(3303,!1)}function at(n,t){return new j(3400,!1)}function st(n){return new j(3401,!1)}function rt(n){return new j(3402,!1)}function lt(n,t){return new j(3505,!1)}function d0(n){switch(n.length){case 0:return new e0;case 1:return n[0];default:return new F0(n)}}function F4(n,t,e=new Map,o=new Map){let i=[],a=[],s=-1,r=null;if(t.forEach(l=>{let c=l.get("offset"),m=c==s,v=m&&r||new Map;l.forEach((B,z)=>{let M=z,_=B;if(z!=="offset")switch(M=n.normalizePropertyName(M,i),_){case s2:_=e.get(z);break;case D1:_=o.get(z);break;default:_=n.normalizeStyleValue(z,M,_,i);break}v.set(M,_)}),m||a.push(v),r=v,s=c}),i.length)throw c8(i);return a}function Z2(n,t,e,o){switch(t){case"start":n.onStart(()=>o(e&&j4(e,"start",n)));break;case"done":n.onDone(()=>o(e&&j4(e,"done",n)));break;case"destroy":n.onDestroy(()=>o(e&&j4(e,"destroy",n)));break}}function j4(n,t,e){let o=e.totalTime,i=!!e.disabled,a=t4(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,o??n.totalTime,i),s=n._data;return s!=null&&(a._data=s),a}function t4(n,t,e,o,i="",a=0,s){return{element:n,triggerName:t,fromState:e,toState:o,phaseName:i,totalTime:a,disabled:!!s}}function C1(n,t,e){let o=n.get(t);return o||n.set(t,o=e),o}function R4(n){let t=n.indexOf(":"),e=n.substring(1,t),o=n.slice(t+1);return[e,o]}var h8=typeof document>"u"?null:document.documentElement;function e4(n){let t=n.parentNode||n.host||null;return t===h8?null:t}function d8(n){return n.substring(1,6)=="ebkit"}var R0=null,j6=!1;function ct(n){R0||(R0=g8()||{},j6=R0.style?"WebkitAppearance"in R0.style:!1);let t=!0;return R0.style&&!d8(n)&&(t=n in R0.style,!t&&j6&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in R0.style)),t}function g8(){return typeof document<"u"?document.body:null}function N4(n,t){for(;t;){if(t===n)return!0;t=e4(t)}return!1}function q4(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let o=n.querySelector(t);return o?[o]:[]}var v8=1e3,U4="{{",m8="}}",W4="ng-enter",o4="ng-leave",z2="ng-trigger",y2=".ng-trigger",$4="ng-animating",i4=".ng-animating";function o0(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:P4(parseFloat(t[1]),t[2])}function P4(n,t){switch(t){case"s":return n*v8;default:return n}}function C2(n,t,e){return n.hasOwnProperty("duration")?n:p8(n,t,e)}function p8(n,t,e){let o=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,a=0,s="";if(typeof n=="string"){let r=n.match(o);if(r===null)return t.push(D6(n)),{duration:0,delay:0,easing:""};i=P4(parseFloat(r[1]),r[2]);let l=r[3];l!=null&&(a=P4(parseFloat(l),r[4]));let c=r[5];c&&(s=c)}else i=n;if(!e){let r=!1,l=t.length;i<0&&(t.push(n8()),r=!0),a<0&&(t.push(a8()),r=!0),r&&t.splice(l,0,D6(n))}return{duration:i,delay:a,easing:s}}function ht(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function U1(n,t,e){t.forEach((o,i)=>{let a=n4(i);e&&!e.has(i)&&e.set(i,n.style[a]),n.style[a]=o})}function A0(n,t){t.forEach((e,o)=>{let i=n4(o);n.style[i]=""})}function r2(n){return Array.isArray(n)?n.length==1?n[0]:E6(n):n}function dt(n,t,e){let o=t.params||{},i=Q4(n);i.length&&i.forEach(a=>{o.hasOwnProperty(a)||e.push(s8(a))})}var I4=new RegExp(`${U4}\\s*(.+?)\\s*${m8}`,"g");function Q4(n){let t=[];if(typeof n=="string"){let e;for(;e=I4.exec(n);)t.push(e[1]);I4.lastIndex=0}return t}function l2(n,t,e){let o=`${n}`,i=o.replace(I4,(a,s)=>{let r=t[s];return r==null&&(e.push(r8(s)),r=""),r.toString()});return i==o?n:i}var w8=/-+([a-z0-9])/g;function n4(n){return n.replace(w8,(...t)=>t[1].toUpperCase())}function gt(n,t){return n===0||t===0}function vt(n,t,e){if(e.size&&t.length){let o=t[0],i=[];if(e.forEach((a,s)=>{o.has(s)||i.push(s),o.set(s,a)}),i.length)for(let a=1;a<t.length;a++){let s=t[a];i.forEach(r=>s.set(r,a4(n,r)))}}return t}function S1(n,t,e){switch(t.type){case O.Trigger:return n.visitTrigger(t,e);case O.State:return n.visitState(t,e);case O.Transition:return n.visitTransition(t,e);case O.Sequence:return n.visitSequence(t,e);case O.Group:return n.visitGroup(t,e);case O.Animate:return n.visitAnimate(t,e);case O.Keyframes:return n.visitKeyframes(t,e);case O.Style:return n.visitStyle(t,e);case O.Reference:return n.visitReference(t,e);case O.AnimateChild:return n.visitAnimateChild(t,e);case O.AnimateRef:return n.visitAnimateRef(t,e);case O.Query:return n.visitQuery(t,e);case O.Stagger:return n.visitStagger(t,e);default:throw l8(t.type)}}function a4(n,t){return window.getComputedStyle(n)[t]}var h3=(()=>{class n{validateStyleProperty(e){return ct(e)}containsElement(e,o){return N4(e,o)}getParentElement(e){return e4(e)}query(e,o,i){return q4(e,o,i)}computeStyle(e,o,i){return i||""}animate(e,o,i,a,s,r=[],l){return new e0(i,a)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=r1({token:n,factory:n.\u0275fac})}return n})(),q0=class{static NOOP=new h3},U0=class{};var u8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),h4=class extends U0{normalizePropertyName(t,e){return n4(t)}normalizeStyleValue(t,e,o,i){let a="",s=o.toString().trim();if(u8.has(e)&&o!==0&&o!=="0")if(typeof o=="number")a="px";else{let r=o.match(/^[+-]?[\d\.]+([a-z]*)$/);r&&r[1].length==0&&i.push(P6(t,o))}return s+a}};var d4="*";function x8(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(o=>f8(o,e,t)):e.push(n),e}function f8(n,t,e){if(n[0]==":"){let l=M8(n,e);if(typeof l=="function"){t.push(l);return}n=l}let o=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(o==null||o.length<4)return e.push(G6(n)),t;let i=o[1],a=o[2],s=o[3];t.push(mt(i,s));let r=i==d4&&s==d4;a[0]=="<"&&!r&&t.push(mt(s,i))}function M8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return t.push(X6(n)),"* => *"}}var s4=new Set(["true","1"]),r4=new Set(["false","0"]);function mt(n,t){let e=s4.has(n)||r4.has(n),o=s4.has(t)||r4.has(t);return(i,a)=>{let s=n==d4||n==i,r=t==d4||t==a;return!s&&e&&typeof i=="boolean"&&(s=i?s4.has(n):r4.has(n)),!r&&o&&typeof a=="boolean"&&(r=a?s4.has(t):r4.has(t)),s&&r}}var Ct=":self",k8=new RegExp(`s*${Ct}s*,?`,"g");function St(n,t,e,o){return new Z4(n).build(t,e,o)}var pt="",Z4=class{_driver;constructor(t){this._driver=t}build(t,e,o){let i=new t3(e);return this._resetContextStyleTimingState(i),S1(this,r2(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=pt,t.collectedStyles=new Map,t.collectedStyles.set(pt,new Map),t.currentTime=0}visitTrigger(t,e){let o=e.queryCount=0,i=e.depCount=0,a=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(I6()),t.definitions.forEach(r=>{if(this._resetContextStyleTimingState(e),r.type==O.State){let l=r,c=l.name;c.toString().split(/\s*,\s*/).forEach(m=>{l.name=m,a.push(this.visitState(l,e))}),l.name=c}else if(r.type==O.Transition){let l=this.visitTransition(r,e);o+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(F6())}),{type:O.Trigger,name:t.name,states:a,transitions:s,queryCount:o,depCount:i,options:null}}visitState(t,e){let o=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(o.containsDynamicStyles){let a=new Set,s=i||{};o.styles.forEach(r=>{r instanceof Map&&r.forEach(l=>{Q4(l).forEach(c=>{s.hasOwnProperty(c)||a.add(c)})})}),a.size&&e.errors.push(R6(t.name,[...a.values()]))}return{type:O.State,name:t.name,style:o,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let o=S1(this,r2(t.animation),e),i=x8(t.expr,e.errors);return{type:O.Transition,matchers:i,animation:o,queryCount:e.queryCount,depCount:e.depCount,options:N0(t.options)}}visitSequence(t,e){return{type:O.Sequence,steps:t.steps.map(o=>S1(this,o,e)),options:N0(t.options)}}visitGroup(t,e){let o=e.currentTime,i=0,a=t.steps.map(s=>{e.currentTime=o;let r=S1(this,s,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:O.Group,steps:a,options:N0(t.options)}}visitAnimate(t,e){let o=S8(t.timings,e.errors);e.currentAnimateTimings=o;let i,a=t.styles?t.styles:V0({});if(a.type==O.Keyframes)i=this.visitKeyframes(a,e);else{let s=t.styles,r=!1;if(!s){r=!0;let c={};o.easing&&(c.easing=o.easing),s=V0(c)}e.currentTime+=o.duration+o.delay;let l=this.visitStyle(s,e);l.isEmptyStep=r,i=l}return e.currentAnimateTimings=null,{type:O.Animate,timings:o,style:i,options:null}}visitStyle(t,e){let o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o}_makeStyleAst(t,e){let o=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let r of i)typeof r=="string"?r===D1?o.push(r):e.errors.push(N6(r)):o.push(new Map(Object.entries(r)));let a=!1,s=null;return o.forEach(r=>{if(r instanceof Map&&(r.has("easing")&&(s=r.get("easing"),r.delete("easing")),!a)){for(let l of r.values())if(l.toString().indexOf(U4)>=0){a=!0;break}}}),{type:O.Style,styles:o,easing:s,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){let o=e.currentAnimateTimings,i=e.currentTime,a=e.currentTime;o&&a>0&&(a-=o.duration+o.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((r,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),m=c.get(l),v=!0;m&&(a!=i&&a>=m.startTime&&i<=m.endTime&&(e.errors.push(q6(l,m.startTime,m.endTime,a,i)),v=!1),a=m.startTime),v&&c.set(l,{startTime:a,endTime:i}),e.options&&dt(r,e.options,e.errors)})})}visitKeyframes(t,e){let o={type:O.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(U6()),o;let i=1,a=0,s=[],r=!1,l=!1,c=0,m=t.steps.map(Y=>{let X=this._makeStyleAst(Y,e),o1=X.offset!=null?X.offset:C8(X.styles),t1=0;return o1!=null&&(a++,t1=X.offset=o1),l=l||t1<0||t1>1,r=r||t1<c,c=t1,s.push(t1),X});l&&e.errors.push(W6()),r&&e.errors.push($6());let v=t.steps.length,B=0;a>0&&a<v?e.errors.push(Q6()):a==0&&(B=i/(v-1));let z=v-1,M=e.currentTime,_=e.currentAnimateTimings,P=_.duration;return m.forEach((Y,X)=>{let o1=B>0?X==z?1:B*X:s[X],t1=o1*P;e.currentTime=M+_.delay+t1,_.duration=t1,this._validateStyleAst(Y,e),Y.offset=o1,o.styles.push(Y)}),o}visitReference(t,e){return{type:O.Reference,animation:S1(this,r2(t.animation),e),options:N0(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:O.AnimateChild,options:N0(t.options)}}visitAnimateRef(t,e){return{type:O.AnimateRef,animation:this.visitReference(t.animation,e),options:N0(t.options)}}visitQuery(t,e){let o=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[a,s]=z8(t.selector);e.currentQuerySelector=o.length?o+" "+a:a,C1(e.collectedStyles,e.currentQuerySelector,new Map);let r=S1(this,r2(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:O.Query,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:r,originalSelector:t.selector,options:N0(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Y6());let o=t.timings==="full"?{duration:0,delay:0,easing:"full"}:C2(t.timings,e.errors,!0);return{type:O.Stagger,animation:S1(this,r2(t.animation),e),timings:o,options:null}}};function z8(n){let t=!!n.split(/\s*,\s*/).find(e=>e==Ct);return t&&(n=n.replace(k8,"")),n=n.replace(/@\*/g,y2).replace(/@\w+/g,e=>y2+"-"+e.slice(1)).replace(/:animating/g,i4),[n,t]}function y8(n){return n?s1({},n):null}var t3=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function C8(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let o=e;t=parseFloat(o.get("offset")),o.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function S8(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let a=C2(n,t).duration;return Y4(a,0,"")}let e=n;if(e.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=Y4(0,0,"");return a.dynamic=!0,a.strValue=e,a}let i=C2(e,t);return Y4(i.duration,i.delay,i.easing)}function N0(n){return n?(n=s1({},n),n.params&&(n.params=y8(n.params))):n={},n}function Y4(n,t,e){return{duration:n,delay:t,easing:e}}function d3(n,t,e,o,i,a,s=null,r=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:o,duration:i,delay:a,totalTime:i+a,easing:s,subTimeline:r}}var L2=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},L8=1,B8=":enter",_8=new RegExp(B8,"g"),V8=":leave",A8=new RegExp(V8,"g");function Lt(n,t,e,o,i,a=new Map,s=new Map,r,l,c=[]){return new e3().buildKeyframes(n,t,e,o,i,a,s,r,l,c)}var e3=class{buildKeyframes(t,e,o,i,a,s,r,l,c,m=[]){c=c||new L2;let v=new o3(t,e,c,i,a,m,[]);v.options=l;let B=l.delay?o0(l.delay):0;v.currentTimeline.delayNextStep(B),v.currentTimeline.setStyles([s],null,v.errors,l),S1(this,o,v);let z=v.timelines.filter(M=>M.containsAnimation());if(z.length&&r.size){let M;for(let _=z.length-1;_>=0;_--){let P=z[_];if(P.element===e){M=P;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([r],null,v.errors,l)}return z.length?z.map(M=>M.buildKeyframes()):[d3(e,[],[],[],0,B,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let o=e.subInstructions.get(e.element);if(o){let i=e.createSubContext(t.options),a=e.currentTimeline.currentTime,s=this._visitSubInstructions(o,i,i.options);a!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,o),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,o){for(let i of t){let a=i?.delay;if(a){let s=typeof a=="number"?a:o0(l2(a,i?.params??{},e.errors));o.delayNextStep(s)}}}_visitSubInstructions(t,e,o){let a=e.currentTimeline.currentTime,s=o.duration!=null?o0(o.duration):null,r=o.delay!=null?o0(o.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,r);a=Math.max(a,c.duration+c.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),S1(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let o=e.subContextCount,i=e,a=t.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),a.delay!=null)){i.previousNode.type==O.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=g4);let s=o0(a.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>S1(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>o&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let o=[],i=e.currentTimeline.currentTime,a=t.options&&t.options.delay?o0(t.options.delay):0;t.steps.forEach(s=>{let r=e.createSubContext(t.options);a&&r.delayNextStep(a),S1(this,s,r),i=Math.max(i,r.currentTimeline.currentTime),o.push(r.currentTimeline)}),o.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let o=t.strValue,i=e.params?l2(o,e.params,e.errors):o;return C2(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let o=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),i.snapshotCurrentStyles());let a=t.style;a.type==O.Keyframes?this.visitKeyframes(a,e):(e.incrementTime(o.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let o=e.currentTimeline,i=e.currentAnimateTimings;!i&&o.hasCurrentStyleProperties()&&o.forwardFrame();let a=i&&i.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(a):o.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let o=e.currentAnimateTimings,i=e.currentTimeline.duration,a=o.duration,r=e.createSubContext().currentTimeline;r.easing=o.easing,t.styles.forEach(l=>{let c=l.offset||0;r.forwardTime(c*a),r.setStyles(l.styles,l.easing,e.errors,e.options),r.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(r),e.transformIntoNewTimeline(i+a),e.previousNode=t}visitQuery(t,e){let o=e.currentTimeline.currentTime,i=t.options||{},a=i.delay?o0(i.delay):0;a&&(e.previousNode.type===O.Style||o==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=g4);let s=o,r=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=r.length;let l=null;r.forEach((c,m)=>{e.currentQueryIndex=m;let v=e.createSubContext(t.options,c);a&&v.delayNextStep(a),c===e.element&&(l=v.currentTimeline),S1(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe();let B=v.currentTimeline.currentTime;s=Math.max(s,B)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let o=e.parentContext,i=e.currentTimeline,a=t.timings,s=Math.abs(a.duration),r=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=r-l;break;case"full":l=o.currentStaggerTime;break}let m=e.currentTimeline;l&&m.delayNextStep(l);let v=m.currentTime;S1(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=i.currentTime-v+(i.startTime-o.currentTimeline.startTime)}},g4={},o3=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=g4;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,o,i,a,s,r,l){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=i,this._leaveClassName=a,this.errors=s,this.timelines=r,this.currentTimeline=l||new v4(this._driver,e,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let o=t,i=this.options;o.duration!=null&&(i.duration=o0(o.duration)),o.delay!=null&&(i.delay=o0(o.delay));let a=o.params;if(a){let s=i.params;s||(s=this.options.params={}),Object.keys(a).forEach(r=>{(!e||!s.hasOwnProperty(r))&&(s[r]=l2(a[r],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let o=t.params={};Object.keys(e).forEach(i=>{o[i]=e[i]})}}return t}createSubContext(t=null,e,o){let i=e||this.element,a=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,o||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=g4,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,o){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(o??0)+t.delay,easing:""},a=new i3(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,o,i,a,s){let r=[];if(i&&r.push(this.element),t.length>0){t=t.replace(_8,"."+this._enterClassName),t=t.replace(A8,"."+this._leaveClassName);let l=o!=1,c=this._driver.query(this.element,t,l);o!==0&&(c=o<0?c.slice(c.length+o,c.length):c.slice(0,o)),r.push(...c)}return!a&&r.length==0&&s.push(K6(e)),r}},v4=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,o,i){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=L8,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,o]of this._globalTimelineStyles)this._backFill.set(e,o||D1),this._currentKeyframe.set(e,D1);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,o,i){e&&this._previousKeyframe.set("easing",e);let a=i&&i.params||{},s=b8(t,this._globalTimelineStyles);for(let[r,l]of s){let c=l2(l,a,o);this._pendingStyles.set(r,c),this._localTimelineStyles.has(r)||this._backFill.set(r,this._globalTimelineStyles.get(r)??D1),this._updateStyle(r,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,o)=>{let i=this._styleSummary.get(o);(!i||e.time>i.time)&&this._updateStyle(o,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,o=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((r,l)=>{let c=new Map([...this._backFill,...r]);c.forEach((m,v)=>{m===s2?t.add(v):m===D1&&e.add(v)}),o||c.set("offset",l/this.duration),i.push(c)});let a=[...t.values()],s=[...e.values()];if(o){let r=i[0],l=new Map(r);r.set("offset",0),l.set("offset",1),i=[r,l]}return d3(this.element,i,a,s,this.duration,this.startTime,this.easing,!1)}},i3=class extends v4{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,o,i,a,s,r=!1){super(t,e,s.delay),this.keyframes=o,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=r,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:o,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let a=[],s=o+e,r=e/s,l=new Map(t[0]);l.set("offset",0),a.push(l);let c=new Map(t[0]);c.set("offset",wt(r)),a.push(c);let m=t.length-1;for(let v=1;v<=m;v++){let B=new Map(t[v]),z=B.get("offset"),M=e+z*o;B.set("offset",wt(M/s)),a.push(B)}o=s,e=0,i="",t=a}return d3(this.element,t,this.preStyleProps,this.postStyleProps,o,e,i,!0)}};function wt(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function b8(n,t){let e=new Map,o;return n.forEach(i=>{if(i==="*"){o??=t.keys();for(let a of o)e.set(a,D1)}else for(let[a,s]of i)e.set(a,s)}),e}function ut(n,t,e,o,i,a,s,r,l,c,m,v,B){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:a,toState:o,toStyles:s,timelines:r,queriedElements:l,preStyleProps:c,postStyleProps:m,totalTime:v,errors:B}}var K4={},m4=class{_triggerName;ast;_stateStyles;constructor(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}match(t,e,o,i){return H8(this.ast.matchers,t,e,o,i)}buildStyles(t,e,o){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,o):new Map}build(t,e,o,i,a,s,r,l,c,m){let v=[],B=this.ast.options&&this.ast.options.params||K4,z=r&&r.params||K4,M=this.buildStyles(o,z,v),_=l&&l.params||K4,P=this.buildStyles(i,_,v),Y=new Set,X=new Map,o1=new Map,t1=i==="void",w0={params:Bt(_,B),delay:this.ast.options?.delay},v1=m?[]:Lt(t,e,this.ast.animation,a,s,M,P,w0,c,v),e1=0;return v1.forEach(n1=>{e1=Math.max(n1.duration+n1.delay,e1)}),v.length?ut(e,this._triggerName,o,i,t1,M,P,[],[],X,o1,e1,v):(v1.forEach(n1=>{let I1=n1.element,F1=C1(X,I1,new Set);n1.preStyleProps.forEach(i0=>F1.add(i0));let O2=C1(o1,I1,new Set);n1.postStyleProps.forEach(i0=>O2.add(i0)),I1!==e&&Y.add(I1)}),ut(e,this._triggerName,o,i,t1,M,P,v1,[...Y.values()],X,o1,e1))}};function H8(n,t,e,o,i){return n.some(a=>a(t,e,o,i))}function Bt(n,t){let e=s1({},t);return Object.entries(n).forEach(([o,i])=>{i!=null&&(e[o]=i)}),e}var n3=class{styles;defaultParams;normalizer;constructor(t,e,o){this.styles=t,this.defaultParams=e,this.normalizer=o}buildStyles(t,e){let o=new Map,i=Bt(t,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,r)=>{s&&(s=l2(s,i,e));let l=this.normalizer.normalizePropertyName(r,e);s=this.normalizer.normalizeStyleValue(r,l,s,e),o.set(r,s)})}),o}};function O8(n,t,e){return new a3(n,t,e)}var a3=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,o){this.name=t,this.ast=e,this._normalizer=o,e.states.forEach(i=>{let a=i.options&&i.options.params||{};this.states.set(i.name,new n3(i.style,a,o))}),xt(this.states,"true","1"),xt(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new m4(t,i,this.states))}),this.fallbackTransition=T8(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,o,i){return this.transitionFactories.find(s=>s.match(t,e,o,i))||null}matchStyles(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)}};function T8(n,t,e){let o=[(s,r)=>!0],i={type:O.Sequence,steps:[],options:null},a={type:O.Transition,animation:i,matchers:o,options:null,queryCount:0,depCount:0};return new m4(n,a,t)}function xt(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var E8=new L2,s3=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o}register(t,e){let o=[],i=[],a=St(this._driver,e,o,i);if(o.length)throw Z6(o);this._animations.set(t,a)}_buildPlayer(t,e,o){let i=t.element,a=F4(this._normalizer,t.keyframes,e,o);return this._driver.animate(i,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,o={}){let i=[],a=this._animations.get(t),s,r=new Map;if(a?(s=Lt(this._driver,e,a,W4,o4,new Map,new Map,o,E8,i),s.forEach(m=>{let v=C1(r,m.element,new Map);m.postStyleProps.forEach(B=>v.set(B,null))})):(i.push(tt()),s=[]),i.length)throw et(i);r.forEach((m,v)=>{m.forEach((B,z)=>{m.set(z,this._driver.computeStyle(v,z,D1))})});let l=s.map(m=>{let v=r.get(m.element);return this._buildPlayer(m,new Map,v)}),c=d0(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw ot(t);return e}listen(t,e,o,i){let a=t4(e,"","","");return Z2(this._getPlayer(t),o,a,i),()=>{}}command(t,e,o,i){if(o=="register"){this.register(t,i[0]);return}if(o=="create"){let s=i[0]||{};this.create(t,e,s);return}let a=this._getPlayer(t);switch(o){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},ft="ng-animate-queued",D8=".ng-animate-queued",G4="ng-animate-disabled",j8=".ng-animate-disabled",P8="ng-star-inserted",I8=".ng-star-inserted",F8=[],_t={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},R8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},W1="__ng_removed",B2=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let o=t&&t.hasOwnProperty("value"),i=o?t.value:t;if(this.value=q8(i),o){let a=t,{value:s}=a,r=A3(a,["value"]);this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let o=this.options.params;Object.keys(e).forEach(i=>{o[i]==null&&(o[i]=e[i])})}}},S2="void",X4=new B2(S2),r3=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this._hostClassName="ng-tns-"+t,j1(e,this._hostClassName)}listen(t,e,o,i){if(!this._triggers.has(e))throw it(o,e);if(o==null||o.length==0)throw nt(e);if(!U8(o))throw at(o,e);let a=C1(this._elementListeners,t,[]),s={name:e,phase:o,callback:i};a.push(s);let r=C1(this._engine.statesByElement,t,new Map);return r.has(e)||(j1(t,z2),j1(t,z2+"-"+e),r.set(e,X4)),()=>{this._engine.afterFlush(()=>{let l=a.indexOf(s);l>=0&&a.splice(l,1),this._triggers.has(e)||r.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw st(t);return e}trigger(t,e,o,i=!0){let a=this._getTrigger(e),s=new _2(this.id,e,t),r=this._engine.statesByElement.get(t);r||(j1(t,z2),j1(t,z2+"-"+e),this._engine.statesByElement.set(t,r=new Map));let l=r.get(e),c=new B2(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),r.set(e,c),l||(l=X4),!(c.value===S2)&&l.value===c.value){if(!Q8(l.params,c.params)){let _=[],P=a.matchStyles(l.value,l.params,_),Y=a.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{A0(t,P),U1(t,Y)})}return}let B=C1(this._engine.playersByElement,t,[]);B.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let z=a.matchTransition(l.value,c.value,t,c.params),M=!1;if(!z){if(!i)return;z=a.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:z,fromState:l,toState:c,player:s,isFallbackTransition:M}),M||(j1(t,ft),s.onStart(()=>{c2(t,ft)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let P=this._engine.playersByElement.get(t);if(P){let Y=P.indexOf(s);Y>=0&&P.splice(Y,1)}}),this.players.push(s),B.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let o=this._engine.driver.query(t,y2,!0);o.forEach(i=>{if(i[W1])return;let a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,o,i){let a=this._engine.statesByElement.get(t),s=new Map;if(a){let r=[];if(a.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let m=this.trigger(t,c,S2,i);m&&r.push(m)}}),r.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),o&&d0(r).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(e&&o){let i=new Set;e.forEach(a=>{let s=a.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=o.get(s)||X4,m=new B2(S2),v=new _2(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(t,e){let o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(o.totalAnimations){let a=o.players.length?o.playersByQueriedElement.get(t):[];if(a&&a.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(o.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)o.markElementAsRemoved(this.id,t,!1,e);else{let a=t[W1];(!a||a===_t)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,e))}}insertNode(t,e){j1(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(o=>{let i=o.player;if(i.destroyed)return;let a=o.element,s=this._elementListeners.get(a);s&&s.forEach(r=>{if(r.name==o.triggerName){let l=t4(a,o.triggerName,o.fromState.value,o.toState.value);l._data=t,Z2(o.player,r.phase,l,r.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(o)}),this._queue=[],e.sort((o,i)=>{let a=o.transition.ast.depCount,s=i.transition.ast.depCount;return a==0||s==0?a-s:this._engine.driver.containsElement(o.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},l3=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,e){let o=new r3(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,e){let o=this._namespaceList,i=this.namespacesByHostElement;if(o.length-1>=0){let s=!1,r=this.driver.getParentElement(e);for(;r;){let l=i.get(r);if(l){let c=o.indexOf(l);o.splice(c+1,0,t),s=!0;break}r=this.driver.getParentElement(r)}s||o.unshift(t)}else o.push(t);return i.set(e,t),t}register(t,e){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o}registerTrigger(t,e,o){let i=this._namespaceLookup[t];i&&i.register(e,o)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let o=this._fetchNamespace(t);this.namespacesByHostElement.delete(o.hostElement);let i=this._namespaceList.indexOf(o);i>=0&&this._namespaceList.splice(i,1),o.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,o=this.statesByElement.get(t);if(o){for(let i of o.values())if(i.namespaceId){let a=this._fetchNamespace(i.namespaceId);a&&e.add(a)}}return e}trigger(t,e,o,i){if(l4(e)){let a=this._fetchNamespace(t);if(a)return a.trigger(e,o,i),!0}return!1}insertNode(t,e,o,i){if(!l4(e))return;let a=e[W1];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,o)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),j1(t,G4)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),c2(t,G4))}removeNode(t,e,o){if(l4(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o);let a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,o)}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,o,i,a){this.collectedLeaveElements.push(e),e[W1]={namespaceId:t,setForRemoval:i,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,o,i,a){return l4(e)?this._fetchNamespace(t).listen(e,o,i,a):()=>{}}_buildInstruction(t,e,o,i,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,i,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,y2,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,i4,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return d0(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[W1];if(e&&e.setForRemoval){if(t[W1]=_t,e.namespaceId){this.destroyInnerAnimations(t);let o=this._fetchNamespace(e.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(G4)&&this.markElementAsDisabled(t,!1),this.driver.query(t,j8,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,i)=>this._balanceNamespaceList(o,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++){let i=this.collectedEnterElements[o];j1(i,P8)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let o=[];try{e=this._flushAnimations(o,t)}finally{for(let i=0;i<o.length;i++)o[i]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++){let i=this.collectedLeaveElements[o];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){let o=this._whenQuietFns;this._whenQuietFns=[],e.length?d0(e).onDone(()=>{o.forEach(i=>i())}):o.forEach(i=>i())}}reportError(t){throw rt(t)}_flushAnimations(t,e){let o=new L2,i=[],a=new Map,s=[],r=new Map,l=new Map,c=new Map,m=new Set;this.disabledNodes.forEach(u=>{m.add(u);let S=this.driver.query(u,D8,!0);for(let H=0;H<S.length;H++)m.add(S[H])});let v=this.bodyNode,B=Array.from(this.statesByElement.keys()),z=zt(B,this.collectedEnterElements),M=new Map,_=0;z.forEach((u,S)=>{let H=W4+_++;M.set(S,H),u.forEach(D=>j1(D,H))});let P=[],Y=new Set,X=new Set;for(let u=0;u<this.collectedLeaveElements.length;u++){let S=this.collectedLeaveElements[u],H=S[W1];H&&H.setForRemoval&&(P.push(S),Y.add(S),H.hasAnimation?this.driver.query(S,I8,!0).forEach(D=>Y.add(D)):X.add(S))}let o1=new Map,t1=zt(B,Array.from(Y));t1.forEach((u,S)=>{let H=o4+_++;o1.set(S,H),u.forEach(D=>j1(D,H))}),t.push(()=>{z.forEach((u,S)=>{let H=M.get(S);u.forEach(D=>c2(D,H))}),t1.forEach((u,S)=>{let H=o1.get(S);u.forEach(D=>c2(D,H))}),P.forEach(u=>{this.processLeaveNode(u)})});let w0=[],v1=[];for(let u=this._namespaceList.length-1;u>=0;u--)this._namespaceList[u].drainQueuedTransitions(e).forEach(H=>{let D=H.player,a1=H.element;if(w0.push(D),this.collectedEnterElements.length){let p1=a1[W1];if(p1&&p1.setForMove){if(p1.previousTriggersValues&&p1.previousTriggersValues.has(H.triggerName)){let I0=p1.previousTriggersValues.get(H.triggerName),A1=this.statesByElement.get(H.element);if(A1&&A1.has(H.triggerName)){let E2=A1.get(H.triggerName);E2.value=I0,A1.set(H.triggerName,E2)}}D.destroy();return}}let $1=!v||!this.driver.containsElement(v,a1),L1=o1.get(a1),u0=M.get(a1),G=this._buildInstruction(H,o,u0,L1,$1);if(G.errors&&G.errors.length){v1.push(G);return}if($1){D.onStart(()=>A0(a1,G.fromStyles)),D.onDestroy(()=>U1(a1,G.toStyles)),i.push(D);return}if(H.isFallbackTransition){D.onStart(()=>A0(a1,G.fromStyles)),D.onDestroy(()=>U1(a1,G.toStyles)),i.push(D);return}let V3=[];G.timelines.forEach(p1=>{p1.stretchStartingKeyframe=!0,this.disabledNodes.has(p1.element)||V3.push(p1)}),G.timelines=V3,o.append(a1,G.timelines);let i8={instruction:G,player:D,element:a1};s.push(i8),G.queriedElements.forEach(p1=>C1(r,p1,[]).push(D)),G.preStyleProps.forEach((p1,I0)=>{if(p1.size){let A1=l.get(I0);A1||l.set(I0,A1=new Set),p1.forEach((E2,B4)=>A1.add(B4))}}),G.postStyleProps.forEach((p1,I0)=>{let A1=c.get(I0);A1||c.set(I0,A1=new Set),p1.forEach((E2,B4)=>A1.add(B4))})});if(v1.length){let u=[];v1.forEach(S=>{u.push(lt(S.triggerName,S.errors))}),w0.forEach(S=>S.destroy()),this.reportError(u)}let e1=new Map,n1=new Map;s.forEach(u=>{let S=u.element;o.has(S)&&(n1.set(S,S),this._beforeAnimationBuild(u.player.namespaceId,u.instruction,e1))}),i.forEach(u=>{let S=u.element;this._getPreviousPlayers(S,!1,u.namespaceId,u.triggerName,null).forEach(D=>{C1(e1,S,[]).push(D),D.destroy()})});let I1=P.filter(u=>yt(u,l,c)),F1=new Map;kt(F1,this.driver,X,c,D1).forEach(u=>{yt(u,l,c)&&I1.push(u)});let i0=new Map;z.forEach((u,S)=>{kt(i0,this.driver,new Set(u),l,s2)}),I1.forEach(u=>{let S=F1.get(u),H=i0.get(u);F1.set(u,new Map([...S?.entries()??[],...H?.entries()??[]]))});let p2=[],T2=[],m1={};s.forEach(u=>{let{element:S,player:H,instruction:D}=u;if(o.has(S)){if(m.has(S)){H.onDestroy(()=>U1(S,D.toStyles)),H.disabled=!0,H.overrideTotalTime(D.totalTime),i.push(H);return}let a1=m1;if(n1.size>1){let L1=S,u0=[];for(;L1=L1.parentNode;){let G=n1.get(L1);if(G){a1=G;break}u0.push(L1)}u0.forEach(G=>n1.set(G,a1))}let $1=this._buildAnimation(H.namespaceId,D,e1,a,i0,F1);if(H.setRealPlayer($1),a1===m1)p2.push(H);else{let L1=this.playersByElement.get(a1);L1&&L1.length&&(H.parentPlayer=d0(L1)),i.push(H)}}else A0(S,D.fromStyles),H.onDestroy(()=>U1(S,D.toStyles)),T2.push(H),m.has(S)&&i.push(H)}),T2.forEach(u=>{let S=a.get(u.element);if(S&&S.length){let H=d0(S);u.setRealPlayer(H)}}),i.forEach(u=>{u.parentPlayer?u.syncPlayerEvents(u.parentPlayer):u.destroy()});for(let u=0;u<P.length;u++){let S=P[u],H=S[W1];if(c2(S,o4),H&&H.hasAnimation)continue;let D=[];if(r.size){let $1=r.get(S);$1&&$1.length&&D.push(...$1);let L1=this.driver.query(S,i4,!0);for(let u0=0;u0<L1.length;u0++){let G=r.get(L1[u0]);G&&G.length&&D.push(...G)}}let a1=D.filter($1=>!$1.destroyed);a1.length?W8(this,S,a1):this.processLeaveNode(S)}return P.length=0,p2.forEach(u=>{this.players.push(u),u.onDone(()=>{u.destroy();let S=this.players.indexOf(u);this.players.splice(S,1)}),u.play()}),p2}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,o,i,a){let s=[];if(e){let r=this.playersByQueriedElement.get(t);r&&(s=r)}else{let r=this.playersByElement.get(t);if(r){let l=!a||a==S2;r.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(o||i)&&(s=s.filter(r=>!(o&&o!=r.namespaceId||i&&i!=r.triggerName))),s}_beforeAnimationBuild(t,e,o){let i=e.triggerName,a=e.element,s=e.isRemovalTransition?void 0:t,r=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let c=l.element,m=c!==a,v=C1(o,c,[]);this._getPreviousPlayers(c,m,s,r,e.toState).forEach(z=>{let M=z.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),z.destroy(),v.push(z)})}A0(a,e.fromStyles)}_buildAnimation(t,e,o,i,a,s){let r=e.triggerName,l=e.element,c=[],m=new Set,v=new Set,B=e.timelines.map(M=>{let _=M.element;m.add(_);let P=_[W1];if(P&&P.removedBeforeQueried)return new e0(M.duration,M.delay);let Y=_!==l,X=$8((o.get(_)||F8).map(e1=>e1.getRealPlayer())).filter(e1=>{let n1=e1;return n1.element?n1.element===_:!1}),o1=a.get(_),t1=s.get(_),w0=F4(this._normalizer,M.keyframes,o1,t1),v1=this._buildPlayer(M,w0,X);if(M.subTimeline&&i&&v.add(_),Y){let e1=new _2(t,r,_);e1.setRealPlayer(v1),c.push(e1)}return v1});c.forEach(M=>{C1(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>N8(this.playersByQueriedElement,M.element,M))}),m.forEach(M=>j1(M,$4));let z=d0(B);return z.onDestroy(()=>{m.forEach(M=>c2(M,$4)),U1(l,e.toStyles)}),v.forEach(M=>{C1(i,M,[]).push(z)}),z}_buildPlayer(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new e0(t.duration,t.delay)}},_2=class{namespaceId;triggerName;element;_player=new e0;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,o)=>{e.forEach(i=>Z2(t,o,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){C1(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function N8(n,t,e){let o=n.get(t);if(o){if(o.length){let i=o.indexOf(e);o.splice(i,1)}o.length==0&&n.delete(t)}return o}function q8(n){return n??null}function l4(n){return n&&n.nodeType===1}function U8(n){return n=="start"||n=="done"}function Mt(n,t){let e=n.style.display;return n.style.display=t??"none",e}function kt(n,t,e,o,i){let a=[];e.forEach(l=>a.push(Mt(l)));let s=[];o.forEach((l,c)=>{let m=new Map;l.forEach(v=>{let B=t.computeStyle(c,v,i);m.set(v,B),(!B||B.length==0)&&(c[W1]=R8,s.push(c))}),n.set(c,m)});let r=0;return e.forEach(l=>Mt(l,a[r++])),s}function zt(n,t){let e=new Map;if(n.forEach(r=>e.set(r,[])),t.length==0)return e;let o=1,i=new Set(t),a=new Map;function s(r){if(!r)return o;let l=a.get(r);if(l)return l;let c=r.parentNode;return e.has(c)?l=c:i.has(c)?l=o:l=s(c),a.set(r,l),l}return t.forEach(r=>{let l=s(r);l!==o&&e.get(l).push(r)}),e}function j1(n,t){n.classList?.add(t)}function c2(n,t){n.classList?.remove(t)}function W8(n,t,e){d0(e).onDone(()=>n.processLeaveNode(t))}function $8(n){let t=[];return Vt(n,t),t}function Vt(n,t){for(let e=0;e<n.length;e++){let o=n[e];o instanceof F0?Vt(o.players,t):t.push(o)}}function Q8(n,t){let e=Object.keys(n),o=Object.keys(t);if(e.length!=o.length)return!1;for(let i=0;i<e.length;i++){let a=e[i];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}function yt(n,t,e){let o=e.get(n);if(!o)return!1;let i=t.get(n);return i?o.forEach(a=>i.add(a)):t.set(n,o),e.delete(n),!0}var h2=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,o){this._driver=e,this._normalizer=o,this._transitionEngine=new l3(t.body,e,o),this._timelineEngine=new s3(t.body,e,o),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(t,e,o,i,a){let s=t+"-"+i,r=this._triggerCache[s];if(!r){let l=[],c=[],m=St(this._driver,a,l,c);if(l.length)throw J6(i,l);r=O8(i,m,this._normalizer),this._triggerCache[s]=r}this._transitionEngine.registerTrigger(e,i,r)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,o,i){this._transitionEngine.insertNode(t,e,o,i)}onRemove(t,e,o){this._transitionEngine.removeNode(t,e,o)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,o,i){if(o.charAt(0)=="@"){let[a,s]=R4(o),r=i;this._timelineEngine.command(a,e,s,r)}else this._transitionEngine.trigger(t,e,o,i)}listen(t,e,o,i,a){if(o.charAt(0)=="@"){let[s,r]=R4(o);return this._timelineEngine.listen(s,e,r,a)}return this._transitionEngine.listen(t,e,o,i,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Y8(n,t){let e=null,o=null;return Array.isArray(t)&&t.length?(e=J4(t[0]),t.length>1&&(o=J4(t[t.length-1]))):t instanceof Map&&(e=J4(t)),e||o?new K8(n,e,o):null}var K8=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,o,i){this._element=e,this._startStyles=o,this._endStyles=i;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&U1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(U1(this._element,this._initialStyles),this._endStyles&&(U1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(A0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(A0(this._element,this._endStyles),this._endStyles=null),U1(this._element,this._initialStyles),this._state=3)}}return n})();function J4(n){let t=null;return n.forEach((e,o)=>{G8(o)&&(t=t||new Map,t.set(o,e))}),t}function G8(n){return n==="display"||n==="position"}var p4=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,o,i){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=i,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(o=>{e.push(Object.fromEntries(o))}),e}_triggerWebAnimation(t,e,o){return t.animate(this._convertKeyframesToObject(e),o)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,i)=>{i!=="offset"&&t.set(i,this._finished?o:a4(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}},w4=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return N4(t,e)}getParentElement(t){return e4(t)}query(t,e,o){return q4(t,e,o)}computeStyle(t,e,o){return a4(t,e)}animate(t,e,o,i,a,s=[]){let r=i==0?"both":"forwards",l={duration:o,delay:i,fill:r};a&&(l.easing=a);let c=new Map,m=s.filter(z=>z instanceof p4);gt(o,i)&&m.forEach(z=>{z.currentSnapshot.forEach((M,_)=>c.set(_,M))});let v=ht(e).map(z=>new Map(z));v=vt(t,v,c);let B=Y8(t,v);return new p4(t,v,l,B)}};var c4="@",At="@.disabled",u4=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,o,i){this.namespaceId=t,this.delegate=e,this.engine=o,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,o,i=!0){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,o){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,i){this.delegate.setAttribute(t,e,o,i)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,i){this.delegate.setStyle(t,e,o,i)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){e.charAt(0)==c4&&e==At?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o,i){return this.delegate.listen(t,e,o,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},c3=class extends u4{factory;constructor(t,e,o,i,a){super(e,o,i,a),this.factory=t,this.namespaceId=e}setProperty(t,e,o){e.charAt(0)==c4?e.charAt(1)=="."&&e==At?(o=o===void 0?!0:!!o,this.disableAnimations(t,o)):this.engine.process(this.namespaceId,t,e.slice(1),o):this.delegate.setProperty(t,e,o)}listen(t,e,o,i){if(e.charAt(0)==c4){let a=X8(t),s=e.slice(1),r="";return s.charAt(0)!=c4&&([s,r]=J8(s)),this.engine.listen(this.namespaceId,a,s,r,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,o,l)})}return this.delegate.listen(t,e,o,i)}};function X8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function J8(n){let t=n.indexOf("."),e=n.substring(0,t),o=n.slice(t+1);return[e,o]}var x4=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,o){this.delegate=t,this.engine=e,this._zone=o,e.onRemovalComplete=(i,a)=>{a?.removeChild(null,i)}}createRenderer(t,e){let o="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,m=c.get(i);if(!m){let v=()=>c.delete(i);m=new u4(o,i,this.engine,v),c.set(i,m)}return m}let a=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let r=c=>{Array.isArray(c)?c.forEach(r):this.engine.registerTrigger(a,s,t,c.name,c)};return e.data.animation.forEach(r),new c3(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,o){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(o));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(a=>{let[s,r]=a;s(r)}),this._animationCallbacksBuffer=[]})}),i.push([e,o])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var to=(()=>{class n extends h2{constructor(e,o,i){super(e,o,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(o){return new(o||n)(P2(F3),P2(q0),P2(U0))};static \u0275prov=r1({token:n,factory:n.\u0275fac})}return n})();function eo(){return new h4}function oo(n,t,e){return new x4(n,t,e)}var bt=[{provide:U0,useFactory:eo},{provide:h2,useClass:to},{provide:R3,useFactory:oo,deps:[e6,h2,q3]}],pi=[{provide:q0,useClass:h3},{provide:V4,useValue:"NoopAnimations"},...bt],io=[{provide:q0,useFactory:()=>new w4},{provide:V4,useFactory:()=>"BrowserAnimations"},...bt];function Ht(){return N3("NgEagerAnimations"),[...io]}function Ot(n,t){let e=`${a2.apiUrl}/${n.url}`,o=n.clone({url:e});return t(o)}var Tt="query_id=AAELkhMXAAAAAAuSExcjQJEc&user=%7B%22id%22%3A387158539%2C%22first_name%22%3A%22Vyacheslav%22%2C%22last_name%22%3A%22Litvinenko%22%2C%22username%22%3A%22tiltvinenko%22%2C%22language_code%22%3A%22ru%22%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FV1FcghvcCWb_4wRuaWj3i9iwCWroGAdULGkKcbd41_g.svg%22%7D&auth_date=1752430176&signature=rRDJM6Chom1i2yZJaSAEoUL96pVLpRGCFLTh_UFmzFcwccUAHrhj_ZarwdLn5pELmgjRSZ8E9VW4kqwcnSVjDg&hash=5bd59cf35b1f1cdbf1c409f93c79d3cea2457b30f196a36b640ab6db194e7248";function Et(n,t){let e="Authorization",o=p(y1);return(a2.isTelegramMiniApp?o.initData$:x0(Tt)).pipe(F(a=>{let s=n.clone({headers:n.headers.append(e,a)});return t(s)}))}function Dt(n,t){let e=p(t0),o=p(S0);return t(n.clone()).pipe(E3(i=>{if(i.status===404&&i.error.processed)o.navigate(["not-found"]);else if(i.status===401||i.status===403)o.navigate(["not-permitted"]);else{let a=i.error.message??i.message;e.error(a,"alert-circle-outline")}return H3}))}var jt={Search:{en:"Search",ru:"\u041F\u043E\u0438\u0441\u043A"}};var d2=(()=>{let t=class t{set src(o){o?(this.img.src=o,this.showPlaceholder()):this.img.src=this.imgPlaceholder}get img(){return this.elRef.nativeElement}constructor(){this.imgPlaceholder="assets/no-avatar.png",this.elRef=p(f0),this.placeholderEl=this.createPlaceholderEl(),this.img.onload=()=>this.hidePlaceholder()}showPlaceholder(){let o=this.placeholderEl;o.style.width=`${this.img.width+2}px`,o.style.height=`${this.img.offsetHeight+2}px`,o.style.top=`${this.img.offsetTop-1}px`,o.style.left=`${this.img.offsetLeft-1}px`,o.style.borderRadius=window.getComputedStyle(this.img).getPropertyValue("border-radius"),this.img.after(this.placeholderEl)}hidePlaceholder(){this.placeholderEl.remove()}createPlaceholderEl(){let o=document.createElement("div");return o.style.zIndex="1",o.style.position="absolute",o.className="skeleton-placeholder",o}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appImgLoad",""]],inputs:{src:"src",imgPlaceholder:"imgPlaceholder"}});let n=t;return n})();var b0=(()=>{let t=class t{set placeholderOpacity(o){this.placeholderEl.style.opacity=o}get el(){return this.elRef.nativeElement}constructor(){this.elRef=p(f0),this.placeholderEl=this.createPlaceholderEl(),this.loadingCounter$=new b3(0),this.loading$=this.loadingCounter$.pipe(I(o=>o>0),X0()),this.destroyed$=new J}ngOnInit(){this.el.style.position="relative",this.loading$.pipe(Q1(this.destroyed$)).subscribe(o=>o?this.onLoadStarts():this.onLoadEnds())}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}incrLoading(){this.loadingCounter$.next(this.loadingCounter$.value+1)}decrLoading(){this.loadingCounter$.next(this.loadingCounter$.value-1)}onLoadStarts(){this.el.appendChild(this.placeholderEl)}onLoadEnds(){this.placeholderEl.remove()}createPlaceholderEl(){let o=document.createElement("div");return o.style.zIndex="2",o.style.position="absolute",o.style.top="0",o.style.bottom="0",o.style.left="0",o.style.right="0",o.style.pointerEvents="none",o.style.borderRadius="0.5rem",o.className="skeleton-placeholder",o}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appFeatureLoad",""]],inputs:{placeholderOpacity:"placeholderOpacity"},exportAs:["appFeatureLoad"]});let n=t;return n})();var no=["altLabel"],ao=["end"],Pt=(n,t)=>({$implicit:n,index:t});function so(n,t){if(n&1&&A4(0,6),n&2){let e=y(),o=e.$implicit,i=e.$index,a=y();x("ngTemplateOutlet",a.altLabelTemplateRef)("ngTemplateOutletContext",u2(2,Pt,o,i))}}function ro(n,t){if(n&1&&(h(0,"ion-label"),f(1),g()),n&2){let e=y().$implicit;d(),C(" ",e.fullName," ")}}function lo(n,t){if(n&1&&A4(0,6),n&2){let e=y(),o=e.$implicit,i=e.$index,a=y();x("ngTemplateOutlet",a.endTemplateRef)("ngTemplateOutletContext",u2(2,Pt,o,i))}}function co(n,t){if(n&1){let e=$();h(0,"ion-item",3),b("click",function(){let i=V(e),a=i.$implicit,s=i.$index,r=y();return A(r.onUserClicked(s,a))}),h(1,"ion-avatar",4),L(2,"img",5),g(),u1(3,so,1,5,"ng-container",6)(4,ro,2,1,"ion-label"),u1(5,lo,1,5,"ng-container",6),g()}if(n&2){let e=t.$implicit,o=t.$index,i=t.$count,a=y();x("lines",o===i-1?"none":"")("button",a.clickable()),d(2),x("src",e.photoUrl,J0),d(),x1(a.altLabelTemplateRef?3:4),d(2),x1(a.endTemplateRef?5:-1)}}var f4=(()=>{let t=class t{constructor(){this.clickable=q(!1),this.users=q.required(),this.searchStr=Z(null),this.filteredUsers=g1(()=>{let o=this.users(),i=this.searchStr()?.toLowerCase();return i?o.filter(a=>a.fullName.toLowerCase().includes(i)):o}),this.searchFocused=f2(),this.userClicked=f2(),this.UsersListLocalize=jt}onUserClicked(o,i){this.clickable()&&this.userClicked.emit({index:o,user:s1({},i)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-users-list"]],contentQueries:function(i,a,s){if(i&1&&(b4(s,no,7),b4(s,ao,7)),i&2){let r;H4(r=O4())&&(a.altLabelTemplateRef=r.first),H4(r=O4())&&(a.endTemplateRef=r.first)}},inputs:{clickable:[1,"clickable"],users:[1,"users"]},outputs:{searchFocused:"searchFocused",userClicked:"userClicked"},decls:5,vars:4,consts:[["mode","ios","clear-icon","close-outline",3,"ionInput","ionFocus","ionBlur","debounce","placeholder"],["mode","ios"],[3,"lines","button"],[3,"click","lines","button"],["slot","start"],["appImgLoad","",3,"src"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,a){i&1&&(h(0,"ion-searchbar",0),w(1,"localize"),b("ionInput",function(r){return a.searchStr.set(r.detail.value)})("ionFocus",function(){return a.searchFocused.emit(!0)})("ionBlur",function(){return a.searchFocused.emit(!1)}),g(),h(2,"ion-list",1),t2(3,co,6,5,"ion-item",2,Z0),g()),i&2&&(x("debounce",300)("placeholder",k(1,2,a.UsersListLocalize.Search)),d(3),e2(a.filteredUsers()))},dependencies:[R2,Z3,c1,J1,E1,n2,l1,A6,d2],styles:["[_nghost-%COMP%]{height:100%;position:relative}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0}ion-list[_ngcontent-%COMP%]{background:transparent;max-height:calc(100% - 3.75rem);overflow-y:auto}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-label[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"]});let n=t;return n})();function ho(n,t){if(n&1&&(h(0,"ion-avatar"),L(1,"img",1),g()),n&2){let e=t.$implicit,o=t.$index,i=t.$count;G3("z-index",i-o),d(),x("src",e.photoUrl,J0)}}var It=(()=>{let t=class t{constructor(){this.users=q.required(),this.maxCount=q(8),this.sliced=g1(()=>this.users().slice(0,this.maxCount()))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-avatars-list"]],inputs:{users:[1,"users"],maxCount:[1,"maxCount"]},decls:2,vars:0,consts:[[3,"zIndex"],["appImgLoad","","alt","",3,"src"]],template:function(i,a){i&1&&t2(0,ho,2,3,"ion-avatar",0,Z0),i&2&&e2(a.sliced())},dependencies:[R2,n2,d2],styles:["[_nghost-%COMP%]{display:flex}ion-avatar[_ngcontent-%COMP%]{width:1.6rem;height:1.6rem}ion-avatar[_ngcontent-%COMP%]:not(:last-child){margin-right:-.7rem}"]});let n=t;return n})();var W0={Member:{en:"member",ru:"\u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A"},Initiator:{en:"Initiator",ru:"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u043E\u0440"},Starts:{en:"Starts",ru:"\u041D\u0430\u0447\u0430\u043B\u043E"},Ends:{en:"Ends",ru:"\u041A\u043E\u043D\u0435\u0446"},Description:{en:"Description",ru:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},Refresh:{en:"Refresh",ru:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C"},Share:{en:"Share",ru:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F"},Link:{en:"Link",ru:"\u0421\u0441\u044B\u043B\u043A\u0430"},Edit:{en:"Edit",ru:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"},Delete:{en:"Delete",ru:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"},ClipboardLink:{en:"Link was copied to clipboard",ru:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430"},EventWasDeleted:{en:"Event was successfully deleted",ru:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u044B\u043B\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u043E"},DeleteQuestion:{en:"Delete event?",ru:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435?"},CannotBeUndone:{en:"This cannot be undone",ru:"\u042D\u0442\u043E \u043D\u0435\u043B\u044C\u0437\u044F \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C"}};var Ft={Cancel:{en:"Cancel",ru:"\u041E\u0442\u043C\u0435\u043D\u0430"}};var P1=(()=>{let t=class t{constructor(){this.local=p(M1),this.cancelText=this.local.localizeSync(Ft.Cancel)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r1({token:t,factory:t.\u0275fac});let n=t;return n})();var Rt=(()=>{let t=class t extends P1{constructor(){super(),this.tg=p(y1)}createConfirm(o){let i=new J;return this.tg.miniApp$.pipe(Q(a=>{if(!a){i.next(!1),i.complete();return}let s={title:o.header,message:o.message,buttons:[{id:"ok",text:o.okText??"OK",type:o.okDanger?"destructive":"default"},{id:"cancel",text:o.cancelText,type:o.cancelText?"default":"cancel"}]};a.showPopup(s,r=>{i.next(r==="ok"),i.complete()})}),F(()=>i.asObservable()))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r1({token:t,factory:t.\u0275fac});let n=t;return n})();var Nt=(()=>{let t=class t extends P1{constructor(){super(),this.alert=p(L6)}createConfirm(o){let i=new J;return this.alert.create({mode:"ios",header:o.header,message:o.message,backdropDismiss:!1,buttons:[{text:o.cancelText??this.cancelText,role:"cancel",handler:()=>{i.next(!1),i.complete()}},{text:o.okText??"OK",role:o.okDanger?"destructive":void 0,handler:()=>{i.next(!0),i.complete()}}]}).then(a=>a.present()),i.asObservable()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r1({token:t,factory:t.\u0275fac});let n=t;return n})();var qt=n=>I3([{provide:P1,useClass:n?Rt:Nt}]);var Ut=(()=>{let t=class t{constructor(){this.baseUrl="events",this.http=p(C0)}getEventInfo(o){return this.http.get(`${this.baseUrl}/info/${o}`)}getEventUsers(o){return this.http.get(`${this.baseUrl}/users/${o}`)}deleteEvent(o){return this.http.delete(`${this.baseUrl}/${o}`)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var go=()=>[0,1],Wt=()=>[];function vo(n,t){if(n&1){let e=$();h(0,"ion-item",16),b("click",function(){V(e);let i=y(2);return A(i.redirectToEdit())}),L(1,"ion-icon",20),h(2,"ion-label"),f(3),w(4,"localize"),g()(),h(5,"ion-item",16),b("click",function(){V(e);let i=y(2);return A(i.deleteEvent())}),L(6,"ion-icon",21),h(7,"ion-label",22),f(8),w(9,"localize"),g()()}if(n&2){let e=y(2);x("detail",!1),d(3),C(" ",k(4,4,e.EventMainInfoLocalize.Edit)," "),d(2),x("detail",!1),d(3),C(" ",k(9,6,e.EventMainInfoLocalize.Delete)," ")}}function mo(n,t){if(n&1){let e=$();h(0,"ion-list",15)(1,"ion-item",16),b("click",function(){V(e);let i=y();return i.refreshInfo(),A(i.refreshUsers())}),L(2,"ion-icon",17),h(3,"ion-label"),f(4),w(5,"localize"),g()(),h(6,"ion-item",16),b("click",function(){V(e);let i=y();return A(i.share())}),L(7,"ion-icon",18),h(8,"ion-label"),f(9),w(10,"localize"),g()(),h(11,"ion-item",16),b("click",function(){V(e);let i=y();return A(i.copyToClipboard())}),L(12,"ion-icon",19),h(13,"ion-label"),f(14),w(15,"localize"),g()(),u1(16,vo,10,8),g()}if(n&2){let e=y(),o=Y1(0);d(),x("detail",!1),d(3),C(" ",k(5,7,e.EventMainInfoLocalize.Refresh)," "),d(2),x("detail",!1),d(3),C(" ",k(10,9,e.EventMainInfoLocalize.Share)," "),d(2),x("detail",!1),d(3),C(" ",k(15,11,e.EventMainInfoLocalize.Link)," "),d(2),x1(o!=null&&o.canEdit?16:-1)}}function po(n,t){if(n&1){let e=$();h(0,"ion-item",16),b("click",function(){V(e),y();let i=N(38);return A(i.present())}),h(1,"ion-label"),f(2),w(3,"localizeMany"),g(),L(4,"app-avatars-list",23),g()}if(n&2){let e=y(),o=Y1(1),i=Y1(14);x("detail",!1),d(2),V1(" ",i," ",d1(3,4,e.EventMainInfoLocalize.Member,i)," "),d(2),x("users",o??T1(7,Wt))}}function wo(n,t){if(n&1&&(h(0,"ion-item",13)(1,"ion-label"),f(2),w(3,"localize"),g(),h(4,"ion-note"),f(5),g()()),n&2){let e=y(),o=Y1(0);d(2),C(" ",k(3,2,e.EventMainInfoLocalize.Description)," "),d(3),C(" ",o==null?null:o.description," ")}}function uo(n,t){if(n&1&&(h(0,"ion-note",26),f(1),g()),n&2){let e=y().$implicit;d(),C(" ","@"+e.username," ")}}function xo(n,t){if(n&1&&i1(0,uo,2,1,"ion-note",25),n&2){let e=t.$implicit;x("ngIf",e.username)}}function fo(n,t){if(n&1){let e=$();h(0,"app-users-list",24),b("searchFocused",function(i){V(e),y();let a=N(38);return A(a.backdropDismiss=!i)}),i1(1,xo,1,1,"ng-template",null,1,x2),g()}if(n&2){y();let e=Y1(1);x("users",e??T1(1,Wt))}}var M4=(()=>{let t=class t{constructor(){this.eventId=q.required(),this.eventId$=q1(this.eventId),this.router=p(S0),this.toast=p(t0),this.confirm=p(P1),this.tg=p(y1),this.request=p(Ut),this.featureLoad=p(b0,{optional:!0}),this.refreshInfo$=new J,this.refreshUsers$=new J,this.info$=this.refreshInfo$.pipe(R1(!0),F(()=>this.eventId$),Q(()=>this.featureLoad?.incrLoading()),F(o=>this.request.getEventInfo(o).pipe(a0(()=>this.featureLoad?.decrLoading()))),_1(1)),this.users$=this.refreshUsers$.pipe(R1(!0),F(()=>this.eventId$),Q(()=>this.featureLoad?.incrLoading()),F(o=>this.request.getEventUsers(o).pipe(a0(()=>this.featureLoad?.decrLoading()))),_1(1)),this.info=B0(this.info$),this.users=B0(this.users$),this.local=p(M1),this.EventMainInfoLocalize=W0}refreshInfo(){this.refreshInfo$.next(!0)}refreshUsers(){this.refreshUsers$.next(!0)}copyToClipboard(){this.tg.getEventTgLink(this.eventId()).pipe(F(o=>j2(navigator.clipboard.writeText(o))),n0(1)).subscribe(()=>{let o=this.local.localizeSync(W0.ClipboardLink);this.toast.light(o,"clipboard-outline")})}share(){this.eventId()&&this.tg.shareEvent(this.eventId(),this.info()?.name)}redirectToEdit(){let o={eventId:this.eventId()};this.router.navigate(["edit"],{queryParams:o})}deleteEvent(){let o=this.local.localizeSync(W0.DeleteQuestion),i=this.local.localizeSync(W0.CannotBeUndone),a=this.local.localizeSync(W0.Delete),s=this.local.localizeSync(W0.EventWasDeleted);this.confirm.createConfirm({header:o,message:i,okText:a,okDanger:!0}).pipe(G0(Boolean),Q(()=>this.featureLoad?.incrLoading()),F(()=>this.request.deleteEvent(this.eventId())),Q(()=>this.toast.info(s,"trash-outline")),a0(()=>this.featureLoad?.decrLoading())).subscribe(()=>this.router.navigate(["edit"]))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-event-main-info"]],inputs:{eventId:[1,"eventId"]},decls:40,vars:31,consts:[["usersModal",""],["end",""],["mode","ios"],["value","info"],["slot","header",1,"header-item"],["slot","start"],["appImgLoad","",3,"src"],["id","menu-popover-trigger","slot","end","color","dark","fill","clear","size","large",1,"menu-button",3,"click"],["name","ellipsis-vertical","slot","icon-only"],["mode","ios","trigger","menu-popover-trigger","triggerAction","click",3,"dismissOnSelect","arrow"],["slot","content","mode","ios",1,"info-list"],["button","",3,"detail"],[3,"lines"],["lines","none",1,"notes-item"],[3,"initialBreakpoint","breakpoints"],["lines","none",1,"popover-menu-list"],["button","",3,"click","detail"],["name","refresh-outline","slot","start","color","medium"],["name","share-social-outline","slot","start","color","medium"],["name","link-outline","slot","start","color","medium"],["name","create-outline","slot","start","color","medium"],["name","trash-outline","slot","start","color","danger"],["color","danger"],[3,"users"],[3,"searchFocused","users"],["class","username",4,"ngIf"],[1,"username"]],template:function(i,a){if(i&1){let s=$();N1(0)(1),h(2,"ion-accordion-group",2)(3,"ion-accordion",3)(4,"ion-item",4)(5,"ion-avatar",5),L(6,"img",6),g(),h(7,"ion-label"),f(8),g(),h(9,"ion-button",7),b("click",function(l){return V(s),A(l.stopPropagation())}),L(10,"ion-icon",8),g(),h(11,"ion-popover",9),i1(12,mo,17,13,"ng-template"),g()(),h(13,"ion-list",10),N1(14),u1(15,po,5,8,"ion-item",11),h(16,"ion-item")(17,"ion-label"),f(18),w(19,"localize"),g(),h(20,"ion-note"),f(21),g()(),h(22,"ion-item")(23,"ion-label"),f(24),w(25,"localize"),g(),h(26,"ion-note"),f(27),w(28,"date"),g()(),h(29,"ion-item",12)(30,"ion-label"),f(31),w(32,"localize"),g(),h(33,"ion-note"),f(34),w(35,"date"),g()(),u1(36,wo,6,4,"ion-item",13),g()()(),h(37,"ion-modal",14,0),i1(39,fo,3,2,"ng-template"),g()}if(i&2){let s=k0(a.info());d();let r=k0(a.users());d(5),x("src",s==null||s.creator==null?null:s.creator.photoUrl,J0),d(2),C(" ",(s==null?null:s.name)??"Event name"," "),d(3),x("dismissOnSelect",!0)("arrow",!1),d(3);let l=k0((r==null?null:r.length)??0);d(),x1(l>0?15:-1),d(3),C(" ",k(19,18,a.EventMainInfoLocalize.Initiator)," "),d(3),C(" ",s==null||s.creator==null?null:s.creator.fullName," "),d(3),C(" ",k(25,20,a.EventMainInfoLocalize.Starts)," "),d(3),C(" ",d1(28,22,s==null?null:s.starts,"dd.MM.yyyy")," "),d(2),x("lines",s!=null&&s.description?"":"none"),d(2),C(" ",k(32,25,a.EventMainInfoLocalize.Ends)," "),d(3),C(" ",d1(35,27,s==null?null:s.ends,"dd.MM.yyyy")," "),d(2),x1(s!=null&&s.description?36:-1),d(),x("initialBreakpoint",1)("breakpoints",T1(30,go))}},dependencies:[k1,z0,l1,X1,f1,J1,E1,L0,y0,c1,_0,$2,W2,n2,G1,i2,It,f4,d2],styles:["ion-accordion-group[_ngcontent-%COMP%]{border-radius:.5rem}ion-list.info-list[_ngcontent-%COMP%]{margin-top:.5rem;background:transparent}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-item.header-item[_ngcontent-%COMP%]{border-radius:.5rem;--padding-start: .75rem;--min-height: 3.7rem}ion-item.header-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:2.75rem!important;height:2.75rem!important}ion-item.header-item[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{margin-right:-1rem}ion-item.header-item[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}ion-item.header-item[_ngcontent-%COMP%]     .ion-accordion-toggle-icon{position:absolute;right:3rem}ion-item.notes-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:auto}ion-item.notes-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding:.5rem 0;margin-left:max(20%,2.5rem);text-align:end}ion-popover[_ngcontent-%COMP%]{--offset-y: -.25rem;--offset-x: -.6rem;--width: auto}ion-popover[_ngcontent-%COMP%]   .popover-menu-list[_ngcontent-%COMP%]{padding:.25rem 0;background-color:var(--ion-background-color-step-100);white-space:nowrap}app-avatars-list[_ngcontent-%COMP%]{opacity:.9}ion-modal[_ngcontent-%COMP%]{--height: auto}ion-modal[_ngcontent-%COMP%]   app-users-list[_ngcontent-%COMP%]{height:60vh;padding:1rem}"],changeDetection:0});let n=t;return n})();var $t={FilterResults:{en:"Filter results",ru:"\u0424\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B"},Exclude:{en:"Exclude",ru:"\u0418\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u044C "},Maybe:{en:'"maybe"',ru:'"\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E"'},Time:{en:'"time"',ru:'"\u0432\u0440\u0435\u043C\u044F"'},IgnorePastDates:{en:"Ignore past dates",ru:"\u0423\u0431\u0440\u0430\u0442\u044C \u043F\u0440\u043E\u0448\u0435\u0434\u0448\u0438\u0435 \u0434\u0430\u0442\u044B"},OnlyWithMe:{en:"Only with me",ru:"\u0422\u043E\u043B\u044C\u043A\u043E \u0441\u043E \u043C\u043D\u043E\u0439"},AtLeast:{en:"At least",ru:"\u041A\u0430\u043A \u043C\u0438\u043D\u0438\u043C\u0443\u043C"},Member:{en:"member",ru:"\u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A"}};var Yt=D2(G2());var Kt=(()=>{let t=class t{set maxOverlap(o){(0,Yt.isNil)(o)||this.membersCount.set(o)}constructor(){this.disabled=!1,this.noMaybe=Z(!1),this.noTime=Z(!1),this.onlyWithMe=Z(!1),this.trimPast=Z(!0),this.membersCount=Z(1),this.ResultFiltersLocalize=$t}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-result-filters"]],inputs:{disabled:"disabled",maxMembers:"maxMembers",maxOverlap:"maxOverlap"},decls:38,vars:40,consts:[["mode","ios"],["value","filters","toggleIcon","remove-outline"],["slot","header",1,"header-item"],["slot","content","mode","ios"],[3,"ngModelChange","ngModel"],["color","warning"],["color","success"],["lines","none"],["lines","none",1,"range-list-item"],[3,"ngModelChange","ngModel","snaps","min","max","ticks"]],template:function(i,a){i&1&&(h(0,"ion-accordion-group",0)(1,"ion-accordion",1)(2,"ion-item",2)(3,"ion-label"),f(4),w(5,"localize"),g()(),h(6,"ion-list",3)(7,"ion-item")(8,"ion-checkbox",4),c0("ngModelChange",function(r){return l0(a.noMaybe,r)||(a.noMaybe=r),r}),f(9),w(10,"localize"),h(11,"ion-text",5),f(12),w(13,"localize"),g()()(),h(14,"ion-item")(15,"ion-checkbox",4),c0("ngModelChange",function(r){return l0(a.noTime,r)||(a.noTime=r),r}),f(16),w(17,"localize"),h(18,"ion-text",6),f(19),w(20,"localize"),g()()(),h(21,"ion-item")(22,"ion-checkbox",4),c0("ngModelChange",function(r){return l0(a.onlyWithMe,r)||(a.onlyWithMe=r),r}),f(23),w(24,"localize"),g()(),h(25,"ion-item")(26,"ion-checkbox",4),c0("ngModelChange",function(r){return l0(a.trimPast,r)||(a.trimPast=r),r}),f(27),w(28,"localize"),g()(),h(29,"ion-item",7)(30,"ion-label"),f(31),w(32,"localize"),g(),h(33,"ion-note"),f(34),w(35,"localizeMany"),g()(),h(36,"ion-item",8)(37,"ion-range",9),c0("ngModelChange",function(r){return l0(a.membersCount,r)||(a.membersCount=r),r}),g()()()()()),i&2&&(O1("disabled",a.disabled),d(4),C(" ",k(5,21,a.ResultFiltersLocalize.FilterResults)," "),d(4),r0("ngModel",a.noMaybe),d(),C(" ",k(10,23,a.ResultFiltersLocalize.Exclude)," "),d(3),C(" ",k(13,25,a.ResultFiltersLocalize.Maybe)," "),d(3),r0("ngModel",a.noTime),d(),C(" ",k(17,27,a.ResultFiltersLocalize.Exclude)," "),d(3),C(" ",k(20,29,a.ResultFiltersLocalize.Time)," "),d(3),r0("ngModel",a.onlyWithMe),d(),C(" ",k(24,31,a.ResultFiltersLocalize.OnlyWithMe)," "),d(3),r0("ngModel",a.trimPast),d(),C(" ",k(28,33,a.ResultFiltersLocalize.IgnorePastDates)," "),d(4),C(" ",k(32,35,a.ResultFiltersLocalize.AtLeast)," "),d(3),V1(" ",a.membersCount()," ",d1(35,37,a.ResultFiltersLocalize.Member,a.membersCount())," "),d(3),r0("ngModel",a.membersCount),x("snaps",!0)("min",1)("max",a.maxMembers)("ticks",a.maxMembers<=10))},dependencies:[k1,l1,J1,E1,L0,K2,c1,_0,$2,W2,B6,V6,U2,o2,q2],styles:[".disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}ion-accordion[_ngcontent-%COMP%]{background:var(--ion-color-light, #f4f5f8);border-radius:.5rem;--padding-end: 0}.header-item[_ngcontent-%COMP%]{--inner-padding-end: .9rem}ion-list[_ngcontent-%COMP%]{background:var(--ion-color-light, #f4f5f8)}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-item[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{opacity:.85}ion-item[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]{--knob-size: 22px}ion-item.range-list-item[_ngcontent-%COMP%]{margin-top:-.65rem;--padding-start: 1px;--inner-padding-end: .2rem}"]});let n=t;return n})();var Gt=(()=>{let t=class t{constructor(){this.popover=p(i2),this.destroyed$=new J}ngOnInit(){this.popover.willPresent.pipe(G0(o=>!!o.target),F(o=>H1(o.target,"contextmenu")),Q1(this.destroyed$)).subscribe(o=>o.preventDefault())}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appPreventContext",""]]});let n=t;return n})();var E=function(n){return n.Ready="ready",n.Maybe="maybe",n.Time="time",n}(E||{});var ge=D2(G2());function g2(n){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g2(n)}function z1(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function T(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function K(n){T(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||g2(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function k4(n,t){T(2,arguments);var e=K(n),o=z1(t);if(isNaN(o))return new Date(NaN);if(!o)return e;var i=e.getDate(),a=new Date(e.getTime());a.setMonth(e.getMonth()+o+1,0);var s=a.getDate();return i>=s?a:(e.setFullYear(a.getFullYear(),a.getMonth(),i),e)}function v3(n,t){T(2,arguments);var e=K(n).getTime(),o=z1(t);return new Date(e+o)}var Mo={};function H0(){return Mo}function m3(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function z4(n){T(1,arguments);var t=K(n);return t.setHours(0,0,0,0),t}function p3(n){return T(1,arguments),n instanceof Date||g2(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function w3(n){if(T(1,arguments),!p3(n)&&typeof n!="number")return!1;var t=K(n);return!isNaN(Number(t))}function u3(n,t){T(2,arguments);var e=z1(t);return v3(n,-e)}var ko=864e5;function x3(n){T(1,arguments);var t=K(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),i=e-o;return Math.floor(i/ko)+1}function O0(n){T(1,arguments);var t=1,e=K(n),o=e.getUTCDay(),i=(o<t?7:0)+o-t;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}function V2(n){T(1,arguments);var t=K(n),e=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(e+1,0,4),o.setUTCHours(0,0,0,0);var i=O0(o),a=new Date(0);a.setUTCFullYear(e,0,4),a.setUTCHours(0,0,0,0);var s=O0(a);return t.getTime()>=i.getTime()?e+1:t.getTime()>=s.getTime()?e:e-1}function f3(n){T(1,arguments);var t=V2(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var o=O0(e);return o}var zo=6048e5;function M3(n){T(1,arguments);var t=K(n),e=O0(t).getTime()-f3(t).getTime();return Math.round(e/zo)+1}function T0(n,t){var e,o,i,a,s,r,l,c;T(1,arguments);var m=H0(),v=z1((e=(o=(i=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(r=s.options)===null||r===void 0?void 0:r.weekStartsOn)!==null&&i!==void 0?i:m.weekStartsOn)!==null&&o!==void 0?o:(l=m.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var B=K(n),z=B.getUTCDay(),M=(z<v?7:0)+z-v;return B.setUTCDate(B.getUTCDate()-M),B.setUTCHours(0,0,0,0),B}function A2(n,t){var e,o,i,a,s,r,l,c;T(1,arguments);var m=K(n),v=m.getUTCFullYear(),B=H0(),z=z1((e=(o=(i=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(r=s.options)===null||r===void 0?void 0:r.firstWeekContainsDate)!==null&&i!==void 0?i:B.firstWeekContainsDate)!==null&&o!==void 0?o:(l=B.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(z>=1&&z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=new Date(0);M.setUTCFullYear(v+1,0,z),M.setUTCHours(0,0,0,0);var _=T0(M,t),P=new Date(0);P.setUTCFullYear(v,0,z),P.setUTCHours(0,0,0,0);var Y=T0(P,t);return m.getTime()>=_.getTime()?v+1:m.getTime()>=Y.getTime()?v:v-1}function k3(n,t){var e,o,i,a,s,r,l,c;T(1,arguments);var m=H0(),v=z1((e=(o=(i=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(r=s.options)===null||r===void 0?void 0:r.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&o!==void 0?o:(l=m.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1),B=A2(n,t),z=new Date(0);z.setUTCFullYear(B,0,v),z.setUTCHours(0,0,0,0);var M=T0(z,t);return M}var yo=6048e5;function z3(n,t){T(1,arguments);var e=K(n),o=T0(e,t).getTime()-k3(e,t).getTime();return Math.round(o/yo)+1}function R(n,t){for(var e=n<0?"-":"",o=Math.abs(n).toString();o.length<t;)o="0"+o;return e+o}var Co={y:function(t,e){var o=t.getUTCFullYear(),i=o>0?o:1-o;return R(e==="yy"?i%100:i,e.length)},M:function(t,e){var o=t.getUTCMonth();return e==="M"?String(o+1):R(o+1,2)},d:function(t,e){return R(t.getUTCDate(),e.length)},a:function(t,e){var o=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h:function(t,e){return R(t.getUTCHours()%12||12,e.length)},H:function(t,e){return R(t.getUTCHours(),e.length)},m:function(t,e){return R(t.getUTCMinutes(),e.length)},s:function(t,e){return R(t.getUTCSeconds(),e.length)},S:function(t,e){var o=e.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,o-3));return R(a,e.length)}},m0=Co;var v2={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},So={G:function(t,e,o){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})}},y:function(t,e,o){if(e==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return o.ordinalNumber(a,{unit:"year"})}return m0.y(t,e)},Y:function(t,e,o,i){var a=A2(t,i),s=a>0?a:1-a;if(e==="YY"){var r=s%100;return R(r,2)}return e==="Yo"?o.ordinalNumber(s,{unit:"year"}):R(s,e.length)},R:function(t,e){var o=V2(t);return R(o,e.length)},u:function(t,e){var o=t.getUTCFullYear();return R(o,e.length)},Q:function(t,e,o){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return R(i,2);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,o){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return R(i,2);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,o){var i=t.getUTCMonth();switch(e){case"M":case"MM":return m0.M(t,e);case"Mo":return o.ordinalNumber(i+1,{unit:"month"});case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,o){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return R(i+1,2);case"Lo":return o.ordinalNumber(i+1,{unit:"month"});case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,o,i){var a=z3(t,i);return e==="wo"?o.ordinalNumber(a,{unit:"week"}):R(a,e.length)},I:function(t,e,o){var i=M3(t);return e==="Io"?o.ordinalNumber(i,{unit:"week"}):R(i,e.length)},d:function(t,e,o){return e==="do"?o.ordinalNumber(t.getUTCDate(),{unit:"date"}):m0.d(t,e)},D:function(t,e,o){var i=x3(t);return e==="Do"?o.ordinalNumber(i,{unit:"dayOfYear"}):R(i,e.length)},E:function(t,e,o){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,o,i){var a=t.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return R(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(a,{width:"short",context:"formatting"});case"eeee":default:return o.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,o,i){var a=t.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return R(s,e.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(a,{width:"narrow",context:"standalone"});case"cccccc":return o.day(a,{width:"short",context:"standalone"});case"cccc":default:return o.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,o){var i=t.getUTCDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return R(a,e.length);case"io":return o.ordinalNumber(a,{unit:"day"});case"iii":return o.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(i,{width:"short",context:"formatting"});case"iiii":default:return o.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,o){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,o){var i=t.getUTCHours(),a;switch(i===12?a=v2.noon:i===0?a=v2.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,o){var i=t.getUTCHours(),a;switch(i>=17?a=v2.evening:i>=12?a=v2.afternoon:i>=4?a=v2.morning:a=v2.night,e){case"B":case"BB":case"BBB":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,o){if(e==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),o.ordinalNumber(i,{unit:"hour"})}return m0.h(t,e)},H:function(t,e,o){return e==="Ho"?o.ordinalNumber(t.getUTCHours(),{unit:"hour"}):m0.H(t,e)},K:function(t,e,o){var i=t.getUTCHours()%12;return e==="Ko"?o.ordinalNumber(i,{unit:"hour"}):R(i,e.length)},k:function(t,e,o){var i=t.getUTCHours();return i===0&&(i=24),e==="ko"?o.ordinalNumber(i,{unit:"hour"}):R(i,e.length)},m:function(t,e,o){return e==="mo"?o.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):m0.m(t,e)},s:function(t,e,o){return e==="so"?o.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):m0.s(t,e)},S:function(t,e){return m0.S(t,e)},X:function(t,e,o,i){var a=i._originalDate||t,s=a.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Jt(s);case"XXXX":case"XX":return Q0(s);case"XXXXX":case"XXX":default:return Q0(s,":")}},x:function(t,e,o,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(e){case"x":return Jt(s);case"xxxx":case"xx":return Q0(s);case"xxxxx":case"xxx":default:return Q0(s,":")}},O:function(t,e,o,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Xt(s,":");case"OOOO":default:return"GMT"+Q0(s,":")}},z:function(t,e,o,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Xt(s,":");case"zzzz":default:return"GMT"+Q0(s,":")}},t:function(t,e,o,i){var a=i._originalDate||t,s=Math.floor(a.getTime()/1e3);return R(s,e.length)},T:function(t,e,o,i){var a=i._originalDate||t,s=a.getTime();return R(s,e.length)}};function Xt(n,t){var e=n>0?"-":"+",o=Math.abs(n),i=Math.floor(o/60),a=o%60;if(a===0)return e+String(i);var s=t||"";return e+String(i)+s+R(a,2)}function Jt(n,t){if(n%60===0){var e=n>0?"-":"+";return e+R(Math.abs(n)/60,2)}return Q0(n,t)}function Q0(n,t){var e=t||"",o=n>0?"-":"+",i=Math.abs(n),a=R(Math.floor(i/60),2),s=R(i%60,2);return o+a+e+s}var Zt=So;var te=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ee=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Lo=function(t,e){var o=t.match(/(P+)(p+)?/)||[],i=o[1],a=o[2];if(!a)return te(t,e);var s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",te(i,e)).replace("{{time}}",ee(a,e))},Bo={p:ee,P:Lo},oe=Bo;var _o=["D","DD"],Vo=["YY","YYYY"];function ie(n){return _o.indexOf(n)!==-1}function ne(n){return Vo.indexOf(n)!==-1}function y3(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ao={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bo=function(t,e,o){var i,a=Ao[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+i:i+" ago":i},ae=bo;function b2(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,o=n.formats[e]||n.formats[n.defaultWidth];return o}}var Ho={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Oo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},To={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Eo={date:b2({formats:Ho,defaultWidth:"full"}),time:b2({formats:Oo,defaultWidth:"full"}),dateTime:b2({formats:To,defaultWidth:"full"})},se=Eo;var Do={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jo=function(t,e,o,i){return Do[t]},re=jo;function Y0(n){return function(t,e){var o=e!=null&&e.context?String(e.context):"standalone",i;if(o==="formatting"&&n.formattingValues){var a=n.defaultFormattingWidth||n.defaultWidth,s=e!=null&&e.width?String(e.width):a;i=n.formattingValues[s]||n.formattingValues[a]}else{var r=n.defaultWidth,l=e!=null&&e.width?String(e.width):n.defaultWidth;i=n.values[l]||n.values[r]}var c=n.argumentCallback?n.argumentCallback(t):t;return i[c]}}var Po={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Io={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fo={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ro={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},No={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uo=function(t,e){var o=Number(t),i=o%100;if(i>20||i<10)switch(i%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},Wo={ordinalNumber:Uo,era:Y0({values:Po,defaultWidth:"wide"}),quarter:Y0({values:Io,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Y0({values:Fo,defaultWidth:"wide"}),day:Y0({values:Ro,defaultWidth:"wide"}),dayPeriod:Y0({values:No,defaultWidth:"wide",formattingValues:qo,defaultFormattingWidth:"wide"})},le=Wo;function K0(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.width,i=o&&n.matchPatterns[o]||n.matchPatterns[n.defaultMatchWidth],a=t.match(i);if(!a)return null;var s=a[0],r=o&&n.parsePatterns[o]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(r)?Qo(r,function(v){return v.test(s)}):$o(r,function(v){return v.test(s)}),c;c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;var m=t.slice(s.length);return{value:c,rest:m}}}function $o(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Qo(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function C3(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.match(n.matchPattern);if(!o)return null;var i=o[0],a=t.match(n.parsePattern);if(!a)return null;var s=n.valueCallback?n.valueCallback(a[0]):a[0];s=e.valueCallback?e.valueCallback(s):s;var r=t.slice(i.length);return{value:s,rest:r}}}var Yo=/^(\d+)(th|st|nd|rd)?/i,Ko=/\d+/i,Go={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xo={any:[/^b/i,/^(a|c)/i]},Jo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zo={any:[/1/i,/2/i,/3/i,/4/i]},t5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},o5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},i5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},s5={ordinalNumber:C3({matchPattern:Yo,parsePattern:Ko,valueCallback:function(t){return parseInt(t,10)}}),era:K0({matchPatterns:Go,defaultMatchWidth:"wide",parsePatterns:Xo,defaultParseWidth:"any"}),quarter:K0({matchPatterns:Jo,defaultMatchWidth:"wide",parsePatterns:Zo,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:K0({matchPatterns:t5,defaultMatchWidth:"wide",parsePatterns:e5,defaultParseWidth:"any"}),day:K0({matchPatterns:o5,defaultMatchWidth:"wide",parsePatterns:i5,defaultParseWidth:"any"}),dayPeriod:K0({matchPatterns:n5,defaultMatchWidth:"any",parsePatterns:a5,defaultParseWidth:"any"})},ce=s5;var r5={code:"en-US",formatDistance:ae,formatLong:se,formatRelative:re,localize:le,match:ce,options:{weekStartsOn:0,firstWeekContainsDate:1}},he=r5;var de=he;var l5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h5=/^'([^]*?)'?$/,d5=/''/g,g5=/[a-zA-Z]/;function h1(n,t,e){var o,i,a,s,r,l,c,m,v,B,z,M,_,P,Y,X,o1,t1;T(2,arguments);var w0=String(t),v1=H0(),e1=(o=(i=e?.locale)!==null&&i!==void 0?i:v1.locale)!==null&&o!==void 0?o:de,n1=z1((a=(s=(r=(l=e?.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(c=e.locale)===null||c===void 0||(m=c.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:v1.firstWeekContainsDate)!==null&&s!==void 0?s:(v=v1.locale)===null||v===void 0||(B=v.options)===null||B===void 0?void 0:B.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(n1>=1&&n1<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I1=z1((z=(M=(_=(P=e?.weekStartsOn)!==null&&P!==void 0?P:e==null||(Y=e.locale)===null||Y===void 0||(X=Y.options)===null||X===void 0?void 0:X.weekStartsOn)!==null&&_!==void 0?_:v1.weekStartsOn)!==null&&M!==void 0?M:(o1=v1.locale)===null||o1===void 0||(t1=o1.options)===null||t1===void 0?void 0:t1.weekStartsOn)!==null&&z!==void 0?z:0);if(!(I1>=0&&I1<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!e1.localize)throw new RangeError("locale must contain localize property");if(!e1.formatLong)throw new RangeError("locale must contain formatLong property");var F1=K(n);if(!w3(F1))throw new RangeError("Invalid time value");var O2=m3(F1),i0=u3(F1,O2),p2={firstWeekContainsDate:n1,weekStartsOn:I1,locale:e1,_originalDate:F1},T2=w0.match(c5).map(function(m1){var u=m1[0];if(u==="p"||u==="P"){var S=oe[u];return S(m1,e1.formatLong)}return m1}).join("").match(l5).map(function(m1){if(m1==="''")return"'";var u=m1[0];if(u==="'")return v5(m1);var S=Zt[u];if(S)return!(e!=null&&e.useAdditionalWeekYearTokens)&&ne(m1)&&y3(m1,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&ie(m1)&&y3(m1,t,String(n)),S(i0,m1,e1.localize,p2);if(u.match(g5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return m1}).join("");return T2}function v5(n){var t=n.match(h5);return t?t[1].replace(d5,"'"):n}var E0=(()=>{let t=class t{set voteDates(o){let i=(0,ge.groupBy)(o,"voteType"),a=i[E.Ready]??[],s=i[E.Maybe]??[],r=i[E.Time]??[];this.readyDates.set(new Set(a.map(l=>this.formatVoteDate(l.date)))),this.maybeDates.set(new Set(s.map(l=>this.formatVoteDate(l.date)))),this.timeDates.set(new Map(r.map(l=>[this.formatVoteDate(l.date),l])))}get voteDates(){return this.voteDatesSignal()}get rootEl(){return this.elRef.nativeElement.shadowRoot}constructor(){this.readyDates=Z(new Set),this.maybeDates=Z(new Set),this.timeDates=Z(new Map),this.voteDatesSignal=g1(()=>{let o=this.readyDates(),i=this.maybeDates(),a=this.timeDates();return[...Array.from(o).map(s=>({date:new Date(s),voteType:E.Ready})),...Array.from(i).map(s=>({date:new Date(s),voteType:E.Maybe})),...Array.from(a.values())]}),this.lastFocusedDateButton$=new w2(1),this.focusedTimeChanges=this.lastFocusedDateButton$.pipe(I(o=>{if(!o)return;let i=Number(o.getAttribute("data-day")),a=Number(o.getAttribute("data-month")),s=Number(o.getAttribute("data-year")),r=new Date(s,a-1,i);return this.timeDates().get(this.formatVoteDate(r))})),this.ionDateComponent=p(Z1),this.elRef=p(f0),this.rootObs=new MutationObserver(()=>{let o=this.rootEl.querySelectorAll("button.calendar-day");this.dateButtons$.next(Array.from(o))}),this.dateButtons$=new w2(1),F2(()=>{let o=this.readyDates(),i=this.maybeDates(),a=this.timeDates();this.ionDateComponent.highlightedDates=[...Array.from(o).map(s=>({date:s,textColor:"var(--ready-text-color)",backgroundColor:"var(--ready-bg-color)"})),...Array.from(i).map(s=>({date:s,textColor:"var(--maybe-text-color)",backgroundColor:"var(--maybe-bg-color)"})),...Array.from(a.keys()).map(s=>({date:s,textColor:"var(--time-text-color)",backgroundColor:"var(--time-bg-color)"}))]})}ngAfterViewInit(){this.rootObs.observe(this.rootEl,{childList:!0,subtree:!0})}ngOnDestroy(){this.dateButtons$.complete(),this.rootObs.disconnect()}emitAllDatesSignals(){this.readyDates.set(new Set(this.readyDates())),this.maybeDates.set(new Set(this.maybeDates())),this.timeDates.set(new Map(this.timeDates()))}formatVoteDate(o){return h1(o,"yyyy-MM-dd")}getDataFromButton(o){let i=Number(o.getAttribute("data-day")),a=Number(o.getAttribute("data-month")),s=Number(o.getAttribute("data-year"));return{day:i,month:a,year:s}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appVoteData",""]],inputs:{voteDates:"voteDates"},outputs:{focusedTimeChanges:"focusedTimeChanges"},exportAs:["appVoteData"]});let n=t;return n})();var ve=(()=>{let t=class t{constructor(){this.timeModalAction=new I2,this.data=p(E0)}get currentSet(){switch(this.appVoteHandleClick){case E.Ready:return this.data.readyDates();case E.Maybe:return this.data.maybeDates();case E.Time:return this.data.timeDates()}}ngAfterViewInit(){this.data.dateButtons$.pipe(F(o=>{let i=o.map(a=>H1(a,"click",{capture:!0}).pipe(Q(s=>s.stopPropagation()),I(()=>a)));return B1(...i)})).subscribe(o=>this.handleClick(o))}handleClick(o){return _4(this,null,function*(){let{day:i,month:a,year:s}=this.data.getDataFromButton(o),r=this.data.formatVoteDate(new Date(s,a-1,i));this.currentSet.has(r)?this.currentSet.delete(r):(this.data.readyDates().delete(r),this.data.maybeDates().delete(r),this.data.timeDates().delete(r),yield this.addDateToSet(o,r,s,a,i)),this.data.emitAllDatesSignals()})}addDateToSet(o,i,a,s,r){return _4(this,null,function*(){switch(this.appVoteHandleClick){case E.Ready:this.data.readyDates().add(i);break;case E.Maybe:this.data.maybeDates().add(i);break;case E.Time:o.style.opacity="0.7";let c=yield new Promise(z=>this.timeModalAction.emit(z));if(o.style.opacity="",!c)return;let m=new Date(c.start),v=new Date(c.end);m.setFullYear(a,s-1,r),v.setFullYear(a,s-1,r);let B={date:new Date(i),voteType:E.Time,start:m,end:v};this.data.timeDates().set(i,B);break}})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appVoteHandleClick",""]],inputs:{appVoteHandleClick:"appVoteHandleClick"},outputs:{timeModalAction:"timeModalAction"}});let n=t;return n})();var me=(n,t=500)=>{let e=H1(n,"touchstart"),o=H1(n,"touchend"),i=H1(n,"touchmove");return e.pipe(F(a=>T3(t).pipe(I(()=>a),Q1(B1(o,i)))))};var D0=class{static toJsDates(t){let e=b1(s1({},t),{date:new Date(t.date),start:t.start?new Date(t.start):void 0,end:t.end?new Date(t.end):void 0});return t.start===void 0&&delete e.start,t.end===void 0&&delete e.end,e}static toStringDates(t){return b1(s1({},t),{date:h1(t.date,"yyyy-MM-dd"),start:t.start?h1(t.start,"yyyy-MM-dd'T'HH:mm:ss"):void 0,end:t.end?h1(t.end,"yyyy-MM-dd'T'HH:mm:ss"):void 0})}};var pe=(()=>{let t=class t{constructor(){this.data=p(E0)}ngAfterViewInit(){this.data.dateButtons$.pipe(F(o=>{let i=o.map(a=>{let s=H1(a,"contextmenu"),r=me(a);return B1(s,r).pipe(Q(l=>l.preventDefault()),I(l=>b1(s1({},l),{target:a})),j3(500))});return B1(...i)})).subscribe(o=>this.showPopover(o))}showPopover(o){let i=o.target;this.appVoteHandlePopover.present(o),this.appVoteHandlePopover.willPresent.pipe(n0(1)).subscribe(()=>{this.data.lastFocusedDateButton$.next(i),i.style.opacity="0.7"}),this.appVoteHandlePopover.willDismiss.pipe(n0(1)).subscribe(a=>{if(this.data.lastFocusedDateButton$.next(void 0),i.style.opacity="",a.detail.data){let{day:s,month:r,year:l}=this.data.getDataFromButton(i);this.handlePopoverButtons(a.detail.data,l,r,s)}})}handlePopoverButtons(o,i,a,s){let r=new Date(i,a-1,s),l=this.data.formatVoteDate(r);if((o.clear||!o.ready&&!o.maybe&&!o.time)&&(this.data.readyDates().delete(l),this.data.maybeDates().delete(l),this.data.timeDates().delete(l)),o.ready)this.data.readyDates().add(l);else if(o.maybe)this.data.maybeDates().add(l);else if(o.time){let c=new Date(o.start),m=new Date(o.end);c.setFullYear(i,a-1,s),m.setFullYear(i,a-1,s);let v={date:r,voteType:E.Time,start:c,end:m};this.data.timeDates().set(l,v)}this.data.emitAllDatesSignals()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appVoteHandlePopover",""]],inputs:{appVoteHandlePopover:"appVoteHandlePopover"}});let n=t;return n})();var S3={Ready:{en:"Ready",ru:"\u0413\u043E\u0442\u043E\u0432"},Maybe:{en:"Maybe",ru:"\u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E"},Time:{en:"Time",ru:"\u0412\u0440\u0435\u043C\u044F"},HoldDate:{en:"Hold date",ru:"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0434\u0430\u0442\u0443,"},RightClickDate:{en:"Right click on date",ru:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u043C\u044B\u0448\u0438 \u043F\u043E \u0434\u0430\u0442\u0435,"},SelectSpecificStatus:{en:"to select specific status",ru:"\u0447\u0442\u043E\u0431\u044B \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0441\u0442\u0430\u0442\u0443\u0441"},DoNotForgetSave:{en:"Don't forget to save changes",ru:"\u041D\u0435 \u0437\u0430\u0431\u0443\u0434\u044C\u0442\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"},Clear:{en:"Clear",ru:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C"},Cancel:{en:"Cancel",ru:"\u041E\u0442\u043C\u0435\u043D\u0430"},Save:{en:"Save",ru:"\u0413\u043E\u0442\u043E\u0432\u043E"},StartTime:{en:"Start time",ru:"\u0412\u0440\u0435\u043C\u044F \u043D\u0430\u0447\u0430\u043B\u0430"},EndTime:{en:"End time",ru:"\u0412\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F"},SpecifyTime:{en:"Specify time",ru:"\u0423\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0440\u0435\u043C\u044F"},HasBeenSaved:{en:"All changes have been saved successfully",ru:"\u0412\u0441\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B"}};var we=(()=>{let t=class t{constructor(){this.baseUrl="votes",this.http=p(C0)}getEventVote(o){let i={eventId:o};return this.http.get(this.baseUrl,{params:i}).pipe(I(a=>{let s=a.dates.map(r=>D0.toJsDates(r));return b1(s1({},a),{dates:s})}))}updateEventVote(o,i){let s={dates:i.map(l=>D0.toStringDates(l))},r={eventId:o};return this.http.post(this.baseUrl,s,{params:r}).pipe(I(l=>{let c=l.dates.map(m=>D0.toJsDates(m));return b1(s1({},l),{dates:c})}))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ue=D2(G2());var m5=()=>[],p5=()=>[0,1];function w5(n,t){if(n&1){let e=$();h(0,"div",21)(1,"ion-button",22),b("click",function(){V(e),y();let i=N(45);return A(i.dismiss({ready:!0}))}),L(2,"ion-icon",23),g(),h(3,"ion-button",24),b("click",function(){V(e),y();let i=N(45);return A(i.dismiss({maybe:!0}))}),L(4,"ion-icon",25),g(),h(5,"ion-button",26),b("click",function(){V(e);let i=y(),a=N(45);return A(i.timeModalDataAction.set(a.dismiss.bind(a)))}),L(6,"ion-icon",27),g(),h(7,"ion-button",28),b("click",function(){V(e),y();let i=N(45);return A(i.dismiss({clear:!0}))}),L(8,"ion-icon",29),g()()}}function u5(n,t){if(n&1){let e=$();h(0,"div",30)(1,"div",31)(2,"div",32)(3,"ion-label"),f(4),w(5,"localize"),g(),h(6,"ion-datetime",33),c0("ngModelChange",function(i){V(e);let a=y();return l0(a.startTime,i)||(a.startTime=i),A(i)}),g()(),h(7,"div",32)(8,"ion-label"),f(9),w(10,"localize"),g(),h(11,"ion-datetime",33),c0("ngModelChange",function(i){V(e);let a=y();return l0(a.endTime,i)||(a.endTime=i),A(i)}),g()()(),h(12,"ion-button",34),b("click",function(){V(e);let i=y(),a=N(49);return A(i.onTimeSelected(a))}),f(13),w(14,"localize"),g()()}if(n&2){let e=y();d(4),C(" ",k(5,6,e.VoteCalendarLocalize.StartTime)," "),d(2),r0("ngModel",e.startTime),d(3),C(" ",k(10,8,e.VoteCalendarLocalize.EndTime)," "),d(2),r0("ngModel",e.endTime),d(),x("disabled",e.isTimeInvalid()),d(),C(" ",k(14,10,e.VoteCalendarLocalize.SpecifyTime)," ")}}var y4="yyyy-MM-dd'T'HH:mm:ss",C4=(()=>{let t=class t{constructor(){this.appVoteData=h0(E0),this.voteDatesFromCalendar=g1(()=>this.appVoteData()?.voteDatesSignal()),this.eventId=q.required(),this.minDate=q(),this.maxDate=q(),this.voteUpdated=f2(),this.resetDates$=new J,this.clearDates$=new J,this.saveDates$=new J,this.request=p(we),this.featureLoad=p(b0,{optional:!0}),this.loadedEventVote$=q1(this.eventId).pipe(Q(()=>this.featureLoad?.incrLoading()),F(o=>this.request.getEventVote(o).pipe(a0(()=>this.featureLoad?.decrLoading()))),_1(1)),this.updatedEventVote$=this.saveDates$.pipe(I(()=>this.voteDatesFromCalendar()??[]),Q(()=>this.featureLoad?.incrLoading()),F(o=>this.request.updateEventVote(this.eventId(),o).pipe(a0(()=>this.featureLoad?.decrLoading()))),Q(o=>this.voteUpdated.emit(o)),Q(()=>{let o=this.loc.localizeSync(S3.HasBeenSaved);this.toast.info(o,"cloud-done-outline")}),_1(1)),this.stagedVoteDates$=B1(this.loadedEventVote$,this.updatedEventVote$).pipe(I(o=>o.dates),_1(1)),this.voteDates$=B1(this.clearDates$.pipe(I(()=>[])),this.resetDates$.pipe(R1(!0),F(()=>this.stagedVoteDates$),I(o=>o.slice()))),this.startTime=Z(h1(new Date,y4)),this.endTime=Z(h1(new Date,y4)),this.lastAppliedStartTime=this.startTime(),this.lastAppliedEndTime=this.endTime(),this.isTimeInvalid=g1(()=>{let o=new Date(this.startTime()),i=new Date(this.endTime());return o>=i}),this.timeModalDataAction=Z(void 0),this.toast=p(t0),this.tools=p(O6),this.isTouchDevice=this.tools.isTouchDevice,this.VoteType=E,this.defaultVoteType=E.Ready,this.loc=p(M1),this.localizeFormat$=this.loc.localizationWithFormat$,this.VoteCalendarLocalize=S3,this.noUnsavedChanges=q1(this.voteDatesFromCalendar).pipe(P3(this.stagedVoteDates$),I(([o,i])=>(0,ue.isEqual)(o,i)),X0(),_1(1))}updateTime(o){let i=o?.start?h1(o.start,y4):this.lastAppliedStartTime,a=o?.end?h1(o.end,y4):this.lastAppliedEndTime;this.startTime.set(i),this.endTime.set(a)}onTimeSelected(o){o.dismiss(),this.lastAppliedStartTime=this.startTime(),this.lastAppliedEndTime=this.endTime();let i=this.timeModalDataAction();i&&(i({time:!0,start:this.startTime(),end:this.endTime()}),this.timeModalDataAction.set(void 0))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-vote-calendar"]],viewQuery:function(i,a){i&1&&s0(a.appVoteData,E0,5),i&2&&M0()},inputs:{eventId:[1,"eventId"],minDate:[1,"minDate"],maxDate:[1,"maxDate"]},outputs:{voteUpdated:"voteUpdated",noUnsavedChanges:"noUnsavedChanges"},decls:51,vars:55,consts:[["popover",""],["timeModal",""],[1,"vote-calendar"],[1,"vote-calendar-header"],[1,"chips"],[1,"chip-container",3,"click"],["color","primary"],["name","checkmark-outline"],["color","warning"],["name","help-outline"],["color","success"],["name","time-outline"],[1,"subtitle"],["appVoteData","","presentation","date","mode","ios",3,"focusedTimeChanges","timeModalAction","appVoteHandleClick","appVoteHandlePopover","voteDates","firstDayOfWeek","min","max","locale"],["mode","ios",1,"vote-calendar-actions"],["color","medium",3,"click"],[1,"right"],["color","danger",3,"click","disabled"],["color","primary",3,"click","disabled"],["appPreventContext","","mode","ios","side","top","alignment","center",3,"arrow"],[3,"ionModalWillDismiss","initialBreakpoint","breakpoints","isOpen"],[1,"popover-content"],["size","small","color","primary",3,"click"],["name","checkmark-outline","slot","icon-only"],["size","small","color","warning",3,"click"],["name","help-outline","slot","icon-only"],["size","small","color","success",3,"click"],["name","time-outline","slot","icon-only"],["size","small","color","light",3,"click"],["name","ban-outline","slot","icon-only"],[1,"time-modal-content"],[1,"time-pickers"],[1,"pick"],["presentation","time","mode","ios",3,"ngModelChange","ngModel"],["mode","ios",3,"click","disabled"]],template:function(i,a){if(i&1){let s=$();h(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),b("click",function(){return V(s),A(a.defaultVoteType=a.VoteType.Ready)}),h(4,"ion-chip",6),L(5,"ion-icon",7),h(6,"ion-label"),f(7),w(8,"localize"),g()()(),h(9,"div",5),b("click",function(){return V(s),A(a.defaultVoteType=a.VoteType.Maybe)}),h(10,"ion-chip",8),L(11,"ion-icon",9),h(12,"ion-label"),f(13),w(14,"localize"),g()()(),h(15,"div",5),b("click",function(){return V(s),A(a.defaultVoteType=a.VoteType.Time)}),h(16,"ion-chip",10),L(17,"ion-icon",11),h(18,"ion-label"),f(19),w(20,"localize"),g()()()(),h(21,"span",12),f(22),w(23,"localize"),w(24,"localize"),L(25,"br"),f(26),w(27,"localize"),g()(),h(28,"ion-datetime",13),w(29,"async"),w(30,"async"),b("focusedTimeChanges",function(l){return V(s),A(a.updateTime(l))})("timeModalAction",function(l){return V(s),A(a.timeModalDataAction.set(l))}),g(),h(31,"ion-buttons",14),N1(32),w(33,"async"),h(34,"ion-button",15),b("click",function(){return V(s),A(a.clearDates$.next(!0))}),f(35),w(36,"localize"),g(),h(37,"div",16)(38,"ion-button",17),b("click",function(){return V(s),A(a.resetDates$.next(!0))}),f(39),w(40,"localize"),g(),h(41,"ion-button",18),b("click",function(){return V(s),A(a.saveDates$.next(!0))}),f(42),w(43,"localize"),g()()()(),h(44,"ion-popover",19,0),i1(46,w5,9,0,"ng-template"),g(),N1(47),h(48,"ion-modal",20,1),b("ionModalWillDismiss",function(){V(s);let l=Y1(47);return l==null||l(),A(a.timeModalDataAction.set(void 0))}),i1(50,u5,15,12,"ng-template"),g()}if(i&2){let s=N(45);d(3),O1("active",a.defaultVoteType===a.VoteType.Ready),d(4),C(" ",k(8,28,a.VoteCalendarLocalize.Ready)," "),d(2),O1("active",a.defaultVoteType===a.VoteType.Maybe),d(4),C(" ",k(14,30,a.VoteCalendarLocalize.Maybe)," "),d(2),O1("active",a.defaultVoteType===a.VoteType.Time),d(4),C(" ",k(20,32,a.VoteCalendarLocalize.Time)," "),d(3),V1(" ",k(23,34,a.isTouchDevice?a.VoteCalendarLocalize.HoldDate:a.VoteCalendarLocalize.RightClickDate)," ",k(24,36,a.VoteCalendarLocalize.SelectSpecificStatus)," "),d(4),C(" ",k(27,38,a.VoteCalendarLocalize.DoNotForgetSave)," "),d(2),x("appVoteHandleClick",a.defaultVoteType)("appVoteHandlePopover",s)("voteDates",k(29,40,a.voteDates$)??T1(53,m5))("firstDayOfWeek",1)("min",a.minDate()??void 0)("max",a.maxDate()??void 0)("locale",k(30,42,a.localizeFormat$));let r=k(33,44,a.noUnsavedChanges);d(7),C(" ",k(36,46,a.VoteCalendarLocalize.Clear)," "),d(3),x("disabled",r),d(),C(" ",k(40,48,a.VoteCalendarLocalize.Cancel)," "),d(2),x("disabled",r),d(),C(" ",k(43,50,a.VoteCalendarLocalize.Save)," "),d(2),x("arrow",!0),d(3);let l=k0(a.timeModalDataAction());d(),x("initialBreakpoint",1)("breakpoints",T1(54,p5))("isOpen",l!==void 0)}},dependencies:[k1,l1,X1,f6,f1,K1,c1,Z1,Q2,i2,G1,U2,o2,q2,E0,ve,pe,Gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;min-width:350px;align-self:center}.vote-calendar-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;background-color:var(--ion-color-light, #f4f5f8);padding:.5rem .5rem .25rem;border-top-left-radius:.5rem;border-top-right-radius:.5rem}.vote-calendar-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{padding:0 .5rem;color:var(--ion-text-color-step-600, #b3b3b3);font-size:.9rem;line-height:1.25rem;margin-top:.25rem;margin-bottom:.825rem}.vote-calendar-header[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;padding:0 .2rem;justify-content:space-between;gap:.25rem}.vote-calendar-header[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip-container.active[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{background:rgba(var(--ion-color-base-rgb, 0, 0, 0),.225)!important;outline:2px solid rgba(var(--ion-color-base-rgb, 0, 0, 0),.225);outline-offset:2px}.vote-calendar-actions[_ngcontent-%COMP%]{padding:.5rem .75rem;background-color:var(--ion-color-light, #f4f5f8);justify-content:space-between;border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem;gap:1rem}.vote-calendar-actions[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:.5rem}ion-datetime[_ngcontent-%COMP%]{border-radius:0}ion-popover[_ngcontent-%COMP%]{--offset-y: -.15rem;--width: 10rem}.popover-content[_ngcontent-%COMP%]{padding:.5rem;width:100%;display:flex;justify-content:space-between;gap:.25rem;opacity:.95}ion-modal[_ngcontent-%COMP%]{--height: auto}.time-modal-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.time-modal-content[_ngcontent-%COMP%]   .time-pickers[_ngcontent-%COMP%]{display:flex;gap:1rem}.time-modal-content[_ngcontent-%COMP%]   .time-pickers[_ngcontent-%COMP%]   .pick[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;align-items:center;gap:1rem}.time-modal-content[_ngcontent-%COMP%]   .time-pickers[_ngcontent-%COMP%]   .pick[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{width:100%;border-radius:1rem}"],changeDetection:0});let n=t;return n})();var p0=function(n){return n.List="list",n.Calendar="calendar",n}(p0||{});var xe=(()=>{let t=class t{constructor(){this.disabled=!1,this.ViewPick=p0,this.value=Z(p0.List),this.refresh=new I2}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-result-view-picker-control"]],inputs:{disabled:"disabled"},outputs:{refresh:"refresh"},decls:7,vars:3,consts:[[1,"picker",3,"ngClass"],[1,"item",3,"click"],["name","list-outline"],["name","calendar-outline"],[3,"click"],["slot","icon-only","name","refresh-outline"]],template:function(i,a){i&1&&(h(0,"div",0)(1,"div",1),b("click",function(){return a.value.set(a.ViewPick.List)}),L(2,"ion-icon",2),g(),h(3,"div",1),b("click",function(){return a.value.set(a.ViewPick.Calendar)}),L(4,"ion-icon",3),g()(),h(5,"ion-button",4),b("click",function(){return a.refresh.emit()}),L(6,"ion-icon",5),g()),i&2&&(O1("disabled",a.disabled),x("ngClass",a.value()))},dependencies:[k1,J3,X1,f1],styles:['[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center}.picker[_ngcontent-%COMP%]{position:relative;display:flex;border-radius:.5rem;background-color:var(--ion-color-light, #f4f5f8);--border-size: 2px}.picker.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.picker[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{z-index:2;padding:.8rem 1.25rem;display:flex;align-items:center;cursor:pointer}.picker[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{opacity:.7}.picker[_ngcontent-%COMP%]:after{content:"";transition:left .2s ease-in-out;z-index:1;position:absolute;top:var(--border-size);bottom:var(--border-size);width:calc(50% - var(--border-size) * 2);box-shadow:var(--picker-box-shadow);background-color:var(--ion-background-color-step-350, #fff);border-radius:.5rem}.picker.list[_ngcontent-%COMP%]:after{left:var(--border-size)!important}.picker.calendar[_ngcontent-%COMP%]:after{left:calc(50% + var(--border-size))!important}ion-button[_ngcontent-%COMP%]{margin:0;--border-radius: .5rem;--padding-bottom: .75rem;--padding-end: .75rem;--padding-start: .75rem;--padding-top: .75rem}']});let n=t;return n})();var x5=["*"],f5=(n,t)=>({value:n,params:t}),fe="0.4s ease-in-out",M5={transform:"translateX(0)"},k5={transform:"translateX({{ leaveEnd }}%)"},z5={transform:"translateX({{ enterStart }}%)"},Me=(()=>{let t=class t{constructor(){this.viewPick=q.required(),this.animationDisabled=Z(!0),this.animationParams=g1(()=>{switch(this.viewPick()){case p0.List:return{leaveEnd:120,enterStart:-120};case p0.Calendar:return{leaveEnd:-120,enterStart:120};default:return{}}}),U3(()=>{this.animationDisabled()&&this.animationDisabled.set(!1)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-result-view-picker-container"]],inputs:{viewPick:[1,"viewPick"]},ngContentSelectors:x5,decls:2,vars:5,consts:[[1,"result-view-picker-container-animated"]],template:function(i,a){i&1&&(Y3(),h(0,"div",0),K3(1),g()),i&2&&x("@.disabled",a.animationDisabled())("@openCloseResultView",u2(2,f5,a.viewPick(),a.animationParams()))},styles:[".result-view-picker-container-animated[_ngcontent-%COMP%]{display:grid;overflow:hidden;place-items:start}  .result-view-picker-container-animated>*{display:block;grid-column:1;grid-row:1;width:100%}"],data:{animation:[T4("openCloseResultView",[D4("* => *",[E4([k2(":enter",V0(z5)),k2(":leave",[J2(fe,V0(k5))],{optional:!0}),k2(":enter",[J2(fe),V0(M5)])])],{params:{leaveEnd:-120,enterStart:120}})])]},changeDetection:0});let n=t;return n})();var ke=(()=>{let t=class t{constructor(){this.baseUrl="results",this.http=p(C0)}getEventResults(o){let i={eventId:o};return this.http.get(this.baseUrl,{params:i}).pipe(I(a=>{let s=a.dates.map(r=>D0.toJsDates(r));return b1(s1({},a),{dates:s})}))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var y5=z4(new Date),j0=(()=>{let t=class t{constructor(){this.eventId=q.required(),this.min=q.required(),this.noMaybe=q.required(),this.noTime=q.required(),this.onlyWithMe=q.required(),this.trimPast=q.required(),this.request=p(ke),this.featureLoad=p(b0,{optional:!0}),this.refresh$=new J,this.eventid$=q1(this.eventId),this.info$=this.refresh$.pipe(R1(!0),F(()=>this.eventid$),Q(()=>this.featureLoad?.incrLoading()),F(o=>this.request.getEventResults(o).pipe(a0(()=>this.featureLoad?.decrLoading()))),_1(1)),this.info=B0(this.info$),this.dates=g1(()=>this.info()?.dates??[]),this.filteredDates=g1(()=>this.dates().filter(o=>o.users.length>=this.min()&&(!this.trimPast()||o.date>=y5)&&(!this.noMaybe()||o.voteType!==E.Maybe)&&(!this.noTime()||o.voteType!==E.Time)&&(!this.onlyWithMe()||o.isWithMe))),this.filteredDatesMap=g1(()=>{let o=this.filteredDates();return new Map(o.map(i=>[this.formatVoteDate(i.date),i]))})}refresh(){this.refresh$.next(!0)}formatVoteDate(o){return h1(o,"yyyy-MM-dd")}getVoteDate(o){let i=this.formatVoteDate(o);return this.filteredDatesMap().get(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appResultView",""]],inputs:{eventId:[1,"eventId"],min:[1,"min"],noMaybe:[1,"noMaybe"],noTime:[1,"noTime"],onlyWithMe:[1,"onlyWithMe"],trimPast:[1,"trimPast"]},exportAs:["appResultView"]});let n=t;return n})();var ye=D2(G2());var P0=class{static getColorByType(t){switch(t){case E.Ready:return"primary";case E.Maybe:return"warning";case E.Time:return"success"}}static getIconByType(t){switch(t){case E.Ready:return"checkmark-outline";case E.Maybe:return"help-outline";case E.Time:return"time-outline"}}};var m2={Member:{en:"member",ru:"\u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A"},NoData:{en:"No data, try to change filters",ru:"\u041F\u0443\u0441\u0442\u043E, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u044B"},NoTimeOverlap:{en:"No time overlap",ru:"\u041D\u0435\u0442 \u043E\u0431\u0449\u0435\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438"}};var C5=()=>[0,1];function S5(n,t){if(n&1&&($3(0),h(1,"h3"),f(2),w(3,"date"),g(),Q3()),n&2){let e=t.ngIf,o=y(3);d(2),C(" ",X3(3,1,o.resultDate.date,e.dateFormat,void 0,e.localize)," ")}}function L5(n,t){if(n&1&&(h(0,"ion-chip",6),L(1,"ion-icon",9),h(2,"ion-label"),f(3),w(4,"localize"),g()()),n&2){let e=y(3);d(3),C(" ",k(4,1,e.ResultViewLocalize.NoTimeOverlap)," ")}}function B5(n,t){if(n&1&&(h(0,"ion-chip",7),L(1,"ion-icon",10),h(2,"ion-label"),f(3),w(4,"date"),w(5,"date"),g()()),n&2){let e=y(3);x("color",e.Helpers.getColorByType(e.resultDate.voteType)),d(),x("name",e.Helpers.getIconByType(e.resultDate.voteType)),d(2),V1(" ",e.resultDate.start?d1(4,4,e.resultDate.start,"HH:mm"):"00:00"," - ",e.resultDate.end?d1(5,7,e.resultDate.end,"HH:mm"):"23:59"," ")}}function _5(n,t){if(n&1&&(h(0,"ion-text",11),f(1),g()),n&2){let e=y().$implicit;d(),C(" ",e.username?"@"+e.username:e.fullName," ")}}function V5(n,t){if(n&1&&f(0),n&2){let e=y().$implicit;C(" ",e.fullName," ")}}function A5(n,t){if(n&1&&(h(0,"ion-label"),u1(1,_5,2,1,"ion-text",11)(2,V5,1,1),g()),n&2){let e=t.$implicit,o=y(3);d(),x1(o.timeModeIndexes.has(e.index)?1:2)}}function b5(n,t){if(n&1&&(h(0,"ion-text",12),f(1),w(2,"date"),w(3,"date"),g()),n&2){let e=y().$implicit,o=y(3);x("color",o.Helpers.getColorByType(e.voteType)),d(),V1(" ",e.start?d1(2,3,e.start,"HH:mm"):"00:00"," - ",e.end?d1(3,6,e.end,"HH:mm"):"23:59"," ")}}function H5(n,t){if(n&1&&L(0,"ion-icon",13),n&2){let e=y().$implicit,o=y(3);x("color",o.Helpers.getColorByType(e.voteType))("icon",o.Helpers.getIconByType(e.voteType))}}function O5(n,t){if(n&1&&u1(0,b5,4,9,"ion-text",12)(1,H5,1,2,"ion-icon",13),n&2){let e=t.$implicit,o=y(3);x1(o.timeModeIndexes.has(e.index)?0:1)}}function T5(n,t){if(n&1){let e=$();h(0,"div",4),i1(1,S5,4,6,"ng-container",5),w(2,"async"),u1(3,L5,5,3,"ion-chip",6)(4,B5,6,10,"ion-chip",7),g(),h(5,"app-users-list",8),b("userClicked",function(i){V(e);let a=y(2);return A(a.toggleUserMode(i.user))})("searchFocused",function(i){V(e),y(2);let a=N(1);return A(a.backdropDismiss=!i)}),i1(6,A5,3,1,"ng-template",null,1,x2)(8,O5,2,1,"ng-template",null,2,x2),g()}if(n&2){let e=y(2);d(),x("ngIf",k(2,4,e.dateFormat$)),d(2),x1(e.resultDate.noTimeOverlap?3:4),d(2),x("users",e.resultDate.users)("clickable",!0)}}function E5(n,t){if(n&1&&u1(0,T5,10,6),n&2){let e=y();x1(e.resultDate?0:-1)}}var S4=(()=>{let t=class t{constructor(){this.ionModal=h0(G1),this.timeModeIndexes=new Set,this.Helpers=P0,this.localizeService=p(M1),this.ResultViewLocalize=m2,this.dateFormat$=this.localizeService.localizeLongDateFormat$}present(o){let i=this.ionModal();i&&(this.resultDate=o,o.users=o.users.map((a,s)=>b1(s1({},a),{index:s})),i.present())}clearData(){this.resultDate=void 0,this.timeModeIndexes=new Set}toggleUserMode(o){let i=o.index;this.timeModeIndexes.has(i)?this.timeModeIndexes.delete(i):this.timeModeIndexes.add(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-result-date-info-modal"]],viewQuery:function(i,a){i&1&&s0(a.ionModal,G1,5),i&2&&M0()},decls:3,vars:3,consts:[["modal",""],["altLabel",""],["end",""],[3,"ionModalDidDismiss","initialBreakpoint","breakpoints"],[1,"header"],[4,"ngIf"],["color","danger"],[1,"ion-activated",3,"color"],[3,"userClicked","searchFocused","users","clickable"],["name","alert-circle-outline"],[3,"name"],["color","medium"],[1,"user-time-info",3,"color"],[3,"color","icon"]],template:function(i,a){if(i&1){let s=$();h(0,"ion-modal",3,0),b("ionModalDidDismiss",function(){return V(s),A(a.clearData())}),i1(2,E5,1,1,"ng-template"),g()}i&2&&x("initialBreakpoint",1)("breakpoints",T1(2,C5))},dependencies:[k1,z0,l1,f1,K2,K1,y0,c1,f4,G1,Q2],styles:["ion-modal[_ngcontent-%COMP%]{--height: auto}ion-modal[_ngcontent-%COMP%]   app-users-list[_ngcontent-%COMP%]{height:52.25vh;padding:0 1rem 1rem}.header[_ngcontent-%COMP%]{padding:2rem 2rem .5rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;column-gap:.5rem;row-gap:.25rem}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{pointer-events:none;margin:0}.user-time-info[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:-1px}"]});let n=t;return n})();var ze=(()=>{let t=class t{get rootEl(){return this.elRef.nativeElement.shadowRoot}constructor(){this.data=p(j0),this.elRef=p(f0),this.rootObs=new MutationObserver(()=>{let o=this.rootEl.querySelectorAll("button.calendar-day");this.dateButtons$.next(Array.from(o))}),this.dateButtons$=new w2(1),this.voteDateSelected$=this.dateButtons$.pipe(F(o=>{let i=o.map(a=>H1(a,"click",{capture:!0}).pipe(Q(s=>s.stopPropagation()),I(()=>a)));return B1(...i)}),X0((o,i)=>!this.noActionsAfterReset&&o===i),I(o=>this.getDateSelectedEvent(o)),I(o=>o.voteDate?o:void 0),R1(void 0),D3(),Q(([o,i])=>this.handleButtonStyles(o,i)),I(([o,i])=>i?.voteDate),Q(()=>this.noActionsAfterReset=!1)),this.noActionsAfterReset=!0,this.dateSelected=B1(this.voteDateSelected$,this.getResetDateEvent(this.dateButtons$),this.getResetDateEvent(q1(this.data.filteredDates)))}ngAfterViewInit(){this.rootObs.observe(this.rootEl,{childList:!0,subtree:!0})}ngOnDestroy(){this.dateButtons$.complete(),this.rootObs.disconnect()}getResetDateEvent(o){return o.pipe(Q(()=>this.noActionsAfterReset=!0),I(()=>{}))}getDateSelectedEvent(o){let i=Number(o.getAttribute("data-day")),a=Number(o.getAttribute("data-month")),s=Number(o.getAttribute("data-year")),r=new Date(s,a-1,i);return{prevBgColor:o.style.backgroundColor,prevColor:o.style.color,voteDate:this.data.getVoteDate(r),buttonEl:o}}handleButtonStyles(o,i){if(o&&!this.noActionsAfterReset){let a=o.buttonEl;a.style.backgroundColor=`${o.prevBgColor} !important`,a.style.color=`${o.prevColor} !important`}if(i){let a=i.buttonEl;a.style.backgroundColor=`${a.style.color} !important`,a.style.color="var(--ion-color-contrast) !important"}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=w1({type:t,selectors:[["","appResultViewCalendarPicker",""]],outputs:{dateSelected:"dateSelected"}});let n=t;return n})();function D5(n,t){if(n&1){let e=$();h(0,"div",4)(1,"ion-item",5),b("click",function(){let i=V(e).ngIf;y();let a=N(6);return A(a.present(i))}),L(2,"ion-icon",6),h(3,"ion-label"),f(4),w(5,"date"),g(),h(6,"ion-note",7),f(7),w(8,"localizeMany"),g()()()}if(n&2){let e=t.ngIf,o=y();d(2),x("color",e.noTimeOverlap?"danger":o.Helpers.getColorByType(e.voteType))("name",o.Helpers.getIconByType(e.voteType)),d(2),C(" ",d1(5,5,e.date,"dd.MM.yyyy")," "),d(3),V1(" ",e.users.length," ",d1(8,8,o.ResultViewLocalize.Member,e.users.length)," ")}}var Ce=(()=>{let t=class t{constructor(){this.minDate=q(),this.maxDate=q(),this.ionDateComponent=h0(Z1),this.data=p(j0),this.Helpers=P0,this.ResultViewLocalize=m2,this.selectedDate=Z(void 0),this.localizeService=p(M1),this.localizeFormat$=this.localizeService.localizationWithFormat$,F2(()=>{let o=this.ionDateComponent(),i=this.data.filteredDates();if(o)if(i.length===0){o.highlightedDates=[];return}else{let a=(0,ye.groupBy)(i,"voteType"),s=a[E.Ready]??[],r=a[E.Maybe]??[],l=a[E.Time]??[];o.highlightedDates=[...s.map(c=>({date:this.data.formatVoteDate(c.date),textColor:"var(--ready-text-color) !important",backgroundColor:"var(--ready-bg-color) !important"})),...r.map(c=>({date:this.data.formatVoteDate(c.date),textColor:"var(--maybe-text-color) !important",backgroundColor:"var(--maybe-bg-color) !important"})),...l.map(c=>({date:this.data.formatVoteDate(c.date),textColor:"var(--time-text-color) !important",backgroundColor:"var(--time-bg-color) !important"}))]}else return})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-result-view-calendar"]],viewQuery:function(i,a){i&1&&s0(a.ionDateComponent,Z1,5),i&2&&M0()},inputs:{minDate:[1,"minDate"],maxDate:[1,"maxDate"]},decls:7,vars:7,consts:[["infoModal",""],[1,"calendar-header"],["appResultViewCalendarPicker","","presentation","date","mode","ios",3,"dateSelected","firstDayOfWeek","min","max","locale"],["class","calendar-footer",4,"ngIf"],[1,"calendar-footer"],["button","","lines","none",3,"click"],["slot","start",3,"color","name"],["slot","end"]],template:function(i,a){if(i&1){let s=$();h(0,"div"),L(1,"div",1),h(2,"ion-datetime",2),w(3,"async"),b("dateSelected",function(l){return V(s),A(a.selectedDate.set(l))}),g(),i1(4,D5,9,11,"div",3),g(),L(5,"app-result-date-info-modal",null,0)}i&2&&(d(2),x("firstDayOfWeek",1)("min",a.minDate()??void 0)("max",a.maxDate()??void 0)("locale",k(3,5,a.localizeFormat$)),d(2),x("ngIf",a.selectedDate()))},dependencies:[k1,z0,l1,f1,E1,L0,K1,y0,_0,Z1,S4,ze],styles:[".calendar-header[_ngcontent-%COMP%]{background-color:var(--ion-color-light, #f4f5f8);border-top-left-radius:.5rem;border-top-right-radius:.5rem;width:100%;height:.5rem}ion-datetime[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem}.calendar-footer[_ngcontent-%COMP%]{background-color:var(--ion-color-light, #f4f5f8);border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem;padding-bottom:.25rem}.calendar-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent}"],changeDetection:0});let n=t;return n})();function j5(n,t){if(n&1){let e=$();h(0,"ion-item",4),b("click",function(){let i=V(e).$implicit;y();let a=N(5);return A(a.present(i))}),L(1,"ion-icon",5),h(2,"ion-label"),f(3),w(4,"date"),g(),h(5,"ion-note",6),f(6),w(7,"localizeMany"),g()()}if(n&2){let e=t.$implicit,o=t.$index,i=t.$count,a=y();x("lines",o===i-1?"none":""),d(),x("color",e.noTimeOverlap?"danger":a.Helpers.getColorByType(e.voteType))("name",a.Helpers.getIconByType(e.voteType)),d(2),C(" ",d1(4,6,e.date,"dd.MM.yyyy")," "),d(3),V1(" ",e.users.length," ",d1(7,9,a.ResultViewLocalize.Member,e.users.length)," ")}}function P5(n,t){if(n&1&&(h(0,"ion-item",3),L(1,"ion-icon",7),h(2,"ion-note",8),f(3),w(4,"localize"),g()()),n&2){let e=y();d(3),C(" ",k(4,1,e.ResultViewLocalize.NoData)," ")}}var Se=(()=>{let t=class t{constructor(){this.data=p(j0),this.filteredDates=this.data.filteredDates,this.Helpers=P0,this.ResultViewLocalize=m2}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-result-view-list"]],decls:6,vars:1,consts:[["infoModal",""],["mode","ios"],["button","",3,"lines"],["lines","none"],["button","",3,"click","lines"],["slot","start",3,"color","name"],["slot","end"],["slot","start","name","calendar-clear-outline","color","medium"],[1,"no-data"]],template:function(i,a){i&1&&(h(0,"ion-list",1),t2(1,j5,8,12,"ion-item",2,Z0,!1,P5,5,3,"ion-item",3),g(),L(4,"app-result-date-info-modal",null,0)),i&2&&(d(),e2(a.filteredDates()))},dependencies:[k1,l1,f1,J1,E1,L0,y0,c1,_0,S4],styles:["ion-list[_ngcontent-%COMP%]{background:var(--ion-color-light, #f4f5f8);border-radius:.5rem;padding-block:.25rem}ion-item[_ngcontent-%COMP%]{--background: transparent}.no-data[_ngcontent-%COMP%]{font-size:.9rem;line-height:.9rem}"],changeDetection:0});let n=t;return n})();var L4={Results:{en:"Results",ru:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B"},Vote:{en:"Vote",ru:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0434\u0430\u0442\u044B"},LeaveQuestion:{en:"Leave this page?",ru:"\u041F\u043E\u043A\u0438\u043D\u0443\u0442\u044C \u044D\u0442\u0443 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443?"},LoseUnsaved:{en:"You have unsaved changes",ru:"\u0415\u0441\u0442\u044C \u043D\u0435\u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"}};function I5(n,t){n&1&&L(0,"app-result-view-list")}function F5(n,t){if(n&1&&L(0,"app-result-view-calendar",16),n&2){y();let e=Y1(3);x("minDate",e==null?null:e.starts)("maxDate",e==null?null:e.ends)}}var Le=(()=>{let t=class t{constructor(){this.eventId=q.required(),this.mainInfoComponent=h0(M4),this.voteCalendarComponent=h0(C4),this.alreadyInit=!1,this.preventLeave=!1,this.tg=p(y1),this.confirm=p(P1),this.local=p(M1),this.ViewPick=p0,this.VotePageLocalize=L4}ionViewWillEnter(){this.alreadyInit?(this.mainInfoComponent()?.refreshInfo(),this.voteCalendarComponent()?.resetDates$.next(!0)):this.alreadyInit=!0}ionViewDidLeave(){this.tg.toggleClosingConfirm(!1)}canDeactivate(){let o=this.local.localizeSync(L4.LeaveQuestion),i=this.local.localizeSync(L4.LoseUnsaved);return this.preventLeave?this.confirm.createConfirm({header:o,message:i}):x0(!0)}onNoUnsavedChanges(o){this.preventLeave=!o,this.tg.toggleClosingConfirm(!o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-vote-event-page"]],viewQuery:function(i,a){i&1&&(s0(a.mainInfoComponent,M4,5),s0(a.voteCalendarComponent,C4,5)),i&2&&M0(2)},hostAttrs:[1,"app-page-inner"],inputs:{eventId:[1,"eventId"]},decls:30,vars:27,consts:[["eventMainInfo",""],["filters",""],["viewPicker",""],["resLoading","appFeatureLoad","result","appResultView"],[1,"ion-padding"],["appFeatureLoad","","placeholderOpacity","0.85",3,"eventId"],["mode","ios"],["value","vote","contentId","vote"],["value","info","contentId","info"],["id","vote"],[1,"segment-view-content"],["appFeatureLoad","","placeholderOpacity","0.75",3,"noUnsavedChanges","voteUpdated","eventId","minDate","maxDate"],["id","info"],[3,"disabled","maxMembers","maxOverlap"],[3,"refresh","disabled"],["appFeatureLoad","","placeholderOpacity","0.75","appResultView","",3,"viewPick","eventId","min","noMaybe","noTime","onlyWithMe","trimPast"],[3,"minDate","maxDate"]],template:function(i,a){if(i&1){let s=$();h(0,"ion-content",4),L(1,"app-event-main-info",5,0),N1(3),h(4,"ion-segment",6)(5,"ion-segment-button",7)(6,"ion-label"),f(7),w(8,"localize"),g()(),h(9,"ion-segment-button",8)(10,"ion-label"),f(11),w(12,"localize"),g()()(),h(13,"ion-segment-view",6)(14,"ion-segment-content",9)(15,"div",10)(16,"app-vote-calendar",11),b("noUnsavedChanges",function(l){return V(s),A(a.onNoUnsavedChanges(l))})("voteUpdated",function(l){V(s);let c=N(2),m=N(27);return l.alreadyVoted||c.refreshUsers(),A(m.refresh())}),g()()(),h(17,"ion-segment-content",12)(18,"div",10),L(19,"app-result-filters",13,1),w(21,"async"),h(22,"app-result-view-picker-control",14,2),w(24,"async"),b("refresh",function(){V(s);let l=N(27);return A(l.refresh())}),g(),h(25,"app-result-view-picker-container",15,3),u1(28,I5,1,0,"app-result-view-list")(29,F5,1,2,"app-result-view-calendar",16),g()()()()()}if(i&2){let s,r,l=N(2),c=N(20),m=N(23),v=N(26),B=N(27);d(),x("eventId",a.eventId()),d(2);let z=k0(l.info()),M=l.users();d(4),C(" ",k(8,19,a.VotePageLocalize.Vote)," "),d(4),C(" ",k(12,21,a.VotePageLocalize.Results)," "),d(5),x("eventId",a.eventId())("minDate",z==null?null:z.starts)("maxDate",z==null?null:z.ends),d(3),x("disabled",k(21,23,v.loading$))("maxMembers",(M==null?null:M.length)??0)("maxOverlap",(s=B.info())==null?null:s.maxOverlap),d(3),x("disabled",k(24,25,v.loading$)),d(3),x("viewPick",m.value())("eventId",a.eventId())("min",c.membersCount())("noMaybe",c.noMaybe())("noTime",c.noTime())("onlyWithMe",c.onlyWithMe())("trimPast",c.trimPast()),d(3),x1((r=m.value())===a.ViewPick.List?28:r===a.ViewPick.Calendar?29:-1)}},dependencies:[X2,Y2,l1,K1,c1,C4,M4,Kt,xe,Me,Se,Ce,j0,b6,k6,z6,y6,b0],styles:["ion-segment[_ngcontent-%COMP%]{margin:1rem 0 .5rem;background:var(--ion-color-light, #f4f5f8)}ion-segment-button[_ngcontent-%COMP%]:before{content:none!important}ion-segment-view[_ngcontent-%COMP%]{height:auto}.segment-view-content[_ngcontent-%COMP%]{padding:.25rem .75rem 1.25rem;display:flex;flex-direction:column;gap:.75rem}"],changeDetection:0});let n=t;return n})();var L3={Name:{en:"Event name",ru:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},Starts:{en:"Starts",ru:"\u041D\u0430\u0447\u0430\u043B\u043E"},Ends:{en:"Ends",ru:"\u041A\u043E\u043D\u0435\u0446"},Description:{en:"Description",ru:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},NamePlaceholder:{en:"Enter name",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},DescriptionPlaceholder:{en:"Enter description",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},SaveEvent:{en:"Save event",ru:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435"},HasBeenSaved:{en:"All changes have been saved successfully",ru:"\u0412\u0441\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B"}};var Be=(()=>{let t=class t{constructor(){this.baseUrl="events",this.http=p(C0)}getEventInfo(o){return this.http.get(`${this.baseUrl}/info/${o}`)}createEvent(o){return this.http.post(this.baseUrl,o).pipe(I(i=>i.id))}updateEvent(o,i){return this.http.patch(`${this.baseUrl}/${o}`,i).pipe(I(a=>a.id))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r1({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var _e=()=>[0,1];function R5(n,t){if(n&1&&(L(0,"ion-datetime",13),w(1,"async")),n&2){let e=y();x("firstDayOfWeek",1)("locale",k(1,2,e.localizeFormat$))}}function N5(n,t){if(n&1&&(L(0,"ion-datetime",14),w(1,"async")),n&2){let e=y();x("firstDayOfWeek",1)("locale",k(1,2,e.localizeFormat$))}}function q5(n,t){n&1&&L(0,"ion-spinner",11)}function U5(n,t){if(n&1&&L(0,"ion-icon",12),n&2){let e=y();x("name",e.eventId()?"checkmark-outline":"add-outline")}}var Ve=(()=>{let t=class t{constructor(){this.eventId=q(),this.startVal=h1(new Date,"yyyy-MM-dd"),this.endVal=h1(k4(new Date,1),"yyyy-MM-dd"),this.eventFormGroup=new g6({name:new M2("",N2.required),starts:new M2(this.startVal,N2.required),ends:new M2(this.endVal,N2.required),description:new M2("")}),this.startDate=B0(this.eventFormGroup.controls.starts.valueChanges,{initialValue:this.startVal}),this.endDate=B0(this.eventFormGroup.controls.ends.valueChanges,{initialValue:this.endVal}),this.isDatesInvalid=g1(()=>{let o=new Date(this.startDate()),i=new Date(this.endDate());return o>=i}),this.local=p(M1),this.localizeFormat$=this.local.localizationWithFormat$,this.EditEventFormLocalize=L3,this.router=p(S0),this.activatedRoute=p(a6),this.toast=p(t0),this.request=p(Be),this.loading$=new J,this.eventInfo$=q1(this.eventId).pipe(Q(()=>this.eventFormGroup.disable()),F(o=>o?this.request.getEventInfo(o):x0(null)),Q(()=>this.eventFormGroup.enable()),_1(1)),this.noUnsavedChanges=O3([this.eventFormGroup.valueChanges,this.eventInfo$]).pipe(I(([o,i])=>i?Object.entries(o).every(([a,s])=>i[a]===s):!1),R1(!0),_1(1)),this.destroyed$=new J}ngOnInit(){this.eventInfo$.pipe(G0(o=>o!==null),Q1(this.destroyed$)).subscribe(o=>{this.eventFormGroup.patchValue({name:o.name,starts:o.starts,ends:o.ends,description:o.description})})}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}saveChanges(){let o=this.eventId(),i=this.eventFormGroup.getRawValue(),a=o?this.request.updateEvent(o,i):this.request.createEvent(i);this.eventFormGroup.disable(),a.pipe(n0(1)).subscribe(s=>{this.eventFormGroup.enable();let r=this.local.localizeSync(L3.HasBeenSaved);this.toast.info(r,"cloud-done-outline"),this.updateIdQueryParam(s)})}updateIdQueryParam(o){let i={queryParams:{eventId:o},relativeTo:this.activatedRoute,queryParamsHandling:"merge"};this.router.navigate([],i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-edit-event-form"]],inputs:{eventId:[1,"eventId"]},outputs:{noUnsavedChanges:"noUnsavedChanges"},decls:39,vars:40,consts:[["startDateModal",""],["endDateModal",""],["mode","ios",3,"inset","formGroup"],["color","dark","slot","end","formControlName","name",3,"placeholder"],[3,"click"],["datetime","datetimeStart"],[1,"event-datetime-modal",3,"keepContentsMounted","initialBreakpoint","breakpoints"],["datetime","datetimeEnd"],["lines","none",1,"notes-item"],["color","dark","slot","end","formControlName","description",3,"autoGrow","placeholder"],["mode","ios","expand","block",1,"save-changes-button",3,"click","disabled"],["mode","ios","slot","start"],["slot","start",3,"name"],["id","datetimeStart","formControlName","starts","presentation","date","mode","ios",3,"firstDayOfWeek","locale"],["id","datetimeEnd","formControlName","ends","presentation","date","mode","ios",3,"firstDayOfWeek","locale"]],template:function(i,a){if(i&1){let s=$();N1(0),w(1,"async"),N1(2),w(3,"async"),h(4,"ion-list",2)(5,"ion-item")(6,"ion-label"),f(7),w(8,"localize"),g(),L(9,"ion-input",3),w(10,"localize"),g(),h(11,"ion-item",4),b("click",function(){V(s);let l=N(17);return A(l.present())}),h(12,"ion-label"),f(13),w(14,"localize"),g(),L(15,"ion-datetime-button",5),h(16,"ion-modal",6,0),i1(18,R5,2,4,"ng-template"),g()(),h(19,"ion-item",4),b("click",function(){V(s);let l=N(25);return A(l.present())}),h(20,"ion-label"),f(21),w(22,"localize"),g(),L(23,"ion-datetime-button",7),h(24,"ion-modal",6,1),i1(26,N5,2,4,"ng-template"),g()(),h(27,"ion-item",8)(28,"ion-label"),f(29),w(30,"localize"),g(),L(31,"ion-textarea",9),w(32,"localize"),g()(),h(33,"ion-button",10),b("click",function(){return V(s),A(a.saveChanges())}),u1(34,q5,1,0,"ion-spinner",11)(35,U5,1,1,"ion-icon",12),h(36,"ion-label"),f(37),w(38,"localize"),g()()}if(i&2){let s,r=a.eventFormGroup.disabled,l=((s=k(1,20,a.eventInfo$))==null?null:s.canEdit)!==!1,c=k(3,22,a.noUnsavedChanges);d(4),O1("form-disabled",r),x("inset",!0)("formGroup",a.eventFormGroup),d(3),C(" ",k(8,24,a.EditEventFormLocalize.Name)," "),d(2),x("placeholder",k(10,26,a.EditEventFormLocalize.NamePlaceholder)),d(4),C(" ",k(14,28,a.EditEventFormLocalize.Starts)," "),d(3),x("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",T1(38,_e)),d(5),C(" ",k(22,30,a.EditEventFormLocalize.Ends)," "),d(3),x("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",T1(39,_e)),d(5),C(" ",k(30,32,a.EditEventFormLocalize.Description)," "),d(2),x("autoGrow",!0)("placeholder",k(32,34,a.EditEventFormLocalize.DescriptionPlaceholder)),d(2),x("disabled",!l||r||c||a.eventFormGroup.invalid||a.isDatesInvalid()),d(),x1(r?34:35),d(3),C(" ",k(38,36,a.EditEventFormLocalize.SaveEvent)," ")}},dependencies:[k1,l1,X1,f1,J1,E1,K1,c1,_6,G1,Z1,M6,H6,C6,p6,o2,d6,v6,m6],styles:["ion-list[_ngcontent-%COMP%]{padding:.5rem .25rem .75rem;background:var(--ion-color-light, #f4f5f8)}.form-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .form-disabled[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{opacity:.5!important}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:1.25rem .5rem 1.25rem 0}ion-textarea[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{text-align:end;margin-right:.25rem;width:60%!important}.notes-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:auto}.notes-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{margin-top:.6rem}.save-changes-button[_ngcontent-%COMP%]{margin:.5rem 1rem}.save-changes-button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-left:-.25rem;margin-inline-end:.5rem}.save-changes-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;margin-inline-end:.5rem}.save-changes-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{line-height:1.75rem}  .event-datetime-modal{--max-width: 600px;--height: auto !important}  .event-datetime-modal .ion-delegate-host{padding:1rem 1.75rem 1.5rem!important;background-color:var(--ion-color-light, #f4f5f8)!important}  .event-datetime-modal ion-datetime{width:100%!important}"]});let n=t;return n})();var H2={CreateEvent:{en:"Create event",ru:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435"},EditEvent:{en:"Edit event",ru:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435"},Link:{en:"Link",ru:"\u0421\u0441\u044B\u043B\u043A\u0430"},Share:{en:"Share",ru:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F"},GoTo:{en:"Go to",ru:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438"},ClipboardLink:{en:"Link to event was copied to clipboard",ru:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0441\u043E\u0431\u044B\u0442\u0438\u0435 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430"},LeaveQuestion:{en:"Leave this page?",ru:"\u041F\u043E\u043A\u0438\u043D\u0443\u0442\u044C \u044D\u0442\u0443 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443?"},LoseUnsaved:{en:"You have unsaved changes",ru:"\u0415\u0441\u0442\u044C \u043D\u0435\u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"}};function W5(n,t){if(n&1){let e=$();h(0,"div",5)(1,"ion-button",6),b("click",function(){V(e);let i=y();return A(i.copyToClipboard())}),L(2,"ion-icon",7),h(3,"span"),f(4),w(5,"localize"),g()(),h(6,"ion-button",6),b("click",function(){V(e);let i=y();return A(i.share())}),L(7,"ion-icon",8),h(8,"span"),f(9),w(10,"localize"),g()(),h(11,"ion-button",6),b("click",function(){V(e);let i=y();return A(i.redirectToEvent())}),L(12,"ion-icon",9),h(13,"span"),f(14),w(15,"localize"),g()()()}if(n&2){let e=y(),o=N(5);O1("disabled",o.eventFormGroup.disabled),d(4),C(" ",k(5,5,e.EditEventPageLocalize.Link)," "),d(5),C(" ",k(10,7,e.EditEventPageLocalize.Share)," "),d(5),C(" ",k(15,9,e.EditEventPageLocalize.GoTo)," ")}}var Ae=(()=>{let t=class t{constructor(){this.eventId=q(),this.router=p(S0),this.toast=p(t0),this.tg=p(y1),this.confirm=p(P1),this.local=p(M1),this.EditEventPageLocalize=H2,this.preventLeave=!1}ionViewDidLeave(){this.tg.toggleClosingConfirm(!1)}canDeactivate(){let o=this.local.localizeSync(H2.LeaveQuestion),i=this.local.localizeSync(H2.LoseUnsaved);return this.preventLeave?this.confirm.createConfirm({header:o,message:i}):x0(!0)}onNoUnsavedChanges(o){this.preventLeave=!o,this.tg.toggleClosingConfirm(!o)}copyToClipboard(){this.tg.getEventTgLink(this.eventId()).pipe(F(o=>j2(navigator.clipboard.writeText(o))),n0(1)).subscribe(()=>{let o=this.local.localizeSync(H2.ClipboardLink);this.toast.light(o,"clipboard-outline")})}share(){this.eventId()&&this.tg.shareEvent(this.eventId())}redirectToEvent(){this.router.navigate(["vote",this.eventId()])}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-edit-event-page"]],hostAttrs:[1,"app-page-inner"],inputs:{eventId:[1,"eventId"]},decls:7,vars:5,consts:[["form",""],[1,"ion-padding"],[1,"title"],[3,"noUnsavedChanges","eventId"],["class","done-actions",3,"disabled",4,"ngIf"],[1,"done-actions"],["mode","ios","size","small","color","light",3,"click"],["name","link-outline","slot","start"],["name","arrow-redo-outline","slot","start"],["name","arrow-forward","slot","end"]],template:function(i,a){if(i&1){let s=$();h(0,"ion-content",1)(1,"h3",2),f(2),w(3,"localize"),g(),h(4,"app-edit-event-form",3,0),b("noUnsavedChanges",function(l){return V(s),A(a.onNoUnsavedChanges(l))}),g(),i1(6,W5,16,11,"div",4),g()}i&2&&(d(2),C(" ",k(3,3,a.eventId()?a.EditEventPageLocalize.EditEvent:a.EditEventPageLocalize.CreateEvent)," "),d(2),x("eventId",a.eventId()),d(2),x("ngIf",a.eventId()))},dependencies:[X2,z0,Y2,f1,c1,Ve,X1],styles:[".title[_ngcontent-%COMP%]{margin-left:1.25rem;margin-bottom:1rem}.done-actions[_ngcontent-%COMP%]{margin:.925rem;display:flex;flex-wrap:wrap;justify-content:space-between;gap:.5rem}.done-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;--padding-top: .6rem;--padding-bottom: .6rem;--border-radius: .75rem}.done-actions.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"]});let n=t;return n})();var be=[{path:"edit",component:Ae,canDeactivate:[n=>n.canDeactivate()]},{path:"vote/:eventId",component:Le,canDeactivate:[n=>n.canDeactivate()]},{path:"not-found",loadComponent:()=>import("./chunk-QTSUK2KS.js").then(n=>n.NotFoundPageComponent)},{path:"not-permitted",loadComponent:()=>import("./chunk-RCUHG6GK.js").then(n=>n.NotPermittedPageComponent)},{path:"",redirectTo:"edit",pathMatch:"full"},{path:"**",redirectTo:"not-found"}];var B3,$5=function(){if(typeof window>"u")return new Map;if(!B3){var n=window;n.Ionicons=n.Ionicons||{},B3=n.Ionicons.map=n.Ionicons.map||new Map}return B3},_3=function(n){Object.keys(n).forEach(function(t){He(t,n[t]);var e=t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();t!==e&&He(e,n[t])})},He=function(n,t){var e=$5(),o=e.get(n);o===void 0?e.set(n,t):o!==t&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(n,'". Ensure that multiple icons are not mapped to the same icon name.'))};var Oe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Te="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 367.91a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>";var Ee="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>";var De="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256L272 88v96C103.57 184 64 304.77 64 424c48.61-62.24 91.6-96 208-96v96z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var je="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-miterlimit='10' d='M108.92 108.92l294.16 294.16' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Pe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Ie="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='296' cy='232' r='24'/><circle cx='376' cy='232' r='24'/><circle cx='296' cy='312' r='24'/><circle cx='376' cy='312' r='24'/><circle cx='136' cy='312' r='24'/><circle cx='216' cy='312' r='24'/><circle cx='136' cy='392' r='24'/><circle cx='216' cy='392' r='24'/><circle cx='296' cy='392' r='24'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' d='M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Fe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Re="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";var Ne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 64h32a48 48 0 0148 48v320a48 48 0 01-48 48H144a48 48 0 01-48-48V112a48 48 0 0148-48h32' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='176' y='32' width='160' height='64' rx='26.13' ry='26.13' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var qe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Ue="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 240c-8.89-89.54-71-144-144-144-69 0-113.44 48.2-128 96-60 6-112 43.59-112 112 0 66 54 112 120 112h260c55 0 100-27.44 100-88 0-59.82-53-85.76-96-88z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M317 208L209.2 336 163 284.8' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var We="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>";var $e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='256' cy='416' r='48'/><circle cx='256' cy='96' r='48'/></svg>";var Qe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324' stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' class='ionicon-fill-none'/><circle cx='248' cy='399.99' r='32'/></svg>";var Ye="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>";var Ke="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Ge="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Xe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Je="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='128' cy='256' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='112' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='400' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M169.83 279.53l172.34 96.94M342.17 135.53l-172.34 96.94' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Ze="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 128v144h96' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var t8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var e8=(()=>{let t=class t{constructor(){this.tg=p(y1),this.theme=p(T6),this.destroyed$=new J,_3({chevronForwardOutline:Re,checkmarkOutline:Fe,timeOutline:Ze,helpOutline:Qe,removeOutline:Xe,closeOutline:qe,refreshOutline:Ge,calendarOutline:Ie,listOutline:Ke,calendarClearOutline:Pe,clipboardOutline:Ne,arrowRedoOutline:De,linkOutline:Ye,cloudDoneOutline:Ue,ellipsisVertical:$e,shareSocialOutline:Je,createOutline:We,arrowForward:Ee,alertCircleOutline:Te,trashOutline:t8,addOutline:Oe,banOutline:je})}ngOnInit(){this.tg.colorScheme$.pipe(Q1(this.destroyed$)).subscribe(o=>this.theme.changeColorScheme(o))}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=W({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[["mode","md"]],template:function(i,a){i&1&&(h(0,"ion-app"),L(1,"ion-router-outlet",0),g())},dependencies:[x6,u6],encapsulation:2});let n=t;return n})();function Q5(n){let t=n,e=Math.floor(Math.abs(n)),o=n.toString().replace(/^[^.]*\.?/,"").length;return o===0&&e%10===1&&e%100!==11?1:o===0&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:o===0&&e%10===0||o===0&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||o===0&&e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?4:5}var o8=["ru",[["AM","PM"],void 0,void 0],void 0,[["\u0412","\u041F","\u0412","\u0421","\u0427","\u041F","\u0421"],["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"]],void 0,[["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"]],[["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440.","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"]],[["\u0434\u043E \u043D.\u044D.","\u043D.\u044D."],["\u0434\u043E \u043D. \u044D.","\u043D. \u044D."],["\u0434\u043E \u0420\u043E\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043E\u0432\u0430","\u043E\u0442 \u0420\u043E\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043E\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,void 0,void 0],[",","\xA0",";","%","+","-","E","\xD7","\u2030","\u221E","\u043D\u0435\xA0\u0447\u0438\u0441\u043B\u043E",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"RUB","\u20BD","\u0440\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0438\u0439 \u0440\u0443\u0431\u043B\u044C",{BYN:[void 0,"\u0440."],GEL:[void 0,"\u10DA"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUB:["\u20BD"],RUR:["\u0440."],THB:["\u0E3F"],TMT:["\u0422\u041C\u0422"],TWD:["NT$"],UAH:["\u20B4"],XXX:["XXXX"]},"ltr",Q5];t6(o8);o6(e8,{providers:[{provide:s6,useClass:w6},Ht(),S6(),l6(be,c6(r6),h6()),i6(n6([Ot,Et,Dt])),qt(a2.isTelegramMiniApp),W3(()=>p(y1).initApp())]});
