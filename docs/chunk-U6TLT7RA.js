import{b as ae,c as le,d as x,f as L}from"./chunk-GWGWRRFV.js";import{a as y,b as D,c as oe,d as re}from"./chunk-GYOSZ437.js";import{$ as O,Ab as te,Bb as ie,C as n,F as k,Fb as ne,Ga as W,Hb as M,J as z,Na as H,Ra as b,S as d,Sa as $,T as t,Ta as j,U as r,Ua as q,V as s,Va as g,Xa as A,Ya as R,Z as N,_ as f,_a as J,bb as K,g as E,ha as w,hb as S,ja as c,ka as u,kb as Q,lb as U,nb as X,ob as Y,pa as I,pb as Z,ra as a,s as v,sa as l,t as C,u as _,xa as V,zb as ee}from"./chunk-NOG2QBPC.js";import"./chunk-Q6FFIHTR.js";import"./chunk-7KGURMOZ.js";import"./chunk-NKG53MNX.js";import"./chunk-62TPDNO2.js";import"./chunk-7PWDY3UP.js";import"./chunk-JRYKI6H5.js";import"./chunk-GIIU5PV3.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-SPMQWSIB.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-2R6CW7ES.js";var B={Name:{en:"Event name",ru:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},Starts:{en:"Starts",ru:"\u041D\u0430\u0447\u0430\u043B\u043E"},Ends:{en:"Ends",ru:"\u041A\u043E\u043D\u0435\u0446"},Description:{en:"Description",ru:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},NamePlaceholder:{en:"Enter name",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},DescriptionPlaceholder:{en:"Enter description",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},SaveChanges:{en:"Save changes",ru:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"},HasBeenSaved:{en:"All changes have been saved successfully",ru:"\u0412\u0441\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B"}};var me=()=>[0,1];function ue(o,i){if(o&1&&(s(0,"ion-datetime",11),a(1,"async")),o&2){let F=O();d("firstDayOfWeek",1)("locale",l(1,2,F.localizeFormat$))}}function ve(o,i){if(o&1&&(s(0,"ion-datetime",12),a(1,"async")),o&2){let F=O();d("firstDayOfWeek",1)("locale",l(1,2,F.localizeFormat$))}}var se=(()=>{let i=class i{constructor(){this.startOfMonth=x(le(new Date),"yyyy-MM-dd"),this.endOfMonth=x(ae(new Date),"yyyy-MM-dd"),this.eventFormGroup=new q({name:new g(null,b.required),starts:new g(this.startOfMonth,b.required),ends:new g(this.endOfMonth,b.required),description:new g(null)}),this.startDate=L(this.eventFormGroup.controls.starts.valueChanges,{initialValue:this.startOfMonth}),this.endDate=L(this.eventFormGroup.controls.ends.valueChanges,{initialValue:this.endOfMonth}),this.isDatesInvalid=V(()=>{let p=new Date(this.startDate()),m=new Date(this.endDate());return p>=m}),this.localizeService=v(y),this.localizeFormat$=this.localizeService.localizationWithFormat$,this.EditEventFormLocalize=B,this.toast=v(M)}saveChanges(){console.log("save changes",this.eventFormGroup.value),this.localizeService.localize(B.HasBeenSaved).pipe(E(1)).subscribe(p=>this.toast.info(p,"cloud-done-outline"))}};i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=k({type:i,selectors:[["app-edit-event-form"]],decls:32,vars:32,consts:[["startDateModal",""],["endDateModal",""],["mode","ios",3,"formGroup"],["color","dark","slot","end","formControlName","name",3,"placeholder"],[3,"click"],["datetime","datetimeStart"],[1,"event-datetime-modal",3,"keepContentsMounted","initialBreakpoint","breakpoints"],["datetime","datetimeEnd"],["lines","none",1,"notes-item"],["color","dark","slot","end","formControlName","description",3,"autoGrow","placeholder"],["mode","ios","expand","block",1,"save-changes-button",3,"click","disabled"],["id","datetimeStart","formControlName","starts","presentation","date","mode","ios",3,"firstDayOfWeek","locale"],["id","datetimeEnd","formControlName","ends","presentation","date","mode","ios",3,"firstDayOfWeek","locale"]],template:function(m,e){if(m&1){let h=N();t(0,"ion-list",2)(1,"ion-item")(2,"ion-label"),c(3),a(4,"localize"),r(),s(5,"ion-input",3),a(6,"localize"),r(),t(7,"ion-item",4),f("click",function(){C(h);let P=w(13);return _(P.present())}),t(8,"ion-label"),c(9),a(10,"localize"),r(),s(11,"ion-datetime-button",5),t(12,"ion-modal",6,0),z(14,ue,2,4,"ng-template"),r()(),t(15,"ion-item",4),f("click",function(){C(h);let P=w(21);return _(P.present())}),t(16,"ion-label"),c(17),a(18,"localize"),r(),s(19,"ion-datetime-button",7),t(20,"ion-modal",6,1),z(22,ve,2,4,"ng-template"),r()(),t(23,"ion-item",8)(24,"ion-label"),c(25),a(26,"localize"),r(),s(27,"ion-textarea",9),a(28,"localize"),r()(),t(29,"ion-button",10),f("click",function(){return C(h),_(e.saveChanges())}),c(30),a(31,"localize"),r()}m&2&&(d("formGroup",e.eventFormGroup),n(3),u(" ",l(4,16,e.EditEventFormLocalize.Name)," "),n(2),d("placeholder",l(6,18,e.EditEventFormLocalize.NamePlaceholder)),n(4),u(" ",l(10,20,e.EditEventFormLocalize.Starts)," "),n(3),d("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",I(30,me)),n(5),u(" ",l(18,22,e.EditEventFormLocalize.Ends)," "),n(3),d("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",I(31,me)),n(5),u(" ",l(26,24,e.EditEventFormLocalize.Description)," "),n(2),d("autoGrow",!0)("placeholder",l(28,26,e.EditEventFormLocalize.DescriptionPlaceholder)),n(2),d("disabled",e.eventFormGroup.invalid||e.isDatesInvalid()),n(),u(" ",l(31,28,e.EditEventFormLocalize.SaveChanges),`
`))},dependencies:[re,Y,S,Z,X,W,D,ie,K,ee,U,ne,J,$,j,A,R],styles:["ion-list[_ngcontent-%COMP%]{background:transparent}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:1.25rem .5rem 1.25rem 0}ion-textarea[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{text-align:end;margin-right:.25rem;width:60%!important}.notes-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:auto}.notes-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{margin-top:.6rem}.save-changes-button[_ngcontent-%COMP%]{margin:.5rem 1rem}  .event-datetime-modal .ion-delegate-host{padding:.75rem .25rem 2.5rem!important;background-color:var(--ion-color-light, #f4f5f8)!important}"]});let o=i;return o})();var T={Link:{en:"Link",ru:"\u0421\u0441\u044B\u043B\u043A\u0430"},GoTo:{en:"Go to",ru:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438"},ClipboardLink:{en:"Link to created event was copied to clipboard",ru:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u043D\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430"}};var je=(()=>{let i=class i{constructor(){this.router=v(H),this.toast=v(M),this.localizeService=v(y),this.EditEventPageLocalize=T}copyToClipboard(){this.localizeService.localize(T.ClipboardLink).pipe(E(1)).subscribe(p=>this.toast.light(p,"clipboard-outline"))}redirectToEvent(){this.router.navigate(["vote"])}};i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=k({type:i,selectors:[["app-edit-event-page"]],hostAttrs:[1,"app-page-inner"],decls:13,vars:6,consts:[[1,"ion-padding"],[1,"done-actions"],["mode","ios","size","small","color","light",3,"click"],["name","link-outline","slot","start"],["name","arrow-redo-outline","slot","end"]],template:function(m,e){m&1&&(t(0,"ion-content",0),s(1,"app-edit-event-form"),t(2,"div",1)(3,"ion-button",2),f("click",function(){return e.copyToClipboard()}),s(4,"ion-icon",3),t(5,"span"),c(6),a(7,"localize"),r()(),t(8,"ion-button",2),f("click",function(){return e.redirectToEvent()}),s(9,"ion-icon",4),t(10,"span"),c(11),a(12,"localize"),r()()()()),m&2&&(n(6),u(" ",l(7,2,e.EditEventPageLocalize.Link)," "),n(5),u(" ",l(12,4,e.EditEventPageLocalize.GoTo)," "))},dependencies:[oe,Q,te,D,se,S],styles:[".done-actions[_ngcontent-%COMP%]{margin:.5rem 1rem;display:flex;justify-content:space-between;gap:.5rem}.done-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;--padding-top: .6rem;--padding-bottom: .6rem;--border-radius: .75rem}"]});let o=i;return o})();export{je as EditEventPageComponent};
